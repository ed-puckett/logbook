/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,i,s,o={6354:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7537),i=n.n(r),s=n(3645),o=n.n(s)()(i());o.push([e.id,"p,\nh1, h2, h3, h4, h5, h6, h7, h8, h9 {\n    margin-block-start: 0.1em;\n    margin-block-end:   0.1em;\n}\n","",{version:3,sources:["webpack://./src/style-hacks.css"],names:[],mappings:"AAAA;;IAEI,yBAAyB;IACzB,yBAAyB;AAC7B",sourcesContent:["p,\nh1, h2, h3, h4, h5, h6, h7, h8, h9 {\n    margin-block-start: 0.1em;\n    margin-block-end:   0.1em;\n}\n"],sourceRoot:""}]);const a=o},5426:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7537),i=n.n(r),s=n(3645),o=n.n(s)()(i());o.push([e.id,'/* all other stylesheets have been incorporated into this one (except no editor-cell-element) */\n\n/* See settings/theme-settings.js for definition of --theme-* properties */\n\n:root {\n    --input-output-split: 50vw;  /* must specify absolute amount, not %, otherwise .resize-handle will be misaligned */\n\n    --is-stacked: ;  /* is input/output displayed stacked or side-by-side (default) */\n\n    --resize-handle-size:          8px;   /* handle is a downward-pointing triangle with this height and twice this width */\n    --resize-handle-hairline-size: 1px;   /* (half) width of hairline displayed when dragging resize-handle */\n\n    --resize-handle-center-h: calc(var(--input-output-split) + (2 * var(--theme-cl-bdw)));\n}\n\nbody {\n    overflow: hidden;  /* inhibit scrolling for body */\n    margin: 0;\n    background-color: var(--theme-by-bgc);\n}\n\nheader {\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-start;\n\n    height: var(--theme-hd-h);\n    background-color: var(--theme-hd-bgc);\n}\n\nheader > tool-bar {  /* next to menu */\n    visibility: visible;\n    align-self: center;\n\n    max-height: fit-content;\n    padding: 0 0.5em;\n    border: 0;\n    background-color: transparent;  /* use underlying color from header */\n}\n\nmain {\n    margin: 2px 0 0 1px;  /* prevent top and left borders from getting absorbed into surrounding element */\n\n    /* enable scrolling for main element */\n    overflow: auto;\n    max-height: calc(100vh - var(--theme-hd-h));\n    max-width:  100vw;\n}\nmain > :first-child {\n    padding-top: 0;\n}\nmain > :not(:first-child) {\n    padding-top: var(--theme-cl-p-inter);\n}\n\n.cell-container {\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n}\n\n.cell-input-container {\n    overflow: hidden;\n\n    border-width:  var(--theme-cl-bdw);\n    border-radius: var(--theme-cl-bdr);\n    border-style:  var(--theme-cl-bds);\n    border-color:  var(--theme-cl-bdc);\n}\n.cell-container[data-active] .cell-input-container {\n    border-color:  var(--theme-cl-bdc-active);\n}\n.cell-container[data-active]:focus-within .cell-input-container {\n    border-color:  var(--theme-cl-bdc-focus);\n}\n\n.resize-handle {\n    position: absolute;\n    left: calc(var(--resize-handle-center-h) - var(--resize-handle-size));\n    /* form a down-pointing arrow with a centered tip */\n    border-style: solid;\n    border-color: var(--theme-rh-bgc) transparent transparent transparent;\n    border-width: var(--resize-handle-size) var(--resize-handle-size) 0 var(--resize-handle-size);\n }\n.resize-handle:hover,\n.resize-handle.dragging {\n    border-color: var(--theme-rh-bgc-hover) transparent transparent transparent;\n}\n.resize-handle:hover::after,\n.resize-handle.dragging::after {\n    content: " ";\n    position: absolute;\n    left: calc(0px - var(--resize-handle-hairline-size));\n    min-width: calc(2 * var(--resize-handle-hairline-size));\n    max-width: calc(2 * var(--resize-handle-hairline-size));\n    min-height: 100vh;\n    background-color: var(--theme-rh-bgc-hover);\n}\n\n.collapse-cells tool-bar,\n.collapse-cells eval-cell {\n    display: none;\n}\n.collapse-cells .cell-input-container {\n    border: 0;\n}\n\n.cell-input-container {\n    min-width: var(--input-output-split);\n    max-width: var(--input-output-split);\n}\n\n@media screen and (max-width: 40em) {\n    /* responsive: input/output stacked vs side-by-side */\n\n    :root {\n        --is-stacked: yes;\n    }\n\n    .cell-container {\n        flex-direction: column;\n    }\n    .cell-input-container {\n        min-width: unset;\n        max-width: unset;\n    }\n    .resize-handle {\n        display: none;\n    }\n}\n\n.eval-cell-output {\n    display: block;\n    overflow: auto;  /* enable h/v scrolling */\n\n    height: fit-content;\n\n    padding: var(--theme-ou-p);\n    color:            var(--theme-ou-fgc);\n    background-color: var(--theme-ou-bgc);\n}\n.eval-cell-output:empty,\n.eval-cell-output:not(:has(> *:not(:empty))) {\n    display: none;\n}\n\n.plain-text {\n    white-space: pre-wrap;  /* display white-space properly */\n    line-height: 140%;\n}\n\ntool-bar {\n    overflow: hidden;\n\n    visibility: visible;\n\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    gap: var(--theme-tl-g);\n\n    max-height: fit-content;\n    padding: var(--theme-tl-p);\n    border: 0;\n\n    background-color: var(--theme-tl-bgc);\n}\n\neval-cell {\n    overflow: hidden;\n\n    display: block;\n    margin:  0;\n\n    caret-color: var(--theme-cl-ctc);\n    outline: 0px solid transparent;  /* disable default contenteditable outline */\n\n    white-space: pre-wrap;  /* properly display white-space */\n    font-family: var(--theme-cl-ff);\n    line-height: var(--theme-cl-lh);\n\n    color:            var(--theme-cl-fgc);\n    background-color: var(--theme-cl-bgc);\n\n    max-height:   fit-content;\n    padding:      var(--theme-cl-p);\n    border-width: 0;\n    border-top-color:    transparent;\n    border-left-color:   var(--theme-cl-bdc);\n    border-bottom-color: var(--theme-cl-bdc);\n    border-right-color:  var(--theme-cl-bdc);\n\n    border-radius: 0 0 var(--theme-cl-bdr) var(--theme-cl-bdr);\n    border-style:  var(--theme-cl-bds);\n}\n\neval-cell > textarea {\n    color:            var(--theme-cl-fgc);\n    background-color: var(--theme-cl-bgc);\n    resize: none;  /* remove resize control */\n    outline: none;  /* handled by parent eval-cell */\n    width: 100%;\n    padding: 0 0 1px 0;  /* 1px on bottom to prevent "_" from being hidden on bottom line */\n    border: 0;\n    margin: 0;\n}\n\n\n/* color selected by eval-cell input-type */\n\ntool-bar select {\n    border-radius: 0.5rem 0.5rem 0 0 / 30% 30% 0 0;\n    border-width: 0;\n}\n\ntool-bar select,  /* markdown is default */\ntool-bar > select:has(> option[value="markdown"]:checked) {\n    color:            var(--theme-ty-fgc-markdown);\n    background-color: var(--theme-ty-bgc-markdown);\n}\n\ntool-bar > select:has(> option[value="javascript"]:checked) {\n    color:            var(--theme-ty-fgc-javascript);\n    background-color: var(--theme-ty-bgc-javascript);\n}\n\ntool-bar > select:has(> option[value="tex"]:checked) {\n    color:            var(--theme-ty-fgc-tex);\n    background-color: var(--theme-ty-bgc-tex);\n}\n\ntool-bar option {\n    color: initial;  /* setting other color causes poor drop-down list display; seen in Chromium 116 */\n}\n\ntool-bar:has(option),  /* markdown is default */\ntool-bar:has(option[value="markdown"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-markdown);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-markdown) var(--theme-tl-bgc-mix));\n}\n\ntool-bar:has(option[value="javascript"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-javascript);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-javascript) var(--theme-tl-bgc-mix));\n}\n\ntool-bar:has(option[value="tex"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-tex);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-tex) var(--theme-tl-bgc-mix));\n}\n\n\n/* === tool-bar indicators and controls === */\n\ntool-bar > * {\n    margin: 0;  /* pack controls within tool-bar; let flex gap handle spacing */\n}\n\n.tool-bar-indicator {\n    display: block;\n    width:  0.5em;\n    height: 0.5em;\n    margin: 0;\n    padding: 0;\n    border-radius: 50%;\n    border: 1px solid var(--theme-ti-bdc);\n    background-color: var(--theme-ti-bgc);\n}\n\n.tool-bar-indicator.running[data-indicator-value="on"] {\n    border: 1px solid var(--theme-ti-bdc-running);\n    background-color: var(--theme-ti-bgc-running);\n}\n.tool-bar-indicator.modified[data-indicator-value="on"] {\n    border: 1px solid var(--theme-ti-bdc-modified);\n    background-color: var(--theme-ti-bgc-modified);\n}\n\ntool-bar > select > option {\n    background-color: var(--theme-ty-bgc);\n}\n\n\n/* === toggle-switch === */\n\ntoggle-switch {\n    appearance: none;\n    border: 0;\n    width:  var(--theme-ts-w);\n    height: var(--theme-ts-h);\n}\n\ntoggle-switch svg {\n    width:  auto;\n    height: 100%;\n    background-color: transparent;\n}\n\ntoggle-switch.tool-bar-toggle-autoeval                      svg .accent-fill   { fill:   var(--theme-ts-flc-autoeval); }\ntoggle-switch.tool-bar-toggle-autoeval                      svg .accent-stroke { stroke: var(--theme-ts-stc-autoeval); }\ntoggle-switch.tool-bar-toggle-autoeval[aria-checked="true"] svg .accent-fill   { fill:   var(--theme-ts-flc-autoeval-checked); }\ntoggle-switch.tool-bar-toggle-autoeval[aria-checked="true"] svg .accent-stroke { stroke: var(--theme-ts-stc-autoeval-checked); }\n\n\n/* theme-aware graphics */\n\n[data-type="graphviz"] svg polygon {\n    fill:   var(--theme-gr-bgc);\n    stroke: var(--theme-gr-fgc);\n}\n[data-type="graphviz"] svg path,\n[data-type="graphviz"] svg ellipse {\n    stroke: var(--theme-gr-fgc);\n}\n[data-type="graphviz"] svg text {\n    fill: var(--theme-gr-fgc);\n}\n\n\n/* === menu === */\n\n.menu:not(.active) {\n    display: none;\n}\n\n.menubar {\n    margin: 0;\n    padding: 0.1rem 0 0.1rem 0;\n    background-color: var(--theme-mu-bgc);\n}\n\n.menubar > li {\n    display: inline;  /* horizontal orientation for top-level items of menubar */\n    padding: 0 0.5rem 0 0.5rem;\n}\n\n.menubar .menuitem {\n    list-style-type: none;\n    min-width: max-content;\n}\n\n.menuitem * {\n    user-select: none;\n}\n\n.menuitem .menuitem-label {\n    font-family: sans-serif;\n    font-size: 90%;\n}\n\n.menubar .menuitem.checked::before {\n    content: "\\2713";  /* unicode check mark */\n    position: absolute;\n    left: 0.5em;\n}\n\n.menubar div {\n    display: inline;\n}\n\n.menu {\n    position: absolute;\n    z-index: 999;\n    background-color: var(--theme-mu-bgc);\n    padding: 0.25rem 0 0.25rem 0;  /* override standard ul/li padding */\n    border-radius: 0.25rem;\n    border: 1px solid var(--theme-mu-bdc);\n    box-shadow: 3px 3px 16px var(--theme-mu-shc);\n\n    /* eliminate default styling for menu elements */\n    margin-block-start:   0;\n    margin-block-end:     0;\n    margin-inline-start:  0;\n    margin-inline-end:    0;\n    padding-inline-start: 0;\n}\n\n.menuitem {\n    color: var(--theme-mi-fgc);\n}\n\n.menuitem.disabled {\n    color: var(--theme-mi-fgc-disabled);\n}\n\n.menuitem.selected {\n    background-color: var(--theme-mi-bgc-selected);\n}\n\n.menu .menuitem:not(.menuitem-separator) {\n    padding: 0 0.5rem 0 1.5rem;\n}\n\n.menu .menuitem.menuitem-separator {\n    margin: 0.2rem 0 0.2rem 0;\n    height: 0px;\n    color: transparent;\n    border-bottom: 1px solid var(--theme-ms-bgc);\n}\n\n.menu .menuitem .menuitem-annotation {\n    margin-left: 2rem;\n    float: right;\n}\n\n.menu .menuitem kbd {\n    margin: 0 0 0 0.5rem;\n}\n\n\n/* === dialog === */\n\ndialog {\n    border-radius: 0.5em;\n    box-shadow: 3px 3px 16px var(--theme-dg-shc);\n}\n\ndialog button,\ndialog input[type="button"] {\n    margin: 1.75em 0 0 0;\n}\n\ndialog .dialog_decline {\n    display: inline;\n}\n\ndialog .dialog_accept {\n    display: inline;\n}\n\n\n/* === settings-dialog === */\n\n.settings-dialog {\n    background-color: var(--theme-st-bgc);\n}\n\n.settings-dialog .dialog-text {\n    font-style: italic;\n}\n\n.settings-dialog [data-section] {\n    position: relative;\n    display: grid;\n    grid-template-columns: min-content min-content;\n    min-width: max-content;\n    margin: 1.75em 0 0 0;\n    padding: 1em 0.5em 0.5em;\n    border-radius: 8px;\n    border: 1px solid var(--theme-st-bdc-section);\n    color:            var(--theme-st-fgc-section);\n    background-color: var(--theme-st-bgc-section);\n}\n\n.settings-dialog [data-section]::before {  /* named section heading */\n    position: absolute;\n    content: attr(data-section);\n    left: 0.8em;\n    top: -0.7em;\n    padding: 0 1em;\n    border-radius: 4px;\n    border: 1px solid var(--theme-st-bdc-section-heading);\n    color:            var(--theme-st-fgc-section-heading);\n    background-color: var(--theme-st-bgc-section-heading);\n    font-style: italic;\n}\n\n.settings-dialog [data-section] label {\n    align-self: center;\n    justify-self: end;\n    white-space: nowrap;\n    user-select: none;\n}\n\n.settings-dialog [data-section] input,\n.settings-dialog [data-section] select {\n    align-self: center;\n    justify-self: start;\n    color:            var(--theme-st-fgc-section-setting);\n    background-color: var(--theme-st-bgc-section-setting);\n    margin: 0.25em;\n}\n\n.settings-dialog [data-section] input[type="text"] {\n    width: 5em;\n}\n\n.settings-dialog .warning {\n    display: none;\n    width: 13em;\n    margin: 1.75em 0 0 1em;\n    padding: 0.5em;\n    border-radius: 8px;\n    border: 1px solid var(--theme-st-bdc-warning);\n    color:            var(--theme-st-fgc-warning);\n    background-color: var(--theme-st-bgc-warning);\n}\n.settings-dialog .warning p:first-child {\n    margin-block-start: 0;\n}\n.settings-dialog .warning p:last-child {\n    margin-block-end: 0;\n}\n.settings-dialog .show-emacs-warning .emacs-warning {\n    display: block;\n}\n\n.settings-dialog .error-message {\n    display: none;\n    width: 13em;\n    margin: 1.75em 0 0 1em;\n    padding: 0.5em;\n    border-radius: 5pt;\n    border: 1px solid var(--theme-st-bdc-error);\n    color:            var(--theme-st-fgc-error);\n    background-color: var(--theme-st-bgc-error);\n}\n.settings-dialog .error-message.active {\n    display: block;\n}\n\n\n/* === codemirror === */\n\n.codemirror-hide-line-numbers .cm-lineNumbers {\n    display: none !important;  /* must use !important to override codemirror\'s !important setting */\n}\n\n\n/* === global error messages === */\n\nbody > .error-message {\n    display: block;\n    margin: 1.75em;\n    padding: 0.5em;\n    border-radius: 5pt;\n    border: 1px solid var(--theme-by-bdc-error);\n    color:            var(--theme-by-fgc-error);\n    background-color: var(--theme-by-bgc-error);\n}\n\n\n/* === print media queries === */\n\n@media not print {\n    /* nothing for now */\n}\n\n@media print {\n\n    header {\n        display: none;\n    }\n\n    main {\n        overflow: visible;\n    }\n\n    .resize-handle,\n    .resize-handle::after {\n        display: none;\n    }\n\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA,+FAA+F;;AAE/F,0EAA0E;;AAE1E;IACI,0BAA0B,GAAG,qFAAqF;;IAElH,cAAc,GAAG,gEAAgE;;IAEjF,kCAAkC,IAAI,iFAAiF;IACvH,kCAAkC,IAAI,mEAAmE;;IAEzG,qFAAqF;AACzF;;AAEA;IACI,gBAAgB,GAAG,+BAA+B;IAClD,SAAS;IACT,qCAAqC;AACzC;;AAEA;IACI,aAAa;IACb,qBAAqB;IACrB,2BAA2B;;IAE3B,yBAAyB;IACzB,qCAAqC;AACzC;;AAEA,qBAAqB,iBAAiB;IAClC,mBAAmB;IACnB,kBAAkB;;IAElB,uBAAuB;IACvB,gBAAgB;IAChB,SAAS;IACT,6BAA6B,GAAG,qCAAqC;AACzE;;AAEA;IACI,mBAAmB,GAAG,gFAAgF;;IAEtG,sCAAsC;IACtC,cAAc;IACd,2CAA2C;IAC3C,iBAAiB;AACrB;AACA;IACI,cAAc;AAClB;AACA;IACI,oCAAoC;AACxC;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;;IAEhB,kCAAkC;IAClC,kCAAkC;IAClC,kCAAkC;IAClC,kCAAkC;AACtC;AACA;IACI,yCAAyC;AAC7C;AACA;IACI,wCAAwC;AAC5C;;AAEA;IACI,kBAAkB;IAClB,qEAAqE;IACrE,mDAAmD;IACnD,mBAAmB;IACnB,qEAAqE;IACrE,6FAA6F;CAChG;AACD;;IAEI,2EAA2E;AAC/E;AACA;;IAEI,YAAY;IACZ,kBAAkB;IAClB,oDAAoD;IACpD,uDAAuD;IACvD,uDAAuD;IACvD,iBAAiB;IACjB,2CAA2C;AAC/C;;AAEA;;IAEI,aAAa;AACjB;AACA;IACI,SAAS;AACb;;AAEA;IACI,oCAAoC;IACpC,oCAAoC;AACxC;;AAEA;IACI,qDAAqD;;IAErD;QACI,iBAAiB;IACrB;;IAEA;QACI,sBAAsB;IAC1B;IACA;QACI,gBAAgB;QAChB,gBAAgB;IACpB;IACA;QACI,aAAa;IACjB;AACJ;;AAEA;IACI,cAAc;IACd,cAAc,GAAG,yBAAyB;;IAE1C,mBAAmB;;IAEnB,0BAA0B;IAC1B,qCAAqC;IACrC,qCAAqC;AACzC;AACA;;IAEI,aAAa;AACjB;;AAEA;IACI,qBAAqB,GAAG,iCAAiC;IACzD,iBAAiB;AACrB;;AAEA;IACI,gBAAgB;;IAEhB,mBAAmB;;IAEnB,aAAa;IACb,mBAAmB;IACnB,2BAA2B;IAC3B,sBAAsB;;IAEtB,uBAAuB;IACvB,0BAA0B;IAC1B,SAAS;;IAET,qCAAqC;AACzC;;AAEA;IACI,gBAAgB;;IAEhB,cAAc;IACd,UAAU;;IAEV,gCAAgC;IAChC,8BAA8B,GAAG,4CAA4C;;IAE7E,qBAAqB,GAAG,iCAAiC;IACzD,+BAA+B;IAC/B,+BAA+B;;IAE/B,qCAAqC;IACrC,qCAAqC;;IAErC,yBAAyB;IACzB,+BAA+B;IAC/B,eAAe;IACf,gCAAgC;IAChC,wCAAwC;IACxC,wCAAwC;IACxC,wCAAwC;;IAExC,0DAA0D;IAC1D,kCAAkC;AACtC;;AAEA;IACI,qCAAqC;IACrC,qCAAqC;IACrC,YAAY,GAAG,0BAA0B;IACzC,aAAa,GAAG,gCAAgC;IAChD,WAAW;IACX,kBAAkB,GAAG,kEAAkE;IACvF,SAAS;IACT,SAAS;AACb;;;AAGA,2CAA2C;;AAE3C;IACI,8CAA8C;IAC9C,eAAe;AACnB;;AAEA;;IAEI,8CAA8C;IAC9C,8CAA8C;AAClD;;AAEA;IACI,gDAAgD;IAChD,gDAAgD;AACpD;;AAEA;IACI,yCAAyC;IACzC,yCAAyC;AAC7C;;AAEA;IACI,cAAc,GAAG,iFAAiF;AACtG;;AAEA;;IAEI,iDAAiD;IACjD,+GAA+G;AACnH;;AAEA;IACI,mDAAmD;IACnD,iHAAiH;AACrH;;AAEA;IACI,4CAA4C;IAC5C,0GAA0G;AAC9G;;;AAGA,6CAA6C;;AAE7C;IACI,SAAS,GAAG,+DAA+D;AAC/E;;AAEA;IACI,cAAc;IACd,aAAa;IACb,aAAa;IACb,SAAS;IACT,UAAU;IACV,kBAAkB;IAClB,qCAAqC;IACrC,qCAAqC;AACzC;;AAEA;IACI,6CAA6C;IAC7C,6CAA6C;AACjD;AACA;IACI,8CAA8C;IAC9C,8CAA8C;AAClD;;AAEA;IACI,qCAAqC;AACzC;;;AAGA,0BAA0B;;AAE1B;IACI,gBAAgB;IAChB,SAAS;IACT,yBAAyB;IACzB,yBAAyB;AAC7B;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,6BAA6B;AACjC;;AAEA,iFAAiF,oCAAoC,EAAE;AACvH,iFAAiF,oCAAoC,EAAE;AACvH,iFAAiF,4CAA4C,EAAE;AAC/H,iFAAiF,4CAA4C,EAAE;;;AAG/H,yBAAyB;;AAEzB;IACI,2BAA2B;IAC3B,2BAA2B;AAC/B;AACA;;IAEI,2BAA2B;AAC/B;AACA;IACI,yBAAyB;AAC7B;;;AAGA,iBAAiB;;AAEjB;IACI,aAAa;AACjB;;AAEA;IACI,SAAS;IACT,0BAA0B;IAC1B,qCAAqC;AACzC;;AAEA;IACI,eAAe,GAAG,0DAA0D;IAC5E,0BAA0B;AAC9B;;AAEA;IACI,qBAAqB;IACrB,sBAAsB;AAC1B;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,uBAAuB;IACvB,cAAc;AAClB;;AAEA;IACI,gBAAgB,GAAG,uBAAuB;IAC1C,kBAAkB;IAClB,WAAW;AACf;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,qCAAqC;IACrC,4BAA4B,GAAG,oCAAoC;IACnE,sBAAsB;IACtB,qCAAqC;IACrC,4CAA4C;;IAE5C,gDAAgD;IAChD,uBAAuB;IACvB,uBAAuB;IACvB,uBAAuB;IACvB,uBAAuB;IACvB,uBAAuB;AAC3B;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,mCAAmC;AACvC;;AAEA;IACI,8CAA8C;AAClD;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,yBAAyB;IACzB,WAAW;IACX,kBAAkB;IAClB,4CAA4C;AAChD;;AAEA;IACI,iBAAiB;IACjB,YAAY;AAChB;;AAEA;IACI,oBAAoB;AACxB;;;AAGA,mBAAmB;;AAEnB;IACI,oBAAoB;IACpB,4CAA4C;AAChD;;AAEA;;IAEI,oBAAoB;AACxB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB;;;AAGA,4BAA4B;;AAE5B;IACI,qCAAqC;AACzC;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,8CAA8C;IAC9C,sBAAsB;IACtB,oBAAoB;IACpB,wBAAwB;IACxB,kBAAkB;IAClB,6CAA6C;IAC7C,6CAA6C;IAC7C,6CAA6C;AACjD;;AAEA,2CAA2C,0BAA0B;IACjE,kBAAkB;IAClB,2BAA2B;IAC3B,WAAW;IACX,WAAW;IACX,cAAc;IACd,kBAAkB;IAClB,qDAAqD;IACrD,qDAAqD;IACrD,qDAAqD;IACrD,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,mBAAmB;IACnB,iBAAiB;AACrB;;AAEA;;IAEI,kBAAkB;IAClB,mBAAmB;IACnB,qDAAqD;IACrD,qDAAqD;IACrD,cAAc;AAClB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,aAAa;IACb,WAAW;IACX,sBAAsB;IACtB,cAAc;IACd,kBAAkB;IAClB,6CAA6C;IAC7C,6CAA6C;IAC7C,6CAA6C;AACjD;AACA;IACI,qBAAqB;AACzB;AACA;IACI,mBAAmB;AACvB;AACA;IACI,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,WAAW;IACX,sBAAsB;IACtB,cAAc;IACd,kBAAkB;IAClB,2CAA2C;IAC3C,2CAA2C;IAC3C,2CAA2C;AAC/C;AACA;IACI,cAAc;AAClB;;;AAGA,uBAAuB;;AAEvB;IACI,wBAAwB,GAAG,oEAAoE;AACnG;;;AAGA,kCAAkC;;AAElC;IACI,cAAc;IACd,cAAc;IACd,cAAc;IACd,kBAAkB;IAClB,2CAA2C;IAC3C,2CAA2C;IAC3C,2CAA2C;AAC/C;;;AAGA,gCAAgC;;AAEhC;IACI,oBAAoB;AACxB;;AAEA;;IAEI;QACI,aAAa;IACjB;;IAEA;QACI,iBAAiB;IACrB;;IAEA;;QAEI,aAAa;IACjB;;AAEJ",sourcesContent:['/* all other stylesheets have been incorporated into this one (except no editor-cell-element) */\n\n/* See settings/theme-settings.js for definition of --theme-* properties */\n\n:root {\n    --input-output-split: 50vw;  /* must specify absolute amount, not %, otherwise .resize-handle will be misaligned */\n\n    --is-stacked: ;  /* is input/output displayed stacked or side-by-side (default) */\n\n    --resize-handle-size:          8px;   /* handle is a downward-pointing triangle with this height and twice this width */\n    --resize-handle-hairline-size: 1px;   /* (half) width of hairline displayed when dragging resize-handle */\n\n    --resize-handle-center-h: calc(var(--input-output-split) + (2 * var(--theme-cl-bdw)));\n}\n\nbody {\n    overflow: hidden;  /* inhibit scrolling for body */\n    margin: 0;\n    background-color: var(--theme-by-bgc);\n}\n\nheader {\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-start;\n\n    height: var(--theme-hd-h);\n    background-color: var(--theme-hd-bgc);\n}\n\nheader > tool-bar {  /* next to menu */\n    visibility: visible;\n    align-self: center;\n\n    max-height: fit-content;\n    padding: 0 0.5em;\n    border: 0;\n    background-color: transparent;  /* use underlying color from header */\n}\n\nmain {\n    margin: 2px 0 0 1px;  /* prevent top and left borders from getting absorbed into surrounding element */\n\n    /* enable scrolling for main element */\n    overflow: auto;\n    max-height: calc(100vh - var(--theme-hd-h));\n    max-width:  100vw;\n}\nmain > :first-child {\n    padding-top: 0;\n}\nmain > :not(:first-child) {\n    padding-top: var(--theme-cl-p-inter);\n}\n\n.cell-container {\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n}\n\n.cell-input-container {\n    overflow: hidden;\n\n    border-width:  var(--theme-cl-bdw);\n    border-radius: var(--theme-cl-bdr);\n    border-style:  var(--theme-cl-bds);\n    border-color:  var(--theme-cl-bdc);\n}\n.cell-container[data-active] .cell-input-container {\n    border-color:  var(--theme-cl-bdc-active);\n}\n.cell-container[data-active]:focus-within .cell-input-container {\n    border-color:  var(--theme-cl-bdc-focus);\n}\n\n.resize-handle {\n    position: absolute;\n    left: calc(var(--resize-handle-center-h) - var(--resize-handle-size));\n    /* form a down-pointing arrow with a centered tip */\n    border-style: solid;\n    border-color: var(--theme-rh-bgc) transparent transparent transparent;\n    border-width: var(--resize-handle-size) var(--resize-handle-size) 0 var(--resize-handle-size);\n }\n.resize-handle:hover,\n.resize-handle.dragging {\n    border-color: var(--theme-rh-bgc-hover) transparent transparent transparent;\n}\n.resize-handle:hover::after,\n.resize-handle.dragging::after {\n    content: " ";\n    position: absolute;\n    left: calc(0px - var(--resize-handle-hairline-size));\n    min-width: calc(2 * var(--resize-handle-hairline-size));\n    max-width: calc(2 * var(--resize-handle-hairline-size));\n    min-height: 100vh;\n    background-color: var(--theme-rh-bgc-hover);\n}\n\n.collapse-cells tool-bar,\n.collapse-cells eval-cell {\n    display: none;\n}\n.collapse-cells .cell-input-container {\n    border: 0;\n}\n\n.cell-input-container {\n    min-width: var(--input-output-split);\n    max-width: var(--input-output-split);\n}\n\n@media screen and (max-width: 40em) {\n    /* responsive: input/output stacked vs side-by-side */\n\n    :root {\n        --is-stacked: yes;\n    }\n\n    .cell-container {\n        flex-direction: column;\n    }\n    .cell-input-container {\n        min-width: unset;\n        max-width: unset;\n    }\n    .resize-handle {\n        display: none;\n    }\n}\n\n.eval-cell-output {\n    display: block;\n    overflow: auto;  /* enable h/v scrolling */\n\n    height: fit-content;\n\n    padding: var(--theme-ou-p);\n    color:            var(--theme-ou-fgc);\n    background-color: var(--theme-ou-bgc);\n}\n.eval-cell-output:empty,\n.eval-cell-output:not(:has(> *:not(:empty))) {\n    display: none;\n}\n\n.plain-text {\n    white-space: pre-wrap;  /* display white-space properly */\n    line-height: 140%;\n}\n\ntool-bar {\n    overflow: hidden;\n\n    visibility: visible;\n\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    gap: var(--theme-tl-g);\n\n    max-height: fit-content;\n    padding: var(--theme-tl-p);\n    border: 0;\n\n    background-color: var(--theme-tl-bgc);\n}\n\neval-cell {\n    overflow: hidden;\n\n    display: block;\n    margin:  0;\n\n    caret-color: var(--theme-cl-ctc);\n    outline: 0px solid transparent;  /* disable default contenteditable outline */\n\n    white-space: pre-wrap;  /* properly display white-space */\n    font-family: var(--theme-cl-ff);\n    line-height: var(--theme-cl-lh);\n\n    color:            var(--theme-cl-fgc);\n    background-color: var(--theme-cl-bgc);\n\n    max-height:   fit-content;\n    padding:      var(--theme-cl-p);\n    border-width: 0;\n    border-top-color:    transparent;\n    border-left-color:   var(--theme-cl-bdc);\n    border-bottom-color: var(--theme-cl-bdc);\n    border-right-color:  var(--theme-cl-bdc);\n\n    border-radius: 0 0 var(--theme-cl-bdr) var(--theme-cl-bdr);\n    border-style:  var(--theme-cl-bds);\n}\n\neval-cell > textarea {\n    color:            var(--theme-cl-fgc);\n    background-color: var(--theme-cl-bgc);\n    resize: none;  /* remove resize control */\n    outline: none;  /* handled by parent eval-cell */\n    width: 100%;\n    padding: 0 0 1px 0;  /* 1px on bottom to prevent "_" from being hidden on bottom line */\n    border: 0;\n    margin: 0;\n}\n\n\n/* color selected by eval-cell input-type */\n\ntool-bar select {\n    border-radius: 0.5rem 0.5rem 0 0 / 30% 30% 0 0;\n    border-width: 0;\n}\n\ntool-bar select,  /* markdown is default */\ntool-bar > select:has(> option[value="markdown"]:checked) {\n    color:            var(--theme-ty-fgc-markdown);\n    background-color: var(--theme-ty-bgc-markdown);\n}\n\ntool-bar > select:has(> option[value="javascript"]:checked) {\n    color:            var(--theme-ty-fgc-javascript);\n    background-color: var(--theme-ty-bgc-javascript);\n}\n\ntool-bar > select:has(> option[value="tex"]:checked) {\n    color:            var(--theme-ty-fgc-tex);\n    background-color: var(--theme-ty-bgc-tex);\n}\n\ntool-bar option {\n    color: initial;  /* setting other color causes poor drop-down list display; seen in Chromium 116 */\n}\n\ntool-bar:has(option),  /* markdown is default */\ntool-bar:has(option[value="markdown"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-markdown);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-markdown) var(--theme-tl-bgc-mix));\n}\n\ntool-bar:has(option[value="javascript"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-javascript);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-javascript) var(--theme-tl-bgc-mix));\n}\n\ntool-bar:has(option[value="tex"]:checked) {\n    border-bottom-color: var(--theme-ty-bgc-tex);\n    background-color: color-mix(in srgb, var(--theme-tl-bgc), var(--theme-ty-bgc-tex) var(--theme-tl-bgc-mix));\n}\n\n\n/* === tool-bar indicators and controls === */\n\ntool-bar > * {\n    margin: 0;  /* pack controls within tool-bar; let flex gap handle spacing */\n}\n\n.tool-bar-indicator {\n    display: block;\n    width:  0.5em;\n    height: 0.5em;\n    margin: 0;\n    padding: 0;\n    border-radius: 50%;\n    border: 1px solid var(--theme-ti-bdc);\n    background-color: var(--theme-ti-bgc);\n}\n\n.tool-bar-indicator.running[data-indicator-value="on"] {\n    border: 1px solid var(--theme-ti-bdc-running);\n    background-color: var(--theme-ti-bgc-running);\n}\n.tool-bar-indicator.modified[data-indicator-value="on"] {\n    border: 1px solid var(--theme-ti-bdc-modified);\n    background-color: var(--theme-ti-bgc-modified);\n}\n\ntool-bar > select > option {\n    background-color: var(--theme-ty-bgc);\n}\n\n\n/* === toggle-switch === */\n\ntoggle-switch {\n    appearance: none;\n    border: 0;\n    width:  var(--theme-ts-w);\n    height: var(--theme-ts-h);\n}\n\ntoggle-switch svg {\n    width:  auto;\n    height: 100%;\n    background-color: transparent;\n}\n\ntoggle-switch.tool-bar-toggle-autoeval                      svg .accent-fill   { fill:   var(--theme-ts-flc-autoeval); }\ntoggle-switch.tool-bar-toggle-autoeval                      svg .accent-stroke { stroke: var(--theme-ts-stc-autoeval); }\ntoggle-switch.tool-bar-toggle-autoeval[aria-checked="true"] svg .accent-fill   { fill:   var(--theme-ts-flc-autoeval-checked); }\ntoggle-switch.tool-bar-toggle-autoeval[aria-checked="true"] svg .accent-stroke { stroke: var(--theme-ts-stc-autoeval-checked); }\n\n\n/* theme-aware graphics */\n\n[data-type="graphviz"] svg polygon {\n    fill:   var(--theme-gr-bgc);\n    stroke: var(--theme-gr-fgc);\n}\n[data-type="graphviz"] svg path,\n[data-type="graphviz"] svg ellipse {\n    stroke: var(--theme-gr-fgc);\n}\n[data-type="graphviz"] svg text {\n    fill: var(--theme-gr-fgc);\n}\n\n\n/* === menu === */\n\n.menu:not(.active) {\n    display: none;\n}\n\n.menubar {\n    margin: 0;\n    padding: 0.1rem 0 0.1rem 0;\n    background-color: var(--theme-mu-bgc);\n}\n\n.menubar > li {\n    display: inline;  /* horizontal orientation for top-level items of menubar */\n    padding: 0 0.5rem 0 0.5rem;\n}\n\n.menubar .menuitem {\n    list-style-type: none;\n    min-width: max-content;\n}\n\n.menuitem * {\n    user-select: none;\n}\n\n.menuitem .menuitem-label {\n    font-family: sans-serif;\n    font-size: 90%;\n}\n\n.menubar .menuitem.checked::before {\n    content: "\\2713";  /* unicode check mark */\n    position: absolute;\n    left: 0.5em;\n}\n\n.menubar div {\n    display: inline;\n}\n\n.menu {\n    position: absolute;\n    z-index: 999;\n    background-color: var(--theme-mu-bgc);\n    padding: 0.25rem 0 0.25rem 0;  /* override standard ul/li padding */\n    border-radius: 0.25rem;\n    border: 1px solid var(--theme-mu-bdc);\n    box-shadow: 3px 3px 16px var(--theme-mu-shc);\n\n    /* eliminate default styling for menu elements */\n    margin-block-start:   0;\n    margin-block-end:     0;\n    margin-inline-start:  0;\n    margin-inline-end:    0;\n    padding-inline-start: 0;\n}\n\n.menuitem {\n    color: var(--theme-mi-fgc);\n}\n\n.menuitem.disabled {\n    color: var(--theme-mi-fgc-disabled);\n}\n\n.menuitem.selected {\n    background-color: var(--theme-mi-bgc-selected);\n}\n\n.menu .menuitem:not(.menuitem-separator) {\n    padding: 0 0.5rem 0 1.5rem;\n}\n\n.menu .menuitem.menuitem-separator {\n    margin: 0.2rem 0 0.2rem 0;\n    height: 0px;\n    color: transparent;\n    border-bottom: 1px solid var(--theme-ms-bgc);\n}\n\n.menu .menuitem .menuitem-annotation {\n    margin-left: 2rem;\n    float: right;\n}\n\n.menu .menuitem kbd {\n    margin: 0 0 0 0.5rem;\n}\n\n\n/* === dialog === */\n\ndialog {\n    border-radius: 0.5em;\n    box-shadow: 3px 3px 16px var(--theme-dg-shc);\n}\n\ndialog button,\ndialog input[type="button"] {\n    margin: 1.75em 0 0 0;\n}\n\ndialog .dialog_decline {\n    display: inline;\n}\n\ndialog .dialog_accept {\n    display: inline;\n}\n\n\n/* === settings-dialog === */\n\n.settings-dialog {\n    background-color: var(--theme-st-bgc);\n}\n\n.settings-dialog .dialog-text {\n    font-style: italic;\n}\n\n.settings-dialog [data-section] {\n    position: relative;\n    display: grid;\n    grid-template-columns: min-content min-content;\n    min-width: max-content;\n    margin: 1.75em 0 0 0;\n    padding: 1em 0.5em 0.5em;\n    border-radius: 8px;\n    border: 1px solid var(--theme-st-bdc-section);\n    color:            var(--theme-st-fgc-section);\n    background-color: var(--theme-st-bgc-section);\n}\n\n.settings-dialog [data-section]::before {  /* named section heading */\n    position: absolute;\n    content: attr(data-section);\n    left: 0.8em;\n    top: -0.7em;\n    padding: 0 1em;\n    border-radius: 4px;\n    border: 1px solid var(--theme-st-bdc-section-heading);\n    color:            var(--theme-st-fgc-section-heading);\n    background-color: var(--theme-st-bgc-section-heading);\n    font-style: italic;\n}\n\n.settings-dialog [data-section] label {\n    align-self: center;\n    justify-self: end;\n    white-space: nowrap;\n    user-select: none;\n}\n\n.settings-dialog [data-section] input,\n.settings-dialog [data-section] select {\n    align-self: center;\n    justify-self: start;\n    color:            var(--theme-st-fgc-section-setting);\n    background-color: var(--theme-st-bgc-section-setting);\n    margin: 0.25em;\n}\n\n.settings-dialog [data-section] input[type="text"] {\n    width: 5em;\n}\n\n.settings-dialog .warning {\n    display: none;\n    width: 13em;\n    margin: 1.75em 0 0 1em;\n    padding: 0.5em;\n    border-radius: 8px;\n    border: 1px solid var(--theme-st-bdc-warning);\n    color:            var(--theme-st-fgc-warning);\n    background-color: var(--theme-st-bgc-warning);\n}\n.settings-dialog .warning p:first-child {\n    margin-block-start: 0;\n}\n.settings-dialog .warning p:last-child {\n    margin-block-end: 0;\n}\n.settings-dialog .show-emacs-warning .emacs-warning {\n    display: block;\n}\n\n.settings-dialog .error-message {\n    display: none;\n    width: 13em;\n    margin: 1.75em 0 0 1em;\n    padding: 0.5em;\n    border-radius: 5pt;\n    border: 1px solid var(--theme-st-bdc-error);\n    color:            var(--theme-st-fgc-error);\n    background-color: var(--theme-st-bgc-error);\n}\n.settings-dialog .error-message.active {\n    display: block;\n}\n\n\n/* === codemirror === */\n\n.codemirror-hide-line-numbers .cm-lineNumbers {\n    display: none !important;  /* must use !important to override codemirror\'s !important setting */\n}\n\n\n/* === global error messages === */\n\nbody > .error-message {\n    display: block;\n    margin: 1.75em;\n    padding: 0.5em;\n    border-radius: 5pt;\n    border: 1px solid var(--theme-by-bdc-error);\n    color:            var(--theme-by-fgc-error);\n    background-color: var(--theme-by-bgc-error);\n}\n\n\n/* === print media queries === */\n\n@media not print {\n    /* nothing for now */\n}\n\n@media print {\n\n    header {\n        display: none;\n    }\n\n    main {\n        overflow: visible;\n    }\n\n    .resize-handle,\n    .resize-handle::after {\n        display: none;\n    }\n\n}\n'],sourceRoot:""}]);const a=o},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);r&&o[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},7537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(i," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},7451:(e,t,n)=>{var r=n(3379),i=n.n(r),s=n(7795),o=n.n(s),a=n(569),l=n.n(a),c=n(3565),h=n.n(c),u=n(9216),d=n.n(u),p=n(4589),m=n.n(p),f=n(6354),g={};g.styleTagTransform=m(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d(),i()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},7654:(e,t,n)=>{var r=n(3379),i=n.n(r),s=n(7795),o=n.n(s),a=n(569),l=n.n(a),c=n(3565),h=n.n(c),u=n(9216),d=n.n(u),p=n(4589),m=n.n(p),f=n(5426),g={};g.styleTagTransform=m(),g.setAttributes=h(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d(),i()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],h=s[c]||0,u="".concat(c," ").concat(h);s[c]=h+1;var d=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var m=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=r(e,i),c=0;c<s.length;c++){var h=n(s[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}s=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8452:(e,t,n)=>{n.d(t,{Z:()=>ei});class r{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new r(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class i{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new i(t,r.range(this,e))}}class s{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,r,i="KaTeX parse error: "+e,o=t&&t.loc;if(o&&o.start<=o.end){var a=o.lexer.input;n=o.start,r=o.end,n===a.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=a.slice(n,r).replace(/[^]/g,"$&̲");i+=(n>15?"…"+a.slice(n-15,n):a.slice(0,n))+l+(r+15<a.length?a.slice(r,r+15)+"…":a.slice(r))}var c=new Error(i);return c.name="ParseError",c.__proto__=s.prototype,c.position=n,null!=n&&null!=r&&(c.length=r-n),c.rawMessage=e,c}}s.prototype.__proto__=Error.prototype;var o=/([A-Z])/g,a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},l=/[&><"']/g,c=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},h=function(e,t){return-1!==e.indexOf(t)},u=function(e,t){return void 0===e?t:e},d=function(e){return String(e).replace(l,(e=>a[e]))},p=function(e){return e.replace(o,"-$1").toLowerCase()},m=c,f=function(e){var t=c(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},g=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"},O={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function v(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class b{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},O)if(O.hasOwnProperty(t)){var n=O[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:v(n)}}reportNonstrict(e,t,n){var r=this.strict;if("function"==typeof r&&(r=r(e,t,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new s("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){var r=this.strict;if("function"==typeof r)try{r=r(e,t,n)}catch(e){r="error"}return!(!r||"ignore"===r||!0!==r&&"error"!==r&&("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]"),1)))}isTrusted(e){if(e.url&&!e.protocol){var t=g(e.url);if(null==t)return!1;e.protocol=t}var n="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(n)}}class y{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return w[x[this.id]]}sub(){return w[k[this.id]]}fracNum(){return w[S[this.id]]}fracDen(){return w[_[this.id]]}cramp(){return w[A[this.id]]}text(){return w[C[this.id]]}isTight(){return this.size>=2}}var w=[new y(0,0,!1),new y(1,0,!0),new y(2,1,!1),new y(3,1,!0),new y(4,2,!1),new y(5,2,!0),new y(6,3,!1),new y(7,3,!0)],x=[4,5,4,5,6,7,6,7],k=[5,5,5,5,7,7,7,7],S=[2,3,4,5,6,7,6,7],_=[3,3,5,5,7,7,7,7],A=[1,1,3,3,5,5,7,7],C=[0,1,2,3,2,3,2,3],Q={DISPLAY:w[0],TEXT:w[2],SCRIPT:w[4],SCRIPTSCRIPT:w[6]},$=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],T=[];function M(e){for(var t=0;t<T.length;t+=2)if(e>=T[t]&&e<=T[t+1])return!0;return!1}$.forEach((e=>e.blocks.forEach((e=>T.push(...e)))));var P={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class E{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return h(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map((e=>e.toText())).join("")}}var Z={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},B={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},I={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function R(e,t,n){if(!Z[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=Z[t][r];if(!i&&e[0]in I&&(r=I[e[0]].charCodeAt(0),i=Z[t][r]),i||"text"!==n||M(r)&&(i=Z[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var z={},Y=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],L=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],D=function(e,t){return t.size<2?e:Y[e-1][t.size-1]};class X{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||X.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=L[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new X(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:D(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:L[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=D(X.BASESIZE,e);return this.size===t&&this.textSize===X.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==X.BASESIZE?["sizing","reset-size"+this.size,"size"+X.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!z[t=e>=5?0:e>=3?1:2]){var n=z[t]={cssEmPerMu:B.quad[t]/18};for(var r in B)B.hasOwnProperty(r)&&(n[r]=B[r][t])}return z[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}X.BASESIZE=6;var q={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},j={ex:!0,em:!0,mu:!0},N=function(e){return"string"!=typeof e&&(e=e.unit),e in q||e in j||"ex"===e},W=function(e,t){var n;if(e.unit in q)n=q[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new s("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},U=function(e){return+e.toFixed(4)+"em"},V=function(e){return e.filter((e=>e)).join(" ")},G=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},H=function(e){var t=document.createElement(e);for(var n in t.className=V(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},F=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+d(V(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=p(r)+":"+this.style[r]+";");for(var i in n&&(t+=' style="'+d(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+d(this.attributes[i])+'"');t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+"</"+e+">"};class J{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return h(this.classes,e)}toNode(){return H.call(this,"span")}toMarkup(){return F.call(this,"span")}}class K{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,G.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return h(this.classes,e)}toNode(){return H.call(this,"a")}toMarkup(){return F.call(this,"a")}}class ee{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return h(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+d(this.src)+'" alt="'+d(this.alt)+'"',t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=p(n)+":"+this.style[n]+";");return t&&(e+=' style="'+d(t)+'"'),e+"'/>"}}var te={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ne{constructor(e,t,n,r,i,s,o,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=s||0,this.classes=o||[],this.style=a||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<$.length;t++)for(var n=$[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=te[this.text])}hasClass(e){return h(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=U(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=V(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=d(V(this.classes)),t+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=p(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+d(n)+'"');var i=d(this.text);return e?(t+=">",t+=i,t+="</span>"):i}}class re{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+d(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</svg>"}}class ie{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",P[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+d(this.alternate)+'"/>':'<path d="'+d(P[this.pathName])+'"/>'}}class se{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+d(this.attributes[t])+'"');return e+"/>"}}function oe(e){if(e instanceof ne)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var ae={bin:1,close:1,inner:1,open:1,punct:1,rel:1},le={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ce={math:{},text:{}};function he(e,t,n,r,i,s){ce[e][i]={font:t,group:n,replace:r},s&&r&&(ce[e][r]=ce[e][i])}var ue="math",de="text",pe="main",me="ams",fe="accent-token",ge="bin",Oe="close",ve="inner",be="mathord",ye="op-token",we="open",xe="punct",ke="rel",Se="spacing",_e="textord";he(ue,pe,ke,"≡","\\equiv",!0),he(ue,pe,ke,"≺","\\prec",!0),he(ue,pe,ke,"≻","\\succ",!0),he(ue,pe,ke,"∼","\\sim",!0),he(ue,pe,ke,"⊥","\\perp"),he(ue,pe,ke,"⪯","\\preceq",!0),he(ue,pe,ke,"⪰","\\succeq",!0),he(ue,pe,ke,"≃","\\simeq",!0),he(ue,pe,ke,"∣","\\mid",!0),he(ue,pe,ke,"≪","\\ll",!0),he(ue,pe,ke,"≫","\\gg",!0),he(ue,pe,ke,"≍","\\asymp",!0),he(ue,pe,ke,"∥","\\parallel"),he(ue,pe,ke,"⋈","\\bowtie",!0),he(ue,pe,ke,"⌣","\\smile",!0),he(ue,pe,ke,"⊑","\\sqsubseteq",!0),he(ue,pe,ke,"⊒","\\sqsupseteq",!0),he(ue,pe,ke,"≐","\\doteq",!0),he(ue,pe,ke,"⌢","\\frown",!0),he(ue,pe,ke,"∋","\\ni",!0),he(ue,pe,ke,"∝","\\propto",!0),he(ue,pe,ke,"⊢","\\vdash",!0),he(ue,pe,ke,"⊣","\\dashv",!0),he(ue,pe,ke,"∋","\\owns"),he(ue,pe,xe,".","\\ldotp"),he(ue,pe,xe,"⋅","\\cdotp"),he(ue,pe,_e,"#","\\#"),he(de,pe,_e,"#","\\#"),he(ue,pe,_e,"&","\\&"),he(de,pe,_e,"&","\\&"),he(ue,pe,_e,"ℵ","\\aleph",!0),he(ue,pe,_e,"∀","\\forall",!0),he(ue,pe,_e,"ℏ","\\hbar",!0),he(ue,pe,_e,"∃","\\exists",!0),he(ue,pe,_e,"∇","\\nabla",!0),he(ue,pe,_e,"♭","\\flat",!0),he(ue,pe,_e,"ℓ","\\ell",!0),he(ue,pe,_e,"♮","\\natural",!0),he(ue,pe,_e,"♣","\\clubsuit",!0),he(ue,pe,_e,"℘","\\wp",!0),he(ue,pe,_e,"♯","\\sharp",!0),he(ue,pe,_e,"♢","\\diamondsuit",!0),he(ue,pe,_e,"ℜ","\\Re",!0),he(ue,pe,_e,"♡","\\heartsuit",!0),he(ue,pe,_e,"ℑ","\\Im",!0),he(ue,pe,_e,"♠","\\spadesuit",!0),he(ue,pe,_e,"§","\\S",!0),he(de,pe,_e,"§","\\S"),he(ue,pe,_e,"¶","\\P",!0),he(de,pe,_e,"¶","\\P"),he(ue,pe,_e,"†","\\dag"),he(de,pe,_e,"†","\\dag"),he(de,pe,_e,"†","\\textdagger"),he(ue,pe,_e,"‡","\\ddag"),he(de,pe,_e,"‡","\\ddag"),he(de,pe,_e,"‡","\\textdaggerdbl"),he(ue,pe,Oe,"⎱","\\rmoustache",!0),he(ue,pe,we,"⎰","\\lmoustache",!0),he(ue,pe,Oe,"⟯","\\rgroup",!0),he(ue,pe,we,"⟮","\\lgroup",!0),he(ue,pe,ge,"∓","\\mp",!0),he(ue,pe,ge,"⊖","\\ominus",!0),he(ue,pe,ge,"⊎","\\uplus",!0),he(ue,pe,ge,"⊓","\\sqcap",!0),he(ue,pe,ge,"∗","\\ast"),he(ue,pe,ge,"⊔","\\sqcup",!0),he(ue,pe,ge,"◯","\\bigcirc",!0),he(ue,pe,ge,"∙","\\bullet",!0),he(ue,pe,ge,"‡","\\ddagger"),he(ue,pe,ge,"≀","\\wr",!0),he(ue,pe,ge,"⨿","\\amalg"),he(ue,pe,ge,"&","\\And"),he(ue,pe,ke,"⟵","\\longleftarrow",!0),he(ue,pe,ke,"⇐","\\Leftarrow",!0),he(ue,pe,ke,"⟸","\\Longleftarrow",!0),he(ue,pe,ke,"⟶","\\longrightarrow",!0),he(ue,pe,ke,"⇒","\\Rightarrow",!0),he(ue,pe,ke,"⟹","\\Longrightarrow",!0),he(ue,pe,ke,"↔","\\leftrightarrow",!0),he(ue,pe,ke,"⟷","\\longleftrightarrow",!0),he(ue,pe,ke,"⇔","\\Leftrightarrow",!0),he(ue,pe,ke,"⟺","\\Longleftrightarrow",!0),he(ue,pe,ke,"↦","\\mapsto",!0),he(ue,pe,ke,"⟼","\\longmapsto",!0),he(ue,pe,ke,"↗","\\nearrow",!0),he(ue,pe,ke,"↩","\\hookleftarrow",!0),he(ue,pe,ke,"↪","\\hookrightarrow",!0),he(ue,pe,ke,"↘","\\searrow",!0),he(ue,pe,ke,"↼","\\leftharpoonup",!0),he(ue,pe,ke,"⇀","\\rightharpoonup",!0),he(ue,pe,ke,"↙","\\swarrow",!0),he(ue,pe,ke,"↽","\\leftharpoondown",!0),he(ue,pe,ke,"⇁","\\rightharpoondown",!0),he(ue,pe,ke,"↖","\\nwarrow",!0),he(ue,pe,ke,"⇌","\\rightleftharpoons",!0),he(ue,me,ke,"≮","\\nless",!0),he(ue,me,ke,"","\\@nleqslant"),he(ue,me,ke,"","\\@nleqq"),he(ue,me,ke,"⪇","\\lneq",!0),he(ue,me,ke,"≨","\\lneqq",!0),he(ue,me,ke,"","\\@lvertneqq"),he(ue,me,ke,"⋦","\\lnsim",!0),he(ue,me,ke,"⪉","\\lnapprox",!0),he(ue,me,ke,"⊀","\\nprec",!0),he(ue,me,ke,"⋠","\\npreceq",!0),he(ue,me,ke,"⋨","\\precnsim",!0),he(ue,me,ke,"⪹","\\precnapprox",!0),he(ue,me,ke,"≁","\\nsim",!0),he(ue,me,ke,"","\\@nshortmid"),he(ue,me,ke,"∤","\\nmid",!0),he(ue,me,ke,"⊬","\\nvdash",!0),he(ue,me,ke,"⊭","\\nvDash",!0),he(ue,me,ke,"⋪","\\ntriangleleft"),he(ue,me,ke,"⋬","\\ntrianglelefteq",!0),he(ue,me,ke,"⊊","\\subsetneq",!0),he(ue,me,ke,"","\\@varsubsetneq"),he(ue,me,ke,"⫋","\\subsetneqq",!0),he(ue,me,ke,"","\\@varsubsetneqq"),he(ue,me,ke,"≯","\\ngtr",!0),he(ue,me,ke,"","\\@ngeqslant"),he(ue,me,ke,"","\\@ngeqq"),he(ue,me,ke,"⪈","\\gneq",!0),he(ue,me,ke,"≩","\\gneqq",!0),he(ue,me,ke,"","\\@gvertneqq"),he(ue,me,ke,"⋧","\\gnsim",!0),he(ue,me,ke,"⪊","\\gnapprox",!0),he(ue,me,ke,"⊁","\\nsucc",!0),he(ue,me,ke,"⋡","\\nsucceq",!0),he(ue,me,ke,"⋩","\\succnsim",!0),he(ue,me,ke,"⪺","\\succnapprox",!0),he(ue,me,ke,"≆","\\ncong",!0),he(ue,me,ke,"","\\@nshortparallel"),he(ue,me,ke,"∦","\\nparallel",!0),he(ue,me,ke,"⊯","\\nVDash",!0),he(ue,me,ke,"⋫","\\ntriangleright"),he(ue,me,ke,"⋭","\\ntrianglerighteq",!0),he(ue,me,ke,"","\\@nsupseteqq"),he(ue,me,ke,"⊋","\\supsetneq",!0),he(ue,me,ke,"","\\@varsupsetneq"),he(ue,me,ke,"⫌","\\supsetneqq",!0),he(ue,me,ke,"","\\@varsupsetneqq"),he(ue,me,ke,"⊮","\\nVdash",!0),he(ue,me,ke,"⪵","\\precneqq",!0),he(ue,me,ke,"⪶","\\succneqq",!0),he(ue,me,ke,"","\\@nsubseteqq"),he(ue,me,ge,"⊴","\\unlhd"),he(ue,me,ge,"⊵","\\unrhd"),he(ue,me,ke,"↚","\\nleftarrow",!0),he(ue,me,ke,"↛","\\nrightarrow",!0),he(ue,me,ke,"⇍","\\nLeftarrow",!0),he(ue,me,ke,"⇏","\\nRightarrow",!0),he(ue,me,ke,"↮","\\nleftrightarrow",!0),he(ue,me,ke,"⇎","\\nLeftrightarrow",!0),he(ue,me,ke,"△","\\vartriangle"),he(ue,me,_e,"ℏ","\\hslash"),he(ue,me,_e,"▽","\\triangledown"),he(ue,me,_e,"◊","\\lozenge"),he(ue,me,_e,"Ⓢ","\\circledS"),he(ue,me,_e,"®","\\circledR"),he(de,me,_e,"®","\\circledR"),he(ue,me,_e,"∡","\\measuredangle",!0),he(ue,me,_e,"∄","\\nexists"),he(ue,me,_e,"℧","\\mho"),he(ue,me,_e,"Ⅎ","\\Finv",!0),he(ue,me,_e,"⅁","\\Game",!0),he(ue,me,_e,"‵","\\backprime"),he(ue,me,_e,"▲","\\blacktriangle"),he(ue,me,_e,"▼","\\blacktriangledown"),he(ue,me,_e,"■","\\blacksquare"),he(ue,me,_e,"⧫","\\blacklozenge"),he(ue,me,_e,"★","\\bigstar"),he(ue,me,_e,"∢","\\sphericalangle",!0),he(ue,me,_e,"∁","\\complement",!0),he(ue,me,_e,"ð","\\eth",!0),he(de,pe,_e,"ð","ð"),he(ue,me,_e,"╱","\\diagup"),he(ue,me,_e,"╲","\\diagdown"),he(ue,me,_e,"□","\\square"),he(ue,me,_e,"□","\\Box"),he(ue,me,_e,"◊","\\Diamond"),he(ue,me,_e,"¥","\\yen",!0),he(de,me,_e,"¥","\\yen",!0),he(ue,me,_e,"✓","\\checkmark",!0),he(de,me,_e,"✓","\\checkmark"),he(ue,me,_e,"ℶ","\\beth",!0),he(ue,me,_e,"ℸ","\\daleth",!0),he(ue,me,_e,"ℷ","\\gimel",!0),he(ue,me,_e,"ϝ","\\digamma",!0),he(ue,me,_e,"ϰ","\\varkappa"),he(ue,me,we,"┌","\\@ulcorner",!0),he(ue,me,Oe,"┐","\\@urcorner",!0),he(ue,me,we,"└","\\@llcorner",!0),he(ue,me,Oe,"┘","\\@lrcorner",!0),he(ue,me,ke,"≦","\\leqq",!0),he(ue,me,ke,"⩽","\\leqslant",!0),he(ue,me,ke,"⪕","\\eqslantless",!0),he(ue,me,ke,"≲","\\lesssim",!0),he(ue,me,ke,"⪅","\\lessapprox",!0),he(ue,me,ke,"≊","\\approxeq",!0),he(ue,me,ge,"⋖","\\lessdot"),he(ue,me,ke,"⋘","\\lll",!0),he(ue,me,ke,"≶","\\lessgtr",!0),he(ue,me,ke,"⋚","\\lesseqgtr",!0),he(ue,me,ke,"⪋","\\lesseqqgtr",!0),he(ue,me,ke,"≑","\\doteqdot"),he(ue,me,ke,"≓","\\risingdotseq",!0),he(ue,me,ke,"≒","\\fallingdotseq",!0),he(ue,me,ke,"∽","\\backsim",!0),he(ue,me,ke,"⋍","\\backsimeq",!0),he(ue,me,ke,"⫅","\\subseteqq",!0),he(ue,me,ke,"⋐","\\Subset",!0),he(ue,me,ke,"⊏","\\sqsubset",!0),he(ue,me,ke,"≼","\\preccurlyeq",!0),he(ue,me,ke,"⋞","\\curlyeqprec",!0),he(ue,me,ke,"≾","\\precsim",!0),he(ue,me,ke,"⪷","\\precapprox",!0),he(ue,me,ke,"⊲","\\vartriangleleft"),he(ue,me,ke,"⊴","\\trianglelefteq"),he(ue,me,ke,"⊨","\\vDash",!0),he(ue,me,ke,"⊪","\\Vvdash",!0),he(ue,me,ke,"⌣","\\smallsmile"),he(ue,me,ke,"⌢","\\smallfrown"),he(ue,me,ke,"≏","\\bumpeq",!0),he(ue,me,ke,"≎","\\Bumpeq",!0),he(ue,me,ke,"≧","\\geqq",!0),he(ue,me,ke,"⩾","\\geqslant",!0),he(ue,me,ke,"⪖","\\eqslantgtr",!0),he(ue,me,ke,"≳","\\gtrsim",!0),he(ue,me,ke,"⪆","\\gtrapprox",!0),he(ue,me,ge,"⋗","\\gtrdot"),he(ue,me,ke,"⋙","\\ggg",!0),he(ue,me,ke,"≷","\\gtrless",!0),he(ue,me,ke,"⋛","\\gtreqless",!0),he(ue,me,ke,"⪌","\\gtreqqless",!0),he(ue,me,ke,"≖","\\eqcirc",!0),he(ue,me,ke,"≗","\\circeq",!0),he(ue,me,ke,"≜","\\triangleq",!0),he(ue,me,ke,"∼","\\thicksim"),he(ue,me,ke,"≈","\\thickapprox"),he(ue,me,ke,"⫆","\\supseteqq",!0),he(ue,me,ke,"⋑","\\Supset",!0),he(ue,me,ke,"⊐","\\sqsupset",!0),he(ue,me,ke,"≽","\\succcurlyeq",!0),he(ue,me,ke,"⋟","\\curlyeqsucc",!0),he(ue,me,ke,"≿","\\succsim",!0),he(ue,me,ke,"⪸","\\succapprox",!0),he(ue,me,ke,"⊳","\\vartriangleright"),he(ue,me,ke,"⊵","\\trianglerighteq"),he(ue,me,ke,"⊩","\\Vdash",!0),he(ue,me,ke,"∣","\\shortmid"),he(ue,me,ke,"∥","\\shortparallel"),he(ue,me,ke,"≬","\\between",!0),he(ue,me,ke,"⋔","\\pitchfork",!0),he(ue,me,ke,"∝","\\varpropto"),he(ue,me,ke,"◀","\\blacktriangleleft"),he(ue,me,ke,"∴","\\therefore",!0),he(ue,me,ke,"∍","\\backepsilon"),he(ue,me,ke,"▶","\\blacktriangleright"),he(ue,me,ke,"∵","\\because",!0),he(ue,me,ke,"⋘","\\llless"),he(ue,me,ke,"⋙","\\gggtr"),he(ue,me,ge,"⊲","\\lhd"),he(ue,me,ge,"⊳","\\rhd"),he(ue,me,ke,"≂","\\eqsim",!0),he(ue,pe,ke,"⋈","\\Join"),he(ue,me,ke,"≑","\\Doteq",!0),he(ue,me,ge,"∔","\\dotplus",!0),he(ue,me,ge,"∖","\\smallsetminus"),he(ue,me,ge,"⋒","\\Cap",!0),he(ue,me,ge,"⋓","\\Cup",!0),he(ue,me,ge,"⩞","\\doublebarwedge",!0),he(ue,me,ge,"⊟","\\boxminus",!0),he(ue,me,ge,"⊞","\\boxplus",!0),he(ue,me,ge,"⋇","\\divideontimes",!0),he(ue,me,ge,"⋉","\\ltimes",!0),he(ue,me,ge,"⋊","\\rtimes",!0),he(ue,me,ge,"⋋","\\leftthreetimes",!0),he(ue,me,ge,"⋌","\\rightthreetimes",!0),he(ue,me,ge,"⋏","\\curlywedge",!0),he(ue,me,ge,"⋎","\\curlyvee",!0),he(ue,me,ge,"⊝","\\circleddash",!0),he(ue,me,ge,"⊛","\\circledast",!0),he(ue,me,ge,"⋅","\\centerdot"),he(ue,me,ge,"⊺","\\intercal",!0),he(ue,me,ge,"⋒","\\doublecap"),he(ue,me,ge,"⋓","\\doublecup"),he(ue,me,ge,"⊠","\\boxtimes",!0),he(ue,me,ke,"⇢","\\dashrightarrow",!0),he(ue,me,ke,"⇠","\\dashleftarrow",!0),he(ue,me,ke,"⇇","\\leftleftarrows",!0),he(ue,me,ke,"⇆","\\leftrightarrows",!0),he(ue,me,ke,"⇚","\\Lleftarrow",!0),he(ue,me,ke,"↞","\\twoheadleftarrow",!0),he(ue,me,ke,"↢","\\leftarrowtail",!0),he(ue,me,ke,"↫","\\looparrowleft",!0),he(ue,me,ke,"⇋","\\leftrightharpoons",!0),he(ue,me,ke,"↶","\\curvearrowleft",!0),he(ue,me,ke,"↺","\\circlearrowleft",!0),he(ue,me,ke,"↰","\\Lsh",!0),he(ue,me,ke,"⇈","\\upuparrows",!0),he(ue,me,ke,"↿","\\upharpoonleft",!0),he(ue,me,ke,"⇃","\\downharpoonleft",!0),he(ue,pe,ke,"⊶","\\origof",!0),he(ue,pe,ke,"⊷","\\imageof",!0),he(ue,me,ke,"⊸","\\multimap",!0),he(ue,me,ke,"↭","\\leftrightsquigarrow",!0),he(ue,me,ke,"⇉","\\rightrightarrows",!0),he(ue,me,ke,"⇄","\\rightleftarrows",!0),he(ue,me,ke,"↠","\\twoheadrightarrow",!0),he(ue,me,ke,"↣","\\rightarrowtail",!0),he(ue,me,ke,"↬","\\looparrowright",!0),he(ue,me,ke,"↷","\\curvearrowright",!0),he(ue,me,ke,"↻","\\circlearrowright",!0),he(ue,me,ke,"↱","\\Rsh",!0),he(ue,me,ke,"⇊","\\downdownarrows",!0),he(ue,me,ke,"↾","\\upharpoonright",!0),he(ue,me,ke,"⇂","\\downharpoonright",!0),he(ue,me,ke,"⇝","\\rightsquigarrow",!0),he(ue,me,ke,"⇝","\\leadsto"),he(ue,me,ke,"⇛","\\Rrightarrow",!0),he(ue,me,ke,"↾","\\restriction"),he(ue,pe,_e,"‘","`"),he(ue,pe,_e,"$","\\$"),he(de,pe,_e,"$","\\$"),he(de,pe,_e,"$","\\textdollar"),he(ue,pe,_e,"%","\\%"),he(de,pe,_e,"%","\\%"),he(ue,pe,_e,"_","\\_"),he(de,pe,_e,"_","\\_"),he(de,pe,_e,"_","\\textunderscore"),he(ue,pe,_e,"∠","\\angle",!0),he(ue,pe,_e,"∞","\\infty",!0),he(ue,pe,_e,"′","\\prime"),he(ue,pe,_e,"△","\\triangle"),he(ue,pe,_e,"Γ","\\Gamma",!0),he(ue,pe,_e,"Δ","\\Delta",!0),he(ue,pe,_e,"Θ","\\Theta",!0),he(ue,pe,_e,"Λ","\\Lambda",!0),he(ue,pe,_e,"Ξ","\\Xi",!0),he(ue,pe,_e,"Π","\\Pi",!0),he(ue,pe,_e,"Σ","\\Sigma",!0),he(ue,pe,_e,"Υ","\\Upsilon",!0),he(ue,pe,_e,"Φ","\\Phi",!0),he(ue,pe,_e,"Ψ","\\Psi",!0),he(ue,pe,_e,"Ω","\\Omega",!0),he(ue,pe,_e,"A","Α"),he(ue,pe,_e,"B","Β"),he(ue,pe,_e,"E","Ε"),he(ue,pe,_e,"Z","Ζ"),he(ue,pe,_e,"H","Η"),he(ue,pe,_e,"I","Ι"),he(ue,pe,_e,"K","Κ"),he(ue,pe,_e,"M","Μ"),he(ue,pe,_e,"N","Ν"),he(ue,pe,_e,"O","Ο"),he(ue,pe,_e,"P","Ρ"),he(ue,pe,_e,"T","Τ"),he(ue,pe,_e,"X","Χ"),he(ue,pe,_e,"¬","\\neg",!0),he(ue,pe,_e,"¬","\\lnot"),he(ue,pe,_e,"⊤","\\top"),he(ue,pe,_e,"⊥","\\bot"),he(ue,pe,_e,"∅","\\emptyset"),he(ue,me,_e,"∅","\\varnothing"),he(ue,pe,be,"α","\\alpha",!0),he(ue,pe,be,"β","\\beta",!0),he(ue,pe,be,"γ","\\gamma",!0),he(ue,pe,be,"δ","\\delta",!0),he(ue,pe,be,"ϵ","\\epsilon",!0),he(ue,pe,be,"ζ","\\zeta",!0),he(ue,pe,be,"η","\\eta",!0),he(ue,pe,be,"θ","\\theta",!0),he(ue,pe,be,"ι","\\iota",!0),he(ue,pe,be,"κ","\\kappa",!0),he(ue,pe,be,"λ","\\lambda",!0),he(ue,pe,be,"μ","\\mu",!0),he(ue,pe,be,"ν","\\nu",!0),he(ue,pe,be,"ξ","\\xi",!0),he(ue,pe,be,"ο","\\omicron",!0),he(ue,pe,be,"π","\\pi",!0),he(ue,pe,be,"ρ","\\rho",!0),he(ue,pe,be,"σ","\\sigma",!0),he(ue,pe,be,"τ","\\tau",!0),he(ue,pe,be,"υ","\\upsilon",!0),he(ue,pe,be,"ϕ","\\phi",!0),he(ue,pe,be,"χ","\\chi",!0),he(ue,pe,be,"ψ","\\psi",!0),he(ue,pe,be,"ω","\\omega",!0),he(ue,pe,be,"ε","\\varepsilon",!0),he(ue,pe,be,"ϑ","\\vartheta",!0),he(ue,pe,be,"ϖ","\\varpi",!0),he(ue,pe,be,"ϱ","\\varrho",!0),he(ue,pe,be,"ς","\\varsigma",!0),he(ue,pe,be,"φ","\\varphi",!0),he(ue,pe,ge,"∗","*",!0),he(ue,pe,ge,"+","+"),he(ue,pe,ge,"−","-",!0),he(ue,pe,ge,"⋅","\\cdot",!0),he(ue,pe,ge,"∘","\\circ",!0),he(ue,pe,ge,"÷","\\div",!0),he(ue,pe,ge,"±","\\pm",!0),he(ue,pe,ge,"×","\\times",!0),he(ue,pe,ge,"∩","\\cap",!0),he(ue,pe,ge,"∪","\\cup",!0),he(ue,pe,ge,"∖","\\setminus",!0),he(ue,pe,ge,"∧","\\land"),he(ue,pe,ge,"∨","\\lor"),he(ue,pe,ge,"∧","\\wedge",!0),he(ue,pe,ge,"∨","\\vee",!0),he(ue,pe,_e,"√","\\surd"),he(ue,pe,we,"⟨","\\langle",!0),he(ue,pe,we,"∣","\\lvert"),he(ue,pe,we,"∥","\\lVert"),he(ue,pe,Oe,"?","?"),he(ue,pe,Oe,"!","!"),he(ue,pe,Oe,"⟩","\\rangle",!0),he(ue,pe,Oe,"∣","\\rvert"),he(ue,pe,Oe,"∥","\\rVert"),he(ue,pe,ke,"=","="),he(ue,pe,ke,":",":"),he(ue,pe,ke,"≈","\\approx",!0),he(ue,pe,ke,"≅","\\cong",!0),he(ue,pe,ke,"≥","\\ge"),he(ue,pe,ke,"≥","\\geq",!0),he(ue,pe,ke,"←","\\gets"),he(ue,pe,ke,">","\\gt",!0),he(ue,pe,ke,"∈","\\in",!0),he(ue,pe,ke,"","\\@not"),he(ue,pe,ke,"⊂","\\subset",!0),he(ue,pe,ke,"⊃","\\supset",!0),he(ue,pe,ke,"⊆","\\subseteq",!0),he(ue,pe,ke,"⊇","\\supseteq",!0),he(ue,me,ke,"⊈","\\nsubseteq",!0),he(ue,me,ke,"⊉","\\nsupseteq",!0),he(ue,pe,ke,"⊨","\\models"),he(ue,pe,ke,"←","\\leftarrow",!0),he(ue,pe,ke,"≤","\\le"),he(ue,pe,ke,"≤","\\leq",!0),he(ue,pe,ke,"<","\\lt",!0),he(ue,pe,ke,"→","\\rightarrow",!0),he(ue,pe,ke,"→","\\to"),he(ue,me,ke,"≱","\\ngeq",!0),he(ue,me,ke,"≰","\\nleq",!0),he(ue,pe,Se," ","\\ "),he(ue,pe,Se," ","\\space"),he(ue,pe,Se," ","\\nobreakspace"),he(de,pe,Se," ","\\ "),he(de,pe,Se," "," "),he(de,pe,Se," ","\\space"),he(de,pe,Se," ","\\nobreakspace"),he(ue,pe,Se,null,"\\nobreak"),he(ue,pe,Se,null,"\\allowbreak"),he(ue,pe,xe,",",","),he(ue,pe,xe,";",";"),he(ue,me,ge,"⊼","\\barwedge",!0),he(ue,me,ge,"⊻","\\veebar",!0),he(ue,pe,ge,"⊙","\\odot",!0),he(ue,pe,ge,"⊕","\\oplus",!0),he(ue,pe,ge,"⊗","\\otimes",!0),he(ue,pe,_e,"∂","\\partial",!0),he(ue,pe,ge,"⊘","\\oslash",!0),he(ue,me,ge,"⊚","\\circledcirc",!0),he(ue,me,ge,"⊡","\\boxdot",!0),he(ue,pe,ge,"△","\\bigtriangleup"),he(ue,pe,ge,"▽","\\bigtriangledown"),he(ue,pe,ge,"†","\\dagger"),he(ue,pe,ge,"⋄","\\diamond"),he(ue,pe,ge,"⋆","\\star"),he(ue,pe,ge,"◃","\\triangleleft"),he(ue,pe,ge,"▹","\\triangleright"),he(ue,pe,we,"{","\\{"),he(de,pe,_e,"{","\\{"),he(de,pe,_e,"{","\\textbraceleft"),he(ue,pe,Oe,"}","\\}"),he(de,pe,_e,"}","\\}"),he(de,pe,_e,"}","\\textbraceright"),he(ue,pe,we,"{","\\lbrace"),he(ue,pe,Oe,"}","\\rbrace"),he(ue,pe,we,"[","\\lbrack",!0),he(de,pe,_e,"[","\\lbrack",!0),he(ue,pe,Oe,"]","\\rbrack",!0),he(de,pe,_e,"]","\\rbrack",!0),he(ue,pe,we,"(","\\lparen",!0),he(ue,pe,Oe,")","\\rparen",!0),he(de,pe,_e,"<","\\textless",!0),he(de,pe,_e,">","\\textgreater",!0),he(ue,pe,we,"⌊","\\lfloor",!0),he(ue,pe,Oe,"⌋","\\rfloor",!0),he(ue,pe,we,"⌈","\\lceil",!0),he(ue,pe,Oe,"⌉","\\rceil",!0),he(ue,pe,_e,"\\","\\backslash"),he(ue,pe,_e,"∣","|"),he(ue,pe,_e,"∣","\\vert"),he(de,pe,_e,"|","\\textbar",!0),he(ue,pe,_e,"∥","\\|"),he(ue,pe,_e,"∥","\\Vert"),he(de,pe,_e,"∥","\\textbardbl"),he(de,pe,_e,"~","\\textasciitilde"),he(de,pe,_e,"\\","\\textbackslash"),he(de,pe,_e,"^","\\textasciicircum"),he(ue,pe,ke,"↑","\\uparrow",!0),he(ue,pe,ke,"⇑","\\Uparrow",!0),he(ue,pe,ke,"↓","\\downarrow",!0),he(ue,pe,ke,"⇓","\\Downarrow",!0),he(ue,pe,ke,"↕","\\updownarrow",!0),he(ue,pe,ke,"⇕","\\Updownarrow",!0),he(ue,pe,ye,"∐","\\coprod"),he(ue,pe,ye,"⋁","\\bigvee"),he(ue,pe,ye,"⋀","\\bigwedge"),he(ue,pe,ye,"⨄","\\biguplus"),he(ue,pe,ye,"⋂","\\bigcap"),he(ue,pe,ye,"⋃","\\bigcup"),he(ue,pe,ye,"∫","\\int"),he(ue,pe,ye,"∫","\\intop"),he(ue,pe,ye,"∬","\\iint"),he(ue,pe,ye,"∭","\\iiint"),he(ue,pe,ye,"∏","\\prod"),he(ue,pe,ye,"∑","\\sum"),he(ue,pe,ye,"⨂","\\bigotimes"),he(ue,pe,ye,"⨁","\\bigoplus"),he(ue,pe,ye,"⨀","\\bigodot"),he(ue,pe,ye,"∮","\\oint"),he(ue,pe,ye,"∯","\\oiint"),he(ue,pe,ye,"∰","\\oiiint"),he(ue,pe,ye,"⨆","\\bigsqcup"),he(ue,pe,ye,"∫","\\smallint"),he(de,pe,ve,"…","\\textellipsis"),he(ue,pe,ve,"…","\\mathellipsis"),he(de,pe,ve,"…","\\ldots",!0),he(ue,pe,ve,"…","\\ldots",!0),he(ue,pe,ve,"⋯","\\@cdots",!0),he(ue,pe,ve,"⋱","\\ddots",!0),he(ue,pe,_e,"⋮","\\varvdots"),he(ue,pe,fe,"ˊ","\\acute"),he(ue,pe,fe,"ˋ","\\grave"),he(ue,pe,fe,"¨","\\ddot"),he(ue,pe,fe,"~","\\tilde"),he(ue,pe,fe,"ˉ","\\bar"),he(ue,pe,fe,"˘","\\breve"),he(ue,pe,fe,"ˇ","\\check"),he(ue,pe,fe,"^","\\hat"),he(ue,pe,fe,"⃗","\\vec"),he(ue,pe,fe,"˙","\\dot"),he(ue,pe,fe,"˚","\\mathring"),he(ue,pe,be,"","\\@imath"),he(ue,pe,be,"","\\@jmath"),he(ue,pe,_e,"ı","ı"),he(ue,pe,_e,"ȷ","ȷ"),he(de,pe,_e,"ı","\\i",!0),he(de,pe,_e,"ȷ","\\j",!0),he(de,pe,_e,"ß","\\ss",!0),he(de,pe,_e,"æ","\\ae",!0),he(de,pe,_e,"œ","\\oe",!0),he(de,pe,_e,"ø","\\o",!0),he(de,pe,_e,"Æ","\\AE",!0),he(de,pe,_e,"Œ","\\OE",!0),he(de,pe,_e,"Ø","\\O",!0),he(de,pe,fe,"ˊ","\\'"),he(de,pe,fe,"ˋ","\\`"),he(de,pe,fe,"ˆ","\\^"),he(de,pe,fe,"˜","\\~"),he(de,pe,fe,"ˉ","\\="),he(de,pe,fe,"˘","\\u"),he(de,pe,fe,"˙","\\."),he(de,pe,fe,"¸","\\c"),he(de,pe,fe,"˚","\\r"),he(de,pe,fe,"ˇ","\\v"),he(de,pe,fe,"¨",'\\"'),he(de,pe,fe,"˝","\\H"),he(de,pe,fe,"◯","\\textcircled");var Ae={"--":!0,"---":!0,"``":!0,"''":!0};he(de,pe,_e,"–","--",!0),he(de,pe,_e,"–","\\textendash"),he(de,pe,_e,"—","---",!0),he(de,pe,_e,"—","\\textemdash"),he(de,pe,_e,"‘","`",!0),he(de,pe,_e,"‘","\\textquoteleft"),he(de,pe,_e,"’","'",!0),he(de,pe,_e,"’","\\textquoteright"),he(de,pe,_e,"“","``",!0),he(de,pe,_e,"“","\\textquotedblleft"),he(de,pe,_e,"”","''",!0),he(de,pe,_e,"”","\\textquotedblright"),he(ue,pe,_e,"°","\\degree",!0),he(de,pe,_e,"°","\\degree"),he(de,pe,_e,"°","\\textdegree",!0),he(ue,pe,_e,"£","\\pounds"),he(ue,pe,_e,"£","\\mathsterling",!0),he(de,pe,_e,"£","\\pounds"),he(de,pe,_e,"£","\\textsterling",!0),he(ue,me,_e,"✠","\\maltese"),he(de,me,_e,"✠","\\maltese");for(var Ce=0;Ce<14;Ce++){var Qe='0123456789/@."'.charAt(Ce);he(ue,pe,_e,Qe,Qe)}for(var $e=0;$e<25;$e++){var Te='0123456789!@*()-=+";:?/.,'.charAt($e);he(de,pe,_e,Te,Te)}for(var Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Pe=0;Pe<52;Pe++){var Ee=Me.charAt(Pe);he(ue,pe,be,Ee,Ee),he(de,pe,_e,Ee,Ee)}he(ue,me,_e,"C","ℂ"),he(de,me,_e,"C","ℂ"),he(ue,me,_e,"H","ℍ"),he(de,me,_e,"H","ℍ"),he(ue,me,_e,"N","ℕ"),he(de,me,_e,"N","ℕ"),he(ue,me,_e,"P","ℙ"),he(de,me,_e,"P","ℙ"),he(ue,me,_e,"Q","ℚ"),he(de,me,_e,"Q","ℚ"),he(ue,me,_e,"R","ℝ"),he(de,me,_e,"R","ℝ"),he(ue,me,_e,"Z","ℤ"),he(de,me,_e,"Z","ℤ"),he(ue,pe,be,"h","ℎ"),he(de,pe,be,"h","ℎ");for(var Ze="",Be=0;Be<52;Be++){var Ie=Me.charAt(Be);he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56320+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56372+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56424+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56580+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56684+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56736+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56788+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56840+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56944+Be)),he(de,pe,_e,Ie,Ze),Be<26&&(he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56632+Be)),he(de,pe,_e,Ie,Ze),he(ue,pe,be,Ie,Ze=String.fromCharCode(55349,56476+Be)),he(de,pe,_e,Ie,Ze))}he(ue,pe,be,"k",Ze=String.fromCharCode(55349,56668)),he(de,pe,_e,"k",Ze);for(var Re=0;Re<10;Re++){var ze=Re.toString();he(ue,pe,be,ze,Ze=String.fromCharCode(55349,57294+Re)),he(de,pe,_e,ze,Ze),he(ue,pe,be,ze,Ze=String.fromCharCode(55349,57314+Re)),he(de,pe,_e,ze,Ze),he(ue,pe,be,ze,Ze=String.fromCharCode(55349,57324+Re)),he(de,pe,_e,ze,Ze),he(ue,pe,be,ze,Ze=String.fromCharCode(55349,57334+Re)),he(de,pe,_e,ze,Ze)}for(var Ye=0;Ye<3;Ye++){var Le="ÐÞþ".charAt(Ye);he(ue,pe,be,Le,Le),he(de,pe,_e,Le,Le)}var De=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Xe=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],qe=function(e,t,n){return ce[n][e]&&ce[n][e].replace&&(e=ce[n][e].replace),{value:e,metrics:R(e,t,n)}},je=function(e,t,n,r,i){var s,o=qe(e,t,n),a=o.metrics;if(e=o.value,a){var l=a.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),s=new ne(e,a.height,a.depth,l,a.skew,a.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),s=new ne(e,0,0,0,0,0,i);if(r){s.maxFontSize=r.sizeMultiplier,r.style.isTight()&&s.classes.push("mtight");var c=r.getColor();c&&(s.style.color=c)}return s},Ne=(e,t)=>{if(V(e.classes)!==V(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},We=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var s=e.children[i];s.height>t&&(t=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>r&&(r=s.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},Ue=function(e,t,n,r){var i=new J(e,t,n,r);return We(i),i},Ve=(e,t,n,r)=>new J(e,t,n,r),Ge=function(e){var t=new E(e);return We(t),t},He=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Fe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Je={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ke={fontMap:Fe,makeSymbol:je,mathsym:function(e,t,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&qe(e,"Main-Bold",t).metrics?je(e,"Main-Bold",t,n,r.concat(["mathbf"])):"\\"===e||"main"===ce[t][e].font?je(e,"Main-Regular",t,n,r):je(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:Ue,makeSvgSpan:Ve,makeLineSpan:function(e,t,n){var r=Ue([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=U(r.height),r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var i=new K(e,t,n,r);return We(i),i},makeFragment:Ge,wrapFragment:function(e,t){return e instanceof E?Ue([],[e],t):e},makeVList:function(e,t){for(var{children:n,depth:r}=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r,s=1;s<t.length;s++){var o=-t[s].shift-i-t[s].elem.depth,a=o-(t[s-1].elem.height+t[s-1].elem.depth);i+=o,n.push({type:"kern",size:a}),n.push(t[s])}return{children:n,depth:r}}var l;if("top"===e.positionType){for(var c=e.positionData,h=0;h<e.children.length;h++){var u=e.children[h];c-="kern"===u.type?u.size:u.elem.height+u.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}}(e),i=0,s=0;s<n.length;s++){var o=n[s];if("elem"===o.type){var a=o.elem;i=Math.max(i,a.maxFontSize,a.height)}}i+=2;var l=Ue(["pstrut"],[]);l.style.height=U(i);for(var c=[],h=r,u=r,d=r,p=0;p<n.length;p++){var m=n[p];if("kern"===m.type)d+=m.size;else{var f=m.elem,g=m.wrapperClasses||[],O=m.wrapperStyle||{},v=Ue(g,[l,f],void 0,O);v.style.top=U(-i-d-f.depth),m.marginLeft&&(v.style.marginLeft=m.marginLeft),m.marginRight&&(v.style.marginRight=m.marginRight),c.push(v),d+=f.height+f.depth}h=Math.min(h,d),u=Math.max(u,d)}var b,y=Ue(["vlist"],c);if(y.style.height=U(u),h<0){var w=Ue([],[]),x=Ue(["vlist"],[w]);x.style.height=U(-h);var k=Ue(["vlist-s"],[new ne("​")]);b=[Ue(["vlist-r"],[y,k]),Ue(["vlist-r"],[x])]}else b=[Ue(["vlist-r"],[y])];var S=Ue(["vlist-t"],b);return 2===b.length&&S.classes.push("vlist-t2"),S.height=u,S.depth=-h,S},makeOrd:function(e,t,n){var r=e.mode,i=e.text,o=["mord"],a="math"===r||"text"===r&&t.font,l=a?t.font:t.fontFamily,c="",h="";if(55349===i.charCodeAt(0)&&([c,h]=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){var i=Math.floor((n-119808)/26);return[De[i][2],De[i][r]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[Xe[o][2],Xe[o][r]]}if(120485===n||120486===n)return[De[0][2],De[0][r]];if(120486<n&&n<120782)return["",""];throw new s("Unsupported character: "+e)}(i,r)),c.length>0)return je(i,c,r,t,o.concat(h));if(l){var u,d;if("boldsymbol"===l){var p=function(e,t,n,r,i){return"textord"!==i&&qe(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,r,0,0,n);u=p.fontName,d=[p.fontClass]}else a?(u=Fe[l].fontName,d=[l]):(u=He(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(qe(i,u,r).metrics)return je(i,u,r,t,o.concat(d));if(Ae.hasOwnProperty(i)&&"Typewriter"===u.slice(0,10)){for(var m=[],f=0;f<i.length;f++)m.push(je(i[f],u,r,t,o.concat(d)));return Ge(m)}}if("mathord"===n)return je(i,"Math-Italic",r,t,o.concat(["mathnormal"]));if("textord"===n){var g=ce[r][i]&&ce[r][i].font;if("ams"===g){var O=He("amsrm",t.fontWeight,t.fontShape);return je(i,O,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==g&&g){var v=He(g,t.fontWeight,t.fontShape);return je(i,v,r,t,o.concat(v,t.fontWeight,t.fontShape))}var b=He("textrm",t.fontWeight,t.fontShape);return je(i,b,r,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(e,t)=>{var n=Ue(["mspace"],[],t),r=W(e,t);return n.style.marginRight=U(r),n},staticSvg:function(e,t){var[n,r,i]=Je[e],s=new ie(n),o=new re([s],{width:U(r),height:U(i),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),a=Ve(["overlay"],[o],t);return a.height=i,a.style.height=U(i),a.style.width=U(r),a},svgData:Je,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof ne&&r instanceof ne&&Ne(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}},et={number:3,unit:"mu"},tt={number:4,unit:"mu"},nt={number:5,unit:"mu"},rt={mord:{mop:et,mbin:tt,mrel:nt,minner:et},mop:{mord:et,mop:et,mrel:nt,minner:et},mbin:{mord:tt,mop:tt,mopen:tt,minner:tt},mrel:{mord:nt,mop:nt,mopen:nt,minner:nt},mopen:{},mclose:{mop:et,mbin:tt,mrel:nt,minner:et},mpunct:{mord:et,mop:et,mrel:nt,mopen:et,mclose:et,mpunct:et,minner:et},minner:{mord:et,mop:et,mbin:tt,mrel:nt,mopen:et,mpunct:et,minner:et}},it={mord:{mop:et},mop:{mord:et,mop:et},mbin:{},mrel:{},mopen:{},mclose:{mop:et},mpunct:{},minner:{mop:et}},st={},ot={},at={};function lt(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,a={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)st[n[l]]=a;t&&(s&&(ot[t]=s),o&&(at[t]=o))}function ct(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;lt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var ht=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ut=function(e){return"ordgroup"===e.type?e.body:[e]},dt=Ke.makeSpan,pt=["leftmost","mbin","mopen","mrel","mop","mpunct"],mt=["rightmost","mrel","mclose","mpunct"],ft={display:Q.DISPLAY,text:Q.TEXT,script:Q.SCRIPT,scriptscript:Q.SCRIPTSCRIPT},gt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ot=function(e,t,n,r){void 0===r&&(r=[null,null]);for(var i=[],s=0;s<e.length;s++){var o=kt(e[s],t);if(o instanceof E){var a=o.children;i.push(...a)}else i.push(o)}if(Ke.tryCombineChars(i),!n)return i;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(ft[c.style]))}var u=dt([r[0]||"leftmost"],[],t),d=dt([r[1]||"rightmost"],[],t),p="root"===n;return vt(i,((e,t)=>{var n=t.classes[0],r=e.classes[0];"mbin"===n&&h(mt,r)?t.classes[0]="mord":"mbin"===r&&h(pt,n)&&(e.classes[0]="mord")}),{node:u},d,p),vt(i,((e,t)=>{var n=wt(t),r=wt(e),i=n&&r?e.hasClass("mtight")?it[n][r]:rt[n][r]:null;if(i)return Ke.makeGlue(i,l)}),{node:u},d,p),i},vt=function e(t,n,r,i,s){i&&t.push(i);for(var o=0;o<t.length;o++){var a=t[o],l=bt(a);if(l)e(l.children,n,r,null,s);else{var c=!a.hasClass("mspace");if(c){var h=n(a,r.node);h&&(r.insertAfter?r.insertAfter(h):(t.unshift(h),o++))}c?r.node=a:s&&a.hasClass("newline")&&(r.node=dt(["leftmost"])),r.insertAfter=(e=>n=>{t.splice(e+1,0,n),o++})(o)}}i&&t.pop()},bt=function(e){return e instanceof E||e instanceof K||e instanceof J&&e.hasClass("enclosing")?e:null},yt=function e(t,n){var r=bt(t);if(r){var i=r.children;if(i.length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"left")}}return t},wt=function(e,t){return e?(t&&(e=yt(e,t)),gt[e.classes[0]]||null):null},xt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return dt(t.concat(n))},kt=function(e,t,n){if(!e)return dt();if(ot[e.type]){var r=ot[e.type](e,t);if(n&&t.size!==n.size){r=dt(t.sizingClasses(n),[r],t);var i=t.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new s("Got group of unknown type: '"+e.type+"'")};function St(e,t){var n=dt(["base"],e,t),r=dt(["strut"]);return r.style.height=U(n.height+n.depth),n.depth&&(r.style.verticalAlign=U(-n.depth)),n.children.unshift(r),n}function _t(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var r,i=Ot(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(r=i.pop());for(var s,o=[],a=[],l=0;l<i.length;l++)if(a.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var c=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,a.push(i[l]),i[l].hasClass("nobreak")&&(c=!0);c||(o.push(St(a,t)),a=[])}else i[l].hasClass("newline")&&(a.pop(),a.length>0&&(o.push(St(a,t)),a=[]),o.push(i[l]));a.length>0&&o.push(St(a,t)),n?((s=St(Ot(n,t,!0))).classes=["tag"],o.push(s)):r&&o.push(r);var h=dt(["katex-html"],o);if(h.setAttribute("aria-hidden","true"),s){var u=s.children[0];u.style.height=U(h.height+h.depth),h.depth&&(u.style.verticalAlign=U(-h.depth))}return h}function At(e){return new E(e)}class Ct{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=V(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=d(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+d(V(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</"+this.type+">"}toText(){return this.children.map((e=>e.toText())).join("")}}class Qt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return d(this.toText())}toText(){return this.text}}var $t={MathNode:Ct,TextNode:Qt,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",U(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+U(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:At},Tt=function(e,t,n){return!ce[t][e]||!ce[t][e].replace||55349===e.charCodeAt(0)||Ae.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=ce[t][e].replace),new $t.TextNode(e)},Mt=function(e){return 1===e.length?e[0]:new $t.MathNode("mrow",e)},Pt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var r=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var i=e.text;return h(["\\imath","\\jmath"],i)?null:(ce[r][i]&&ce[r][i].replace&&(i=ce[r][i].replace),R(i,Ke.fontMap[n].fontName,r)?Ke.fontMap[n].variant:null)},Et=function(e,t,n){if(1===e.length){var r=Bt(e[0],t);return n&&r instanceof Ct&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,s=[],o=0;o<e.length;o++){var a=Bt(e[o],t);if(a instanceof Ct&&i instanceof Ct){if("mtext"===a.type&&"mtext"===i.type&&a.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...a.children);continue}if("mn"===a.type&&"mn"===i.type){i.children.push(...a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===i.type){var l=a.children[0];if(l instanceof Qt&&"."===l.text){i.children.push(...a.children);continue}}else if("mi"===i.type&&1===i.children.length){var c=i.children[0];if(c instanceof Qt&&"̸"===c.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var h=a.children[0];h instanceof Qt&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),s.pop())}}}s.push(a),i=a}return s},Zt=function(e,t,n){return Mt(Et(e,t,n))},Bt=function(e,t){if(!e)return new $t.MathNode("mrow");if(at[e.type])return at[e.type](e,t);throw new s("Got group of unknown type: '"+e.type+"'")};function It(e,t,n,r,i){var s,o=Et(e,n);s=1===o.length&&o[0]instanceof Ct&&h(["mrow","mtable"],o[0].type)?o[0]:new $t.MathNode("mrow",o);var a=new $t.MathNode("annotation",[new $t.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var l=new $t.MathNode("semantics",[s,a]),c=new $t.MathNode("math",[l]);return c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block"),Ke.makeSpan([i?"katex":"katex-mathml"],[c])}var Rt=function(e){return new X({style:e.displayMode?Q.DISPLAY:Q.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},zt=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ke.makeSpan(n,[e])}return e},Yt={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Lt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Dt=function(e){var t=new $t.MathNode("mo",[new $t.TextNode(Yt[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Xt=function(e,t){var{span:n,minWidth:r,height:i}=function(){var n=4e5,r=e.label.slice(1);if(h(["widehat","widecheck","widetilde","utilde"],r)){var i,s,o,a="ordgroup"===(m=e.base).type?m.body.length:1;if(a>5)"widehat"===r||"widecheck"===r?(i=420,n=2364,o=.42,s=r+"4"):(i=312,n=2340,o=.34,s="tilde4");else{var l=[1,1,2,2,3,3][a];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],o=[0,.24,.3,.3,.36,.42][l],s=r+l):(n=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],o=[0,.26,.286,.3,.306,.34][l],s="tilde"+l)}var c=new ie(s),u=new re([c],{width:"100%",height:U(o),viewBox:"0 0 "+n+" "+i,preserveAspectRatio:"none"});return{span:Ke.makeSvgSpan([],[u],t),minWidth:0,height:o}}var d,p,m,f=[],g=Lt[r],[O,v,b]=g,y=b/1e3,w=O.length;if(1===w)d=["hide-tail"],p=[g[3]];else if(2===w)d=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");d=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<w;x++){var k=new ie(O[x]),S=new re([k],{width:"400em",height:U(y),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:p[x]+" slice"}),_=Ke.makeSvgSpan([d[x]],[S],t);if(1===w)return{span:_,minWidth:v,height:y};_.style.height=U(y),f.push(_)}return{span:Ke.makeSpan(["stretchy"],f,t),minWidth:v,height:y}}();return n.height=i,n.style.height=U(i),r>0&&(n.style.minWidth=U(r)),n};function qt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function jt(e){var t=Nt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Nt(e){return e&&("atom"===e.type||le.hasOwnProperty(e.type))?e:null}var Wt=(e,t)=>{var n,r,i;e&&"supsub"===e.type?(n=(r=qt(e.base,"accent")).base,e.base=n,i=function(e){if(e instanceof J)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(kt(e,t)),e.base=r):n=(r=qt(e,"accent")).base;var s=kt(n,t.havingCrampedStyle()),o=0;if(r.isShifty&&f(n)){var a=m(n);o=oe(kt(a,t.havingCrampedStyle())).skew}var l,c="\\c"===r.label,h=c?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight);if(r.isStretchy)l=Xt(r,t),l=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+U(2*o)+")",marginLeft:U(2*o)}:void 0}]},t);else{var u,d;"\\vec"===r.label?(u=Ke.staticSvg("vec",t),d=Ke.svgData.vec[1]):((u=oe(u=Ke.makeOrd({mode:r.mode,text:r.label},t,"textord"))).italic=0,d=u.width,c&&(h+=u.depth)),l=Ke.makeSpan(["accent-body"],[u]);var p="\\textcircled"===r.label;p&&(l.classes.push("accent-full"),h=s.height);var g=o;p||(g-=d/2),l.style.left=U(g),"\\textcircled"===r.label&&(l.style.top=".2em"),l=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:l}]},t)}var O=Ke.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=O,i.height=Math.max(O.height,i.height),i.classes[0]="mord",i):O},Ut=(e,t)=>{var n=e.isStretchy?Dt(e.label):new $t.MathNode("mo",[Tt(e.label,e.mode)]),r=new $t.MathNode("mover",[Bt(e.base,t),n]);return r.setAttribute("accent","true"),r},Vt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((e=>"\\"+e)).join("|"));lt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=ht(t[0]),r=!Vt.test(e.funcName),i=!r||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Wt,mathmlBuilder:Ut}),lt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return"math"===r&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Wt,mathmlBuilder:Ut}),lt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=kt(e.base,t),r=Xt(e,t),i="\\utilde"===e.label?.12:0,s=Ke.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return Ke.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var n=Dt(e.label),r=new $t.MathNode("munder",[Bt(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Gt=e=>{var t=new $t.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};lt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,r=t.style,i=t.havingStyle(r.sup()),s=Ke.wrapFragment(kt(e.body,i,t),t),o="\\x"===e.label.slice(0,2)?"x":"cd";s.classes.push(o+"-arrow-pad"),e.below&&(i=t.havingStyle(r.sub()),(n=Ke.wrapFragment(kt(e.below,i,t),t)).classes.push(o+"-arrow-pad"));var a,l=Xt(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,h=-t.fontMetrics().axisHeight-.5*l.height-.111;if((s.depth>.25||"\\xleftequilibrium"===e.label)&&(h-=s.depth),n){var u=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;a=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:u}]},t)}else a=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:c}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Ke.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder(e,t){var n,r=Dt(e.label);if(r.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=Gt(Bt(e.body,t));if(e.below){var s=Gt(Bt(e.below,t));n=new $t.MathNode("munderover",[r,s,i])}else n=new $t.MathNode("mover",[r,i])}else if(e.below){var o=Gt(Bt(e.below,t));n=new $t.MathNode("munder",[r,o])}else n=Gt(),n=new $t.MathNode("mover",[r,n]);return n}});var Ht=Ke.makeSpan;function Ft(e,t){var n=Ot(e.body,t,!0);return Ht([e.mclass],n,t)}function Jt(e,t){var n,r=Et(e.body,t);return"minner"===e.mclass?n=new $t.MathNode("mpadded",r):"mord"===e.mclass?e.isCharacterBox?(n=r[0]).type="mi":n=new $t.MathNode("mi",r):(e.isCharacterBox?(n=r[0]).type="mo":n=new $t.MathNode("mo",r),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}lt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ut(i),isCharacterBox:f(i)}},htmlBuilder:Ft,mathmlBuilder:Jt});var Kt=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};lt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Kt(t[0]),body:ut(t[1]),isCharacterBox:f(t[1])}}}),lt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:r,funcName:i}=e,s=t[1],o=t[0];n="\\stackrel"!==i?Kt(s):"mrel";var a={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:ut(s)},l={type:"supsub",mode:o.mode,base:a,sup:"\\underset"===i?null:o,sub:"\\underset"===i?o:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:f(l)}},htmlBuilder:Ft,mathmlBuilder:Jt}),lt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Kt(t[0]),body:ut(t[0])}},htmlBuilder(e,t){var n=Ot(e.body,t,!0),r=Ke.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Et(e.body,t),r=new $t.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var en={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},tn=e=>"textord"===e.type&&"@"===e.text;function nn(e,t,n){var r=en[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},s={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[s],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}lt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=Ke.wrapFragment(kt(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=U(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new $t.MathNode("mrow",[Bt(e.label,t)]);return(n=new $t.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new $t.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),lt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Ke.wrapFragment(kt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new $t.MathNode("mrow",[Bt(e.fragment,t)])}),lt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=qt(t[0],"ordgroup").body,i="",o=0;o<r.length;o++)i+=qt(r[o],"textord").text;var a,l=parseInt(i);if(isNaN(l))throw new s("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new s("\\@char with invalid code point "+i);return l<=65535?a=String.fromCharCode(l):(l-=65536,a=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:n.mode,text:a}}});var rn=(e,t)=>{var n=Ot(e.body,t.withColor(e.color),!1);return Ke.makeFragment(n)},sn=(e,t)=>{var n=Et(e.body,t.withColor(e.color)),r=new $t.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};lt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=qt(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:ut(i)}},htmlBuilder:rn,mathmlBuilder:sn}),lt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=qt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:rn,mathmlBuilder:sn}),lt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i="["===r.gullet.future().text?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&qt(i,"size").value}},htmlBuilder(e,t){var n=Ke.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=U(W(e.size,t)))),n},mathmlBuilder(e,t){var n=new $t.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",U(W(e.size,t)))),n}});var on={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},an=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new s("Expected a control sequence",e);return t},ln=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);null==i&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};lt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(on[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=on[r.text]),qt(t.parseFunction(),"internal");throw new s("Invalid token after macro prefix",r)}}),lt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new s("Expected a control sequence",r);for(var o,a=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(r=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),l[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new s('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new s('Argument number "'+r.text+'" out of order');a++,l.push([])}else{if("EOF"===r.text)throw new s("Expected a macro definition");l[a].push(r.text)}var{tokens:c}=t.gullet.consumeArg();return o&&c.unshift(o),"\\edef"!==n&&"\\xdef"!==n||(c=t.gullet.expandTokens(c)).reverse(),t.gullet.macros.set(i,{tokens:c,numArgs:a,delimiters:l},n===on[n]),{type:"internal",mode:t.mode}}}),lt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=an(t.gullet.popToken());t.gullet.consumeSpaces();var i=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return ln(t,r,i,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),lt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=an(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return ln(t,r,s,"\\\\globalfuture"===n),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var cn=function(e,t,n){var r=R(ce.math[e]&&ce.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},hn=function(e,t,n,r){var i=n.havingBaseStyle(t),s=Ke.makeSpan(r.concat(i.sizingClasses(n)),[e],n),o=i.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=i.sizeMultiplier,s},un=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=U(i),e.height-=i,e.depth+=i},dn=function(e,t,n,r,i,s){var o=function(e,t,n,r){return Ke.makeSymbol(e,"Size"+t+"-Regular",n,r)}(e,t,i,r),a=hn(Ke.makeSpan(["delimsizing","size"+t],[o],r),Q.TEXT,r,s);return n&&un(a,r,Q.TEXT),a},pn=function(e,t,n){return{type:"elem",elem:Ke.makeSpan(["delimsizinginner","Size1-Regular"===t?"delim-size1":"delim-size4"],[Ke.makeSpan([],[Ke.makeSymbol(e,t,n)])])}},mn=function(e,t,n){var r=Z["Size4-Regular"][e.charCodeAt(0)]?Z["Size4-Regular"][e.charCodeAt(0)][4]:Z["Size1-Regular"][e.charCodeAt(0)][4],i=new ie("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),s=new re([i],{width:U(r),height:U(t),style:"width:"+U(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ke.makeSvgSpan([],[s],n);return o.height=t,o.style.height=U(t),o.style.width=U(r),{type:"elem",elem:o}},fn={type:"kern",size:-.008},gn=["|","\\lvert","\\rvert","\\vert"],On=["\\|","\\lVert","\\rVert","\\Vert"],vn=function(e,t,n,r,i,s){var o,a,l,c,u="",d=0;o=l=c=e,a=null;var p="Size1-Regular";"\\uparrow"===e?l=c="⏐":"\\Uparrow"===e?l=c="‖":"\\downarrow"===e?o=l="⏐":"\\Downarrow"===e?o=l="‖":"\\updownarrow"===e?(o="\\uparrow",l="⏐",c="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",l="‖",c="\\Downarrow"):h(gn,e)?(l="∣",u="vert",d=333):h(On,e)?(l="∥",u="doublevert",d=556):"["===e||"\\lbrack"===e?(o="⎡",l="⎢",c="⎣",p="Size4-Regular",u="lbrack",d=667):"]"===e||"\\rbrack"===e?(o="⎤",l="⎥",c="⎦",p="Size4-Regular",u="rbrack",d=667):"\\lfloor"===e||"⌊"===e?(l=o="⎢",c="⎣",p="Size4-Regular",u="lfloor",d=667):"\\lceil"===e||"⌈"===e?(o="⎡",l=c="⎢",p="Size4-Regular",u="lceil",d=667):"\\rfloor"===e||"⌋"===e?(l=o="⎥",c="⎦",p="Size4-Regular",u="rfloor",d=667):"\\rceil"===e||"⌉"===e?(o="⎤",l=c="⎥",p="Size4-Regular",u="rceil",d=667):"("===e||"\\lparen"===e?(o="⎛",l="⎜",c="⎝",p="Size4-Regular",u="lparen",d=875):")"===e||"\\rparen"===e?(o="⎞",l="⎟",c="⎠",p="Size4-Regular",u="rparen",d=875):"\\{"===e||"\\lbrace"===e?(o="⎧",a="⎨",c="⎩",l="⎪",p="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="⎫",a="⎬",c="⎭",l="⎪",p="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(o="⎧",c="⎩",l="⎪",p="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(o="⎫",c="⎭",l="⎪",p="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(o="⎧",c="⎭",l="⎪",p="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(o="⎫",c="⎩",l="⎪",p="Size4-Regular");var m=cn(o,p,i),f=m.height+m.depth,g=cn(l,p,i),O=g.height+g.depth,v=cn(c,p,i),b=v.height+v.depth,y=0,w=1;if(null!==a){var x=cn(a,p,i);y=x.height+x.depth,w=2}var k=f+b+y,S=k+Math.max(0,Math.ceil((t-k)/(w*O)))*w*O,_=r.fontMetrics().axisHeight;n&&(_*=r.sizeMultiplier);var A=S/2-_,C=[];if(u.length>0){var $=S-f-b,T=Math.round(1e3*S),M=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(u,Math.round(1e3*$)),P=new ie(u,M),E=(d/1e3).toFixed(3)+"em",Z=(T/1e3).toFixed(3)+"em",B=new re([P],{width:E,height:Z,viewBox:"0 0 "+d+" "+T}),I=Ke.makeSvgSpan([],[B],r);I.height=T/1e3,I.style.width=E,I.style.height=Z,C.push({type:"elem",elem:I})}else{if(C.push(pn(c,p,i)),C.push(fn),null===a){var R=S-f-b+.016;C.push(mn(l,R,r))}else{var z=(S-f-b-y)/2+.016;C.push(mn(l,z,r)),C.push(fn),C.push(pn(a,p,i)),C.push(fn),C.push(mn(l,z,r))}C.push(fn),C.push(pn(o,p,i))}var Y=r.havingBaseStyle(Q.TEXT),L=Ke.makeVList({positionType:"bottom",positionData:A,children:C},Y);return hn(Ke.makeSpan(["delimsizing","mult"],[L],Y),Q.TEXT,r,s)},bn=.08,yn=function(e,t,n,r,i){var s=function(e,t,n){t*=1e3;var r="";switch(e){case"sqrtMain":r=function(e,t){return"M95,"+(622+e+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize1":r=function(e,t){return"M263,"+(601+e+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize2":r=function(e,t){return"M983 "+(10+e+80)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize3":r=function(e,t){return"M424,"+(2398+e+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" 80\nh400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize4":r=function(e,t){return"M473,"+(2713+e+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" 80h400000v"+(40+e)+"H1017.7z"}(t);break;case"sqrtTall":r=function(e,t,n){return"M702 "+(e+80)+"H400000"+(40+e)+"\nH742v"+(n-54-80-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+e)+"H742z"}(t,0,n)}return r}(e,r,n),o=new ie(e,s),a=new re([o],{width:"400em",height:U(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ke.makeSvgSpan(["hide-tail"],[a],i)},wn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],xn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],kn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sn=[0,1.2,1.8,2.4,3],_n=[{type:"small",style:Q.SCRIPTSCRIPT},{type:"small",style:Q.SCRIPT},{type:"small",style:Q.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],An=[{type:"small",style:Q.SCRIPTSCRIPT},{type:"small",style:Q.SCRIPT},{type:"small",style:Q.TEXT},{type:"stack"}],Cn=[{type:"small",style:Q.SCRIPTSCRIPT},{type:"small",style:Q.SCRIPT},{type:"small",style:Q.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Qn=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},$n=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&"stack"!==n[i].type;i++){var s=cn(e,Qn(n[i]),"math"),o=s.height+s.depth;if("small"===n[i].type&&(o*=r.havingBaseStyle(n[i].style).sizeMultiplier),o>t)return n[i]}return n[n.length-1]},Tn=function(e,t,n,r,i,s){var o;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),o=h(kn,e)?_n:h(wn,e)?Cn:An;var a=$n(e,t,o,r);return"small"===a.type?function(e,t,n,r,i,s){var o=Ke.makeSymbol(e,"Main-Regular",i,r),a=hn(o,t,r,s);return n&&un(a,r,t),a}(e,a.style,n,r,i,s):"large"===a.type?dn(e,a.size,n,r,i,s):vn(e,t,n,r,i,s)},Mn={sqrtImage:function(e,t){var n,r,i=t.havingBaseSizing(),s=$n("\\surd",e*i.sizeMultiplier,Cn,i),o=i.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,h=0;return"small"===s.type?(e<1?o=1:e<1.4&&(o=.7),c=(1+a)/o,(n=yn("sqrtMain",l=(1+a+bn)/o,h=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",r=.833/o):"large"===s.type?(h=1080*Sn[s.size],c=(Sn[s.size]+a)/o,l=(Sn[s.size]+a+bn)/o,(n=yn("sqrtSize"+s.size,l,h,a,t)).style.minWidth="1.02em",r=1/o):(l=e+a+bn,c=e+a,h=Math.floor(1e3*e+a)+80,(n=yn("sqrtTall",l,h,a,t)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=U(l),{span:n,advanceWidth:r,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*o}},sizedDelim:function(e,t,n,r,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),h(wn,e)||h(kn,e))return dn(e,t,!1,n,r,i);if(h(xn,e))return vn(e,Sn[t],!1,n,r,i);throw new s("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:Sn,customSizedDelim:Tn,leftRightDelim:function(e,t,n,r,i,s){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,a=5/r.fontMetrics().ptPerEm,l=Math.max(t-o,n+o),c=Math.max(l/500*901,2*l-a);return Tn(e,c,!0,r,i,s)}},Pn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},En=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Zn(e,t){var n=Nt(e);if(n&&h(En,n.text))return n;throw new s(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Bn(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}lt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Zn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Pn[e.funcName].size,mclass:Pn[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?Ke.makeSpan([e.mclass]):Mn.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(Tt(e.delim,e.mode));var n=new $t.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=U(Mn.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),lt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new s("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Zn(t[0],e).text,color:n}}}),lt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Zn(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=qt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{Bn(e);for(var n,r,i=Ot(e.body,t,!0,["mopen","mclose"]),s=0,o=0,a=!1,l=0;l<i.length;l++)i[l].isMiddle?a=!0:(s=Math.max(i[l].height,s),o=Math.max(i[l].depth,o));if(s*=t.sizeMultiplier,o*=t.sizeMultiplier,n="."===e.left?xt(t,["mopen"]):Mn.leftRightDelim(e.left,s,o,t,e.mode,["mopen"]),i.unshift(n),a)for(var c=1;c<i.length;c++){var h=i[c].isMiddle;h&&(i[c]=Mn.leftRightDelim(h.delim,s,o,h.options,e.mode,[]))}if("."===e.right)r=xt(t,["mclose"]);else{var u=e.rightColor?t.withColor(e.rightColor):t;r=Mn.leftRightDelim(e.right,s,o,u,e.mode,["mclose"])}return i.push(r),Ke.makeSpan(["minner"],i,t)},mathmlBuilder:(e,t)=>{Bn(e);var n=Et(e.body,t);if("."!==e.left){var r=new $t.MathNode("mo",[Tt(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==e.right){var i=new $t.MathNode("mo",[Tt(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Mt(n)}}),lt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Zn(t[0],e);if(!e.parser.leftrightDepth)throw new s("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if("."===e.delim)n=xt(t,[]);else{n=Mn.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?Tt("|","text"):Tt(e.delim,e.mode),r=new $t.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var In=(e,t)=>{var n,r,i,s=Ke.wrapFragment(kt(e.body,t),t),o=e.label.slice(1),a=t.sizeMultiplier,l=0,c=f(e.body);if("sout"===o)(n=Ke.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,l=-.5*t.fontMetrics().xHeight;else if("phase"===o){var h=W({number:.6,unit:"pt"},t),u=W({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var d=s.height+s.depth+h+u;s.style.paddingLeft=U(d/2+h);var p=Math.floor(1e3*d*a),m="M400000 "+(r=p)+" H0 L"+r/2+" 0 l65 45 L145 "+(r-80)+" H400000z",g=new re([new ie("phase",m)],{width:"400em",height:U(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});(n=Ke.makeSvgSpan(["hide-tail"],[g],t)).style.height=U(d),l=s.depth+h+u}else{/cancel/.test(o)?c||s.classes.push("cancel-pad"):"angl"===o?s.classes.push("anglpad"):s.classes.push("boxpad");var O=0,v=0,b=0;/box/.test(o)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=O=t.fontMetrics().fboxsep+("colorbox"===o?0:b)):"angl"===o?(O=4*(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),v=Math.max(0,.25-s.depth)):v=O=c?.2:0,n=function(e,t,n,r,i){var s,o=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(s=Ke.makeSpan(["stretchy",t],[],i),"fbox"===t){var a=i.color&&i.getColor();a&&(s.style.borderColor=a)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new se({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new se({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new re(l,{width:"100%",height:U(o)});s=Ke.makeSvgSpan([],[c],i)}return s.height=o,s.style.height=U(o),s}(s,o,O,v,t),/fbox|boxed|fcolorbox/.test(o)?(n.style.borderStyle="solid",n.style.borderWidth=U(b)):"angl"===o&&.049!==b&&(n.style.borderTopWidth=U(b),n.style.borderRightWidth=U(b)),l=s.depth+v,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)i=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:l},{type:"elem",elem:s,shift:0}]},t);else{var y=/cancel|phase/.test(o)?["svg-align"]:[];i=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:n,shift:l,wrapperClasses:y}]},t)}return/cancel/.test(o)&&(i.height=s.height,i.depth=s.depth),/cancel/.test(o)&&!c?Ke.makeSpan(["mord","cancel-lap"],[i],t):Ke.makeSpan(["mord"],[i],t)},Rn=(e,t)=>{var n=0,r=new $t.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bt(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};lt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,s=qt(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:In,mathmlBuilder:Rn}),lt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,s=qt(t[0],"color-token").color,o=qt(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:In,mathmlBuilder:Rn}),lt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),lt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:In,mathmlBuilder:Rn}),lt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var zn={};function Yn(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=e,a={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)zn[n[l]]=a;s&&(ot[t]=s),o&&(at[t]=o)}var Ln={};function Dn(e,t){Ln[e]=t}function Xn(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var qn=e=>{if(!e.parser.settings.displayMode)throw new s("{"+e.envName+"} can be used only in display mode.")};function jn(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function Nn(e,t,n){var{hskipBeforeAndAfter:r,addJot:o,cols:a,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:u,emptySingleRow:d,maxNumCols:p,leqno:m}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var f=e.gullet.expandMacroAsText("\\arraystretch");if(null==f)l=1;else if(!(l=parseFloat(f))||l<0)throw new s("Invalid \\arraystretch: "+f)}e.gullet.beginGroup();var g=[],O=[g],v=[],b=[],y=null!=h?[]:void 0;function w(){h&&e.gullet.macros.set("\\@eqnsw","1",!0)}function x(){y&&(e.gullet.macros.get("\\df@tag")?(y.push(e.subparse([new i("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):y.push(Boolean(h)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(w(),b.push(Xn(e));;){var k=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),k={type:"ordgroup",mode:e.mode,body:k},n&&(k={type:"styling",mode:e.mode,style:n,body:[k]}),g.push(k);var S=e.fetch().text;if("&"===S){if(p&&g.length===p){if(u||c)throw new s("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===S){x(),1===g.length&&"styling"===k.type&&0===k.body[0].body.length&&(O.length>1||!d)&&O.pop(),b.length<O.length+1&&b.push([]);break}if("\\\\"!==S)throw new s("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var _=void 0;" "!==e.gullet.future().text&&(_=e.parseSizeGroup(!0)),v.push(_?_.value:null),x(),b.push(Xn(e)),g=[],O.push(g),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:l,body:O,cols:a,rowGaps:v,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:c,tags:y,leqno:m}}function Wn(e){return"d"===e.slice(0,1)?"display":"text"}var Un=function(e,t){var n,r,i=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(i),c=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(Q.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var m="CD"===e.colSeparationType?W({number:3,unit:"ex"},t):12*d,f=3*d,g=e.arraystretch*m,O=.7*g,v=.3*g,b=0;function y(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),c.push({pos:b,isDashed:e[t]})}for(y(o[0]),n=0;n<e.body.length;++n){var w=e.body[n],x=O,k=v;a<w.length&&(a=w.length);var S=new Array(w.length);for(r=0;r<w.length;++r){var _=kt(w[r],t);k<_.depth&&(k=_.depth),x<_.height&&(x=_.height),S[r]=_}var A=e.rowGaps[n],C=0;A&&(C=W(A,t))>0&&(k<(C+=v)&&(k=C),C=0),e.addJot&&(k+=f),S.height=x,S.depth=k,b+=x,S.pos=b,b+=k+C,l[n]=S,y(o[n+1])}var $,T,M=b/2+t.fontMetrics().axisHeight,P=e.cols||[],E=[],Z=[];if(e.tags&&e.tags.some((e=>e)))for(n=0;n<i;++n){var B=l[n],I=B.pos-M,R=e.tags[n],z=void 0;(z=!0===R?Ke.makeSpan(["eqn-num"],[],t):Ke.makeSpan([],!1===R?[]:Ot(R,t,!0),t)).depth=B.depth,z.height=B.height,Z.push({type:"elem",elem:z,shift:I})}for(r=0,T=0;r<a||T<P.length;++r,++T){for(var Y=P[T]||{},L=!0;"separator"===Y.type;){if(L||(($=Ke.makeSpan(["arraycolsep"],[])).style.width=U(t.fontMetrics().doubleRuleSep),E.push($)),"|"!==Y.separator&&":"!==Y.separator)throw new s("Invalid separator type: "+Y.separator);var D="|"===Y.separator?"solid":"dashed",X=Ke.makeSpan(["vertical-separator"],[],t);X.style.height=U(b),X.style.borderRightWidth=U(h),X.style.borderRightStyle=D,X.style.margin="0 "+U(-h/2);var q=b-M;q&&(X.style.verticalAlign=U(-q)),E.push(X),Y=P[++T]||{},L=!1}if(!(r>=a)){var j=void 0;(r>0||e.hskipBeforeAndAfter)&&0!==(j=u(Y.pregap,p))&&(($=Ke.makeSpan(["arraycolsep"],[])).style.width=U(j),E.push($));var N=[];for(n=0;n<i;++n){var V=l[n],G=V[r];if(G){var H=V.pos-M;G.depth=V.depth,G.height=V.height,N.push({type:"elem",elem:G,shift:H})}}N=Ke.makeVList({positionType:"individualShift",children:N},t),N=Ke.makeSpan(["col-align-"+(Y.align||"c")],[N]),E.push(N),(r<a-1||e.hskipBeforeAndAfter)&&0!==(j=u(Y.postgap,p))&&(($=Ke.makeSpan(["arraycolsep"],[])).style.width=U(j),E.push($))}}if(l=Ke.makeSpan(["mtable"],E),c.length>0){for(var F=Ke.makeLineSpan("hline",t,h),J=Ke.makeLineSpan("hdashline",t,h),K=[{type:"elem",elem:l,shift:0}];c.length>0;){var ee=c.pop(),te=ee.pos-M;ee.isDashed?K.push({type:"elem",elem:J,shift:te}):K.push({type:"elem",elem:F,shift:te})}l=Ke.makeVList({positionType:"individualShift",children:K},t)}if(0===Z.length)return Ke.makeSpan(["mord"],[l],t);var ne=Ke.makeVList({positionType:"individualShift",children:Z},t);return ne=Ke.makeSpan(["tag"],[ne],t),Ke.makeFragment([l,ne])},Vn={c:"center ",l:"left ",r:"right "},Gn=function(e,t){for(var n=[],r=new $t.MathNode("mtd",[],["mtr-glue"]),i=new $t.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],a=[],l=0;l<o.length;l++)a.push(new $t.MathNode("mtd",[Bt(o[l],t)]));e.tags&&e.tags[s]&&(a.unshift(r),a.push(r),e.leqno?a.unshift(i):a.push(i)),n.push(new $t.MathNode("mtr",a))}var c=new $t.MathNode("mtable",n),h=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",U(h));var u="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,m="",f=!1,g=0,O=p.length;"separator"===p[0].type&&(u+="top ",g=1),"separator"===p[p.length-1].type&&(u+="bottom ",O-=1);for(var v=g;v<O;v++)"align"===p[v].type?(d+=Vn[p[v].align],f&&(m+="none "),f=!0):"separator"===p[v].type&&f&&(m+="|"===p[v].separator?"solid ":"dashed ",f=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(m)&&c.setAttribute("columnlines",m.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],y="",w=1;w<b.length;w++)y+=w%2?"0em ":"1em ";c.setAttribute("columnspacing",y.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var x="",k=e.hLinesBeforeRow;u+=k[0].length>0?"left ":"",u+=k[k.length-1].length>0?"right ":"";for(var S=1;S<k.length-1;S++)x+=0===k[S].length?"none ":k[S][0]?"dashed ":"solid ";return/[sd]/.test(x)&&c.setAttribute("rowlines",x.trim()),""!==u&&(c=new $t.MathNode("menclose",[c])).setAttribute("notation",u.trim()),e.arraystretch&&e.arraystretch<1&&(c=new $t.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},Hn=function(e,t){-1===e.envName.indexOf("ed")&&qn(e);var n,r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o="split"===e.envName,a=Nn(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:jn(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var h="",u=0;u<t[0].body.length;u++)h+=qt(t[0].body[u],"textord").text;n=Number(h),l=2*n}var d=!l;a.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var r=qt(e[t],"styling");qt(r.body[0],"ordgroup").body.unshift(c)}if(d)l<e.length&&(l=e.length);else{var i=e.length/2;if(n<i)throw new s("Too many math in a row: expected "+n+", but got "+i,e[0])}}));for(var p=0;p<l;++p){var m="r",f=0;p%2==1?m="l":p>0&&d&&(f=1),r[p]={type:"align",align:m,pregap:f,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};Yn({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=(Nt(t[0])?[t[0]]:qt(t[0],"ordgroup").body).map((function(e){var t=jt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new s("Unknown column alignment: "+t,e)})),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Nn(e.parser,r,Wn(e.envName))},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,-1==="lcr".indexOf(n))throw new s("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Nn(e.parser,r,Wn(e.envName)),a=Math.max(0,...o.body.map((e=>e.length)));return o.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=Nn(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=(Nt(t[0])?[t[0]]:qt(t[0],"ordgroup").body).map((function(e){var t=jt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new s("Unknown column alignment: "+t,e)}));if(n.length>1)throw new s("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=Nn(e.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new s("{subarray} can contain only one column");return r},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=Nn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Wn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Hn,htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){h(["gather","gather*"],e.envName)&&qn(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:jn(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Nn(e.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Hn,htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){qn(e);var t={autoTag:jn(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Nn(e.parser,t,"display")},htmlBuilder:Un,mathmlBuilder:Gn}),Yn({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(qn(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new s("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var r,i,o=[],a=[o],l=0;l<t.length;l++){for(var c=t[l],h={type:"styling",body:[],mode:"math",style:"display"},u=0;u<c.length;u++)if(tn(c[u])){o.push(h);var d=jt(c[u+=1]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(d)>-1);else{if(!("<>AV".indexOf(d)>-1))throw new s('Expected one of "<>AV=|." after @',c[u]);for(var m=0;m<2;m++){for(var f=!0,g=u+1;g<c.length;g++){if(i=d,("mathord"===(r=c[g]).type||"atom"===r.type)&&r.text===i){f=!1,u=g;break}if(tn(c[g]))throw new s("Missing a "+d+" character to complete a CD arrow.",c[g]);p[m].body.push(c[g])}if(f)throw new s("Missing a "+d+" character to complete a CD arrow.",c[u])}}var O={type:"styling",body:[nn(d,p,e)],mode:"math",style:"display"};o.push(O),h={type:"styling",body:[],mode:"math",style:"display"}}else h.body.push(c[u]);l%2==0?o.push(h):o.shift(),o=[],a.push(o)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}(e.parser)),htmlBuilder:Un,mathmlBuilder:Gn}),Dn("\\nonumber","\\gdef\\@eqnsw{0}"),Dn("\\notag","\\nonumber"),lt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new s(e.funcName+" valid only within array environment")}});var Fn=zn;lt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if("ordgroup"!==i.type)throw new s("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=qt(i.body[a],"textord").text;if("\\begin"===r){if(!Fn.hasOwnProperty(o))throw new s("No such environment: "+o,i);var l=Fn[o],{args:c,optArgs:h}=n.parseArguments("\\begin{"+o+"}",l),u={mode:n.mode,envName:o,parser:n},d=l.handler(u,c,h);n.expect("\\end",!1);var p=n.nextToken,m=qt(n.parseFunction(),"environment");if(m.name!==o)throw new s("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",p);return d}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var Jn=(e,t)=>{var n=e.font,r=t.withFont(n);return kt(e.body,r)},Kn=(e,t)=>{var n=e.font,r=t.withFont(n);return Bt(e.body,r)},er={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};lt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=ht(t[0]),s=r;return s in er&&(s=er[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:Jn,mathmlBuilder:Kn}),lt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=f(r);return{type:"mclass",mode:n.mode,mclass:Kt(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),lt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:s}=n,o=n.parseExpression(!0,i);return{type:"font",mode:s,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:Jn,mathmlBuilder:Kn});var tr=(e,t)=>{var n=t;return"display"===e?n=n.id>=Q.SCRIPT.id?n.text():Q.DISPLAY:"text"===e&&n.size===Q.DISPLAY.size?n=Q.TEXT:"script"===e?n=Q.SCRIPT:"scriptscript"===e&&(n=Q.SCRIPTSCRIPT),n},nr=(e,t)=>{var n,r=tr(e.size,t.style),i=r.fracNum(),s=r.fracDen();n=t.havingStyle(i);var o=kt(e.numer,n,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}n=t.havingStyle(s);var c,h,u,d,p,m,f,g,O,v,b=kt(e.denom,n,t);if(e.hasBarLine?(e.barSize?(h=W(e.barSize,t),c=Ke.makeLineSpan("frac-line",t,h)):c=Ke.makeLineSpan("frac-line",t),h=c.height,u=c.height):(c=null,h=0,u=t.fontMetrics().defaultRuleThickness),r.size===Q.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,p=h>0?3*u:7*u,m=t.fontMetrics().denom1):(h>0?(d=t.fontMetrics().num2,p=u):(d=t.fontMetrics().num3,p=3*u),m=t.fontMetrics().denom2),c){var y=t.fontMetrics().axisHeight;d-o.depth-(y+.5*h)<p&&(d+=p-(d-o.depth-(y+.5*h))),y-.5*h-(b.height-m)<p&&(m+=p-(y-.5*h-(b.height-m))),f=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:m},{type:"elem",elem:c,shift:-(y-.5*h)},{type:"elem",elem:o,shift:-d}]},t)}else{var w=d-o.depth-(b.height-m);w<p&&(d+=.5*(p-w),m+=.5*(p-w)),f=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:m},{type:"elem",elem:o,shift:-d}]},t)}return n=t.havingStyle(r),f.height*=n.sizeMultiplier/t.sizeMultiplier,f.depth*=n.sizeMultiplier/t.sizeMultiplier,g=r.size===Q.DISPLAY.size?t.fontMetrics().delim1:r.size===Q.SCRIPTSCRIPT.size?t.havingStyle(Q.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,O=null==e.leftDelim?xt(t,["mopen"]):Mn.customSizedDelim(e.leftDelim,g,!0,t.havingStyle(r),e.mode,["mopen"]),v=e.continued?Ke.makeSpan([]):null==e.rightDelim?xt(t,["mclose"]):Mn.customSizedDelim(e.rightDelim,g,!0,t.havingStyle(r),e.mode,["mclose"]),Ke.makeSpan(["mord"].concat(n.sizingClasses(t)),[O,Ke.makeSpan(["mfrac"],[f]),v],t)},rr=(e,t)=>{var n=new $t.MathNode("mfrac",[Bt(e.numer,t),Bt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=W(e.barSize,t);n.setAttribute("linethickness",U(r))}}else n.setAttribute("linethickness","0px");var i=tr(e.size,t.style);if(i.size!==t.style.size){n=new $t.MathNode("mstyle",[n]);var s=i.size===Q.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var a=new $t.MathNode("mo",[new $t.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),null!=e.rightDelim){var l=new $t.MathNode("mo",[new $t.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Mt(o)}return n};lt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:r,funcName:i}=e,s=t[0],o=t[1],a=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:o,hasBarLine:n,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:nr,mathmlBuilder:rr}),lt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],s=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),lt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:r,token:i}=e;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}});var ir=["display","text","script","scriptscript"],sr=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};lt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:r}=e,i=t[4],s=t[5],o=ht(t[0]),a="atom"===o.type&&"open"===o.family?sr(o.text):null,l=ht(t[1]),c="atom"===l.type&&"close"===l.family?sr(l.text):null,h=qt(t[2],"size"),u=null;n=!!h.isBlank||(u=h.value).number>0;var d="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var m=qt(p.body[0],"textord");d=ir[Number(m.text)]}}else p=qt(p,"textord"),d=ir[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:n,barSize:u,leftDelim:a,rightDelim:c,size:d}},htmlBuilder:nr,mathmlBuilder:rr}),lt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:qt(t[0],"size").value,token:i}}}),lt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],s=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(qt(t[1],"infix").size),o=t[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:nr,mathmlBuilder:rr});var or=(e,t)=>{var n,r,i=t.style;"supsub"===e.type?(n=e.sup?kt(e.sup,t.havingStyle(i.sup()),t):kt(e.sub,t.havingStyle(i.sub()),t),r=qt(e.base,"horizBrace")):r=qt(e,"horizBrace");var s,o=kt(r.base,t.havingBaseStyle(Q.DISPLAY)),a=Xt(r,t);if(r.isOver?(s=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(s=Ke.makeVList({positionType:"bottom",positionData:o.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=Ke.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t);s=r.isOver?Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Ke.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Ke.makeSpan(["mord",r.isOver?"mover":"munder"],[s],t)};lt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:or,mathmlBuilder:(e,t)=>{var n=Dt(e.label);return new $t.MathNode(e.isOver?"mover":"munder",[Bt(e.base,t),n])}}),lt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=qt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ut(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Ot(e.body,t,!1);return Ke.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=Zt(e.body,t);return n instanceof Ct||(n=new Ct("mrow",[n])),n.setAttribute("href",e.href),n}}),lt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=qt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];"~"===o&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ut(a)}}}),lt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ut(t[0])}},htmlBuilder(e,t){var n=Ot(e.body,t,!1);return Ke.makeFragment(n)},mathmlBuilder:(e,t)=>new $t.MathNode("mrow",Et(e.body,t))}),lt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var n,{parser:r,funcName:i,token:o}=e,a=qt(t[0],"raw").string,l=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c={};switch(i){case"\\htmlClass":c.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var h=a.split(","),u=0;u<h.length;u++){var d=h[u].split("=");if(2!==d.length)throw new s("Error parsing key-value for \\htmlData");c["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:c};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:c,body:ut(l)}:r.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var n=Ot(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=Ke.makeSpan(r,n,t);for(var s in e.attributes)"class"!==s&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},mathmlBuilder:(e,t)=>Zt(e.body,t)}),lt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ut(t[0]),mathml:ut(t[1])}},htmlBuilder:(e,t)=>{var n=Ot(e.html,t,!1);return Ke.makeFragment(n)},mathmlBuilder:(e,t)=>Zt(e.mathml,t)});var ar=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new s("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!N(n))throw new s("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};lt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=qt(n[0],"raw").string.split(","),h=0;h<c.length;h++){var u=c[h].split("=");if(2===u.length){var d=u[1].trim();switch(u[0].trim()){case"alt":l=d;break;case"width":i=ar(d);break;case"height":o=ar(d);break;case"totalheight":a=ar(d);break;default:throw new s("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var p=qt(t[0],"url").url;return""===l&&(l=(l=(l=p).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:l,width:i,height:o,totalheight:a,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=W(e.height,t),r=0;e.totalheight.number>0&&(r=W(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=W(e.width,t));var s={height:U(n+r)};i>0&&(s.width=U(i)),r>0&&(s.verticalAlign=U(-r));var o=new ee(e.src,e.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(e,t)=>{var n=new $t.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=W(e.height,t),i=0;if(e.totalheight.number>0&&(i=W(e.totalheight,t)-r,n.setAttribute("valign",U(-i))),n.setAttribute("height",U(r+i)),e.width.number>0){var s=W(e.width,t);n.setAttribute("width",U(s))}return n.setAttribute("src",e.src),n}}),lt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=qt(t[0],"size");if(n.settings.strict){var s="m"===r[1],o="mu"===i.value.unit;s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:(e,t)=>Ke.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=W(e.dimension,t);return new $t.SpaceNode(n)}}),lt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=Ke.makeSpan([],[kt(e.body,t)]),n=Ke.makeSpan(["inner"],[n],t)):n=Ke.makeSpan(["inner"],[kt(e.body,t)]);var r=Ke.makeSpan(["fix"],[]),i=Ke.makeSpan([e.alignment],[n,r],t),s=Ke.makeSpan(["strut"]);return s.style.height=U(i.height+i.depth),i.depth&&(s.style.verticalAlign=U(-i.depth)),i.children.unshift(s),i=Ke.makeSpan(["thinbox"],[i],t),Ke.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new $t.MathNode("mpadded",[Bt(e.body,t)]);if("rlap"!==e.alignment){var r="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),lt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var s="\\("===n?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}}),lt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new s("Mismatched "+e.funcName)}});var lr=(e,t)=>{switch(t.style.size){case Q.DISPLAY.size:return e.display;case Q.TEXT.size:return e.text;case Q.SCRIPT.size:return e.script;case Q.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};lt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ut(t[0]),text:ut(t[1]),script:ut(t[2]),scriptscript:ut(t[3])}},htmlBuilder:(e,t)=>{var n=lr(e,t),r=Ot(n,t,!1);return Ke.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=lr(e,t);return Zt(n,t)}});var cr=(e,t,n,r,i,s,o)=>{e=Ke.makeSpan([],[e]);var a,l,c,h=n&&f(n);if(t){var u=kt(t,r.havingStyle(i.sup()),r);l={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=kt(n,r.havingStyle(i.sub()),r);a={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}if(l&&a){var p=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+o;c=Ke.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-s)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var m=e.height-o;c=Ke.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:U(-s)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r)}else{if(!l)return e;var g=e.depth+o;c=Ke.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:U(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var O=[c];if(a&&0!==s&&!h){var v=Ke.makeSpan(["mspace"],[],r);v.style.marginRight=U(s),O.unshift(v)}return Ke.makeSpan(["mop","op-limits"],O,r)},hr=["\\smallint"],ur=(e,t)=>{var n,r,i,s=!1;"supsub"===e.type?(n=e.sup,r=e.sub,i=qt(e.base,"op"),s=!0):i=qt(e,"op");var o,a=t.style,l=!1;if(a.size===Q.DISPLAY.size&&i.symbol&&!h(hr,i.name)&&(l=!0),i.symbol){var c=l?"Size2-Regular":"Size1-Regular",u="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(u=i.name.slice(1),i.name="oiint"===u?"\\iint":"\\iiint"),o=Ke.makeSymbol(i.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),u.length>0){var d=o.italic,p=Ke.staticSvg(u+"Size"+(l?"2":"1"),t);o=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},t),i.name="\\"+u,o.classes.unshift("mop"),o.italic=d}}else if(i.body){var m=Ot(i.body,t,!0);1===m.length&&m[0]instanceof ne?(o=m[0]).classes[0]="mop":o=Ke.makeSpan(["mop"],m,t)}else{for(var f=[],g=1;g<i.name.length;g++)f.push(Ke.mathsym(i.name[g],i.mode,t));o=Ke.makeSpan(["mop"],f,t)}var O=0,v=0;return(o instanceof ne||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(O=(o.height-o.depth)/2-t.fontMetrics().axisHeight,v=o.italic),s?cr(o,n,r,t,a,v,O):(O&&(o.style.position="relative",o.style.top=U(O)),o)},dr=(e,t)=>{var n;if(e.symbol)n=new Ct("mo",[Tt(e.name,e.mode)]),h(hr,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Ct("mo",Et(e.body,t));else{n=new Ct("mi",[new Qt(e.name.slice(1))]);var r=new Ct("mo",[Tt("⁡","text")]);n=e.parentIsSupSub?new Ct("mrow",[n,r]):At([n,r])}return n},pr={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};lt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return 1===i.length&&(i=pr[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ur,mathmlBuilder:dr}),lt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ut(r)}},htmlBuilder:ur,mathmlBuilder:dr});var mr={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};lt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ur,mathmlBuilder:dr}),lt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ur,mathmlBuilder:dr}),lt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return 1===r.length&&(r=mr[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ur,mathmlBuilder:dr});var fr=(e,t)=>{var n,r,i,s,o=!1;if("supsub"===e.type?(n=e.sup,r=e.sub,i=qt(e.base,"operatorname"),o=!0):i=qt(e,"operatorname"),i.body.length>0){for(var a=i.body.map((e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=Ot(a,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof ne&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Ke.makeSpan(["mop"],l,t)}else s=Ke.makeSpan(["mop"],[],t);return o?cr(s,n,r,t,t.style,0,0):s};function gr(e,t,n){for(var r=Ot(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,t.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+t.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return Ke.makeFragment(r)}lt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:ut(i),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:fr,mathmlBuilder:(e,t)=>{for(var n=Et(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(s instanceof $t.SpaceNode);else if(s instanceof $t.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=s.children[0];1===s.children.length&&o instanceof $t.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var a=n.map((e=>e.toText())).join("");n=[new $t.TextNode(a)]}var l=new $t.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new $t.MathNode("mo",[Tt("⁡","text")]);return e.parentIsSupSub?new $t.MathNode("mrow",[l,c]):$t.newDocumentFragment([l,c])}}),Dn("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ct({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Ke.makeFragment(Ot(e.body,t,!1)):Ke.makeSpan(["mord"],Ot(e.body,t,!0),t),mathmlBuilder:(e,t)=>Zt(e.body,t,!0)}),lt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=kt(e.body,t.havingCrampedStyle()),r=Ke.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return Ke.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var n=new $t.MathNode("mo",[new $t.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new $t.MathNode("mover",[Bt(e.body,t),n]);return r.setAttribute("accent","true"),r}}),lt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:ut(r)}},htmlBuilder:(e,t)=>{var n=Ot(e.body,t.withPhantom(),!1);return Ke.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Et(e.body,t);return new $t.MathNode("mphantom",n)}}),lt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Ke.makeSpan([],[kt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Ke.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Et(ut(e.body),t),r=new $t.MathNode("mphantom",n),i=new $t.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),lt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Ke.makeSpan(["inner"],[kt(e.body,t.withPhantom())]),r=Ke.makeSpan(["fix"],[]);return Ke.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Et(ut(e.body),t),r=new $t.MathNode("mphantom",n),i=new $t.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),lt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=qt(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=kt(e.body,t),r=W(e.dy,t);return Ke.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new $t.MathNode("mpadded",[Bt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}}),lt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),lt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],s=qt(t[0],"size"),o=qt(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&qt(i,"size").value,width:s.value,height:o.value}},htmlBuilder(e,t){var n=Ke.makeSpan(["mord","rule"],[],t),r=W(e.width,t),i=W(e.height,t),s=e.shift?W(e.shift,t):0;return n.style.borderRightWidth=U(r),n.style.borderTopWidth=U(i),n.style.bottom=U(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=1.125*i*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=W(e.width,t),r=W(e.height,t),i=e.shift?W(e.shift,t):0,s=t.color&&t.getColor()||"black",o=new $t.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",U(n)),o.setAttribute("height",U(r));var a=new $t.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",U(i)):(a.setAttribute("height",U(i)),a.setAttribute("depth",U(-i))),a.setAttribute("voffset",U(i)),a}});var Or=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];lt({type:"sizing",names:Or,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Or.indexOf(r)+1,body:s}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return gr(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Et(e.body,n),i=new $t.MathNode("mstyle",r);return i.setAttribute("mathsize",U(n.sizeMultiplier)),i}}),lt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,s=!1,o=n[0]&&qt(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l)if("t"===(a=o.body[l].text))i=!0;else{if("b"!==a){i=!1,s=!1;break}s=!0}else i=!0,s=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:s}},htmlBuilder:(e,t)=>{var n=Ke.makeSpan([],[kt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Ke.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var n=new $t.MathNode("mpadded",[Bt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),lt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],s=t[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(e,t){var n=kt(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Ke.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<Q.TEXT.id&&(i=t.fontMetrics().xHeight);var s=r+i/4,o=n.height+n.depth+s+r,{span:a,ruleWidth:l,advanceWidth:c}=Mn.sqrtImage(o,t),h=a.height-l;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var u=a.height-n.height-s-l;n.style.paddingLeft=U(c);var d=Ke.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+u)},{type:"elem",elem:a},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(Q.SCRIPTSCRIPT),m=kt(e.index,p,t),f=.6*(d.height-d.depth),g=Ke.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:m}]},t),O=Ke.makeSpan(["root"],[g]);return Ke.makeSpan(["mord","sqrt"],[O,d],t)}return Ke.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new $t.MathNode("mroot",[Bt(n,t),Bt(r,t)]):new $t.MathNode("msqrt",[Bt(n,t)])}});var vr={display:Q.DISPLAY,text:Q.TEXT,script:Q.SCRIPT,scriptscript:Q.SCRIPTSCRIPT};lt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(e,t){var n=vr[e.style],r=t.havingStyle(n).withFont("");return gr(e.body,r,t)},mathmlBuilder(e,t){var n=vr[e.style],r=t.havingStyle(n),i=Et(e.body,r),s=new $t.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}}),ct({type:"supsub",htmlBuilder(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===Q.DISPLAY.size||n.alwaysHandleSupSub)?ur:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===Q.DISPLAY.size||n.limits)?fr:null:"accent"===n.type?f(n.base)?Wt:null:"horizBrace"===n.type&&!e.sub===n.isOver?or:null:null}(e,t);if(n)return n(e,t);var r,i,s,{base:o,sup:a,sub:l}=e,c=kt(o,t),h=t.fontMetrics(),u=0,d=0,p=o&&f(o);if(a){var m=t.havingStyle(t.style.sup());r=kt(a,m,t),p||(u=c.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());i=kt(l,g,t),p||(d=c.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}s=t.style===Q.DISPLAY?h.sup1:t.style.cramped?h.sup3:h.sup2;var O,v=t.sizeMultiplier,b=U(.5/h.ptPerEm/v),y=null;if(i){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof ne||w)&&(y=U(-c.italic))}if(r&&i){u=Math.max(u,s,r.depth+.25*h.xHeight),d=Math.max(d,h.sub2);var x=4*h.defaultRuleThickness;if(u-r.depth-(i.height-d)<x){d=x-(u-r.depth)+i.height;var k=.8*h.xHeight-(u-r.depth);k>0&&(u+=k,d-=k)}O=Ke.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d,marginRight:b,marginLeft:y},{type:"elem",elem:r,shift:-u,marginRight:b}]},t)}else if(i){d=Math.max(d,h.sub1,i.height-.8*h.xHeight),O=Ke.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:i,marginLeft:y,marginRight:b}]},t)}else{if(!r)throw new Error("supsub must have either sup or sub.");u=Math.max(u,s,r.depth+.25*h.xHeight),O=Ke.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:r,marginRight:b}]},t)}var S=wt(c,"right")||"mord";return Ke.makeSpan([S],[c,Ke.makeSpan(["msupsub"],[O])],t)},mathmlBuilder(e,t){var n,r=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(r=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,s=[Bt(e.base,t)];if(e.sub&&s.push(Bt(e.sub,t)),e.sup&&s.push(Bt(e.sup,t)),r)i=n?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;i=o&&"op"===o.type&&o.limits&&t.style===Q.DISPLAY||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(t.style===Q.DISPLAY||o.limits)?"munderover":"msubsup"}else{var a=e.base;i=a&&"op"===a.type&&a.limits&&(t.style===Q.DISPLAY||a.alwaysHandleSupSub)||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(a.limits||t.style===Q.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===Q.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===Q.DISPLAY)?"mover":"msup"}return new $t.MathNode(i,s)}}),ct({type:"atom",htmlBuilder:(e,t)=>Ke.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new $t.MathNode("mo",[Tt(e.text,e.mode)]);if("bin"===e.family){var r=Pt(e,t);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var br={mi:"italic",mn:"normal",mtext:"normal"};ct({type:"mathord",htmlBuilder:(e,t)=>Ke.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new $t.MathNode("mi",[Tt(e.text,e.mode,t)]),r=Pt(e,t)||"italic";return r!==br[n.type]&&n.setAttribute("mathvariant",r),n}}),ct({type:"textord",htmlBuilder:(e,t)=>Ke.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,r=Tt(e.text,e.mode,t),i=Pt(e,t)||"normal";return n="text"===e.mode?new $t.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new $t.MathNode("mn",[r]):"\\prime"===e.text?new $t.MathNode("mo",[r]):new $t.MathNode("mi",[r]),i!==br[n.type]&&n.setAttribute("mathvariant",i),n}});var yr={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},wr={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ct({type:"spacing",htmlBuilder(e,t){if(wr.hasOwnProperty(e.text)){var n=wr[e.text].className||"";if("text"===e.mode){var r=Ke.makeOrd(e,t,"textord");return r.classes.push(n),r}return Ke.makeSpan(["mspace",n],[Ke.mathsym(e.text,e.mode,t)],t)}if(yr.hasOwnProperty(e.text))return Ke.makeSpan(["mspace",yr[e.text]],[],t);throw new s('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!wr.hasOwnProperty(e.text)){if(yr.hasOwnProperty(e.text))return new $t.MathNode("mspace");throw new s('Unknown type of space "'+e.text+'"')}return new $t.MathNode("mtext",[new $t.TextNode(" ")])}});var xr=()=>{var e=new $t.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ct({type:"tag",mathmlBuilder(e,t){var n=new $t.MathNode("mtable",[new $t.MathNode("mtr",[xr(),new $t.MathNode("mtd",[Zt(e.body,t)]),xr(),new $t.MathNode("mtd",[Zt(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var kr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Sr={"\\textbf":"textbf","\\textmd":"textmd"},_r={"\\textit":"textit","\\textup":"textup"},Ar=(e,t)=>{var n=e.font;return n?kr[n]?t.withTextFontFamily(kr[n]):Sr[n]?t.withTextFontWeight(Sr[n]):t.withTextFontShape(_r[n]):t};lt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:ut(i),font:r}},htmlBuilder(e,t){var n=Ar(e,t),r=Ot(e.body,n,!0);return Ke.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=Ar(e,t);return Zt(e.body,n)}}),lt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=kt(e.body,t),r=Ke.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Ke.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return Ke.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var n=new $t.MathNode("mo",[new $t.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new $t.MathNode("munder",[Bt(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),lt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=kt(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Ke.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new $t.MathNode("mpadded",[Bt(e.body,t)],["vcenter"])}),lt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new s("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Cr(e),r=[],i=t.havingStyle(t.style.text()),s=0;s<n.length;s++){var o=n[s];"~"===o&&(o="\\textasciitilde"),r.push(Ke.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Ke.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Ke.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new $t.TextNode(Cr(e)),r=new $t.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Cr=e=>e.body.replace(/ /g,e.star?"␣":" "),Qr=st,$r="[ \r\n\t]",Tr="(\\\\[a-zA-Z@]+)"+$r+"*",Mr="[̀-ͯ]",Pr=new RegExp(Mr+"+$"),Er="("+$r+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+Mr+"*|[\ud800-\udbff][\udc00-\udfff]"+Mr+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Tr+"|\\\\[^\ud800-\udfff])";class Zr{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Er,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new i("EOF",new r(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new s("Unexpected character: '"+e[t]+"'",new i(e[t],new r(this,t,t+1)));var o=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[o]){var a=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===a?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new i(o,new r(this,t,this.tokenRegex.lastIndex))}}class Br{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new s("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Ir=Ln;Dn("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),Dn("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),Dn("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),Dn("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),Dn("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),Dn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Dn("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var Rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Dn("\\char",(function(e){var t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new s("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(null==(r=Rr[n.text])||r>=t)throw new s("Invalid base-"+t+" digit "+n.text);for(var i;null!=(i=Rr[e.future().text])&&i<t;)r*=t,r+=i,e.popToken()}return"\\@char{"+r+"}"}));var zr=(e,t,n)=>{var r=e.consumeArg().tokens;if(1!==r.length)throw new s("\\newcommand's first argument must be a macro name");var i=r[0].text,o=e.isDefined(i);if(o&&!t)throw new s("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!n)throw new s("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if(1===(r=e.consumeArg().tokens).length&&"["===r[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new s("Invalid number of arguments: "+l);a=parseInt(l),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:a}),""};Dn("\\newcommand",(e=>zr(e,!1,!0))),Dn("\\renewcommand",(e=>zr(e,!0,!1))),Dn("\\providecommand",(e=>zr(e,!0,!0))),Dn("\\message",(e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((e=>e.text)).join("")),""})),Dn("\\errmessage",(e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((e=>e.text)).join("")),""})),Dn("\\show",(e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Qr[n],ce.math[n],ce.text[n]),""})),Dn("\\bgroup","{"),Dn("\\egroup","}"),Dn("~","\\nobreakspace"),Dn("\\lq","`"),Dn("\\rq","'"),Dn("\\aa","\\r a"),Dn("\\AA","\\r A"),Dn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Dn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Dn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Dn("ℬ","\\mathscr{B}"),Dn("ℰ","\\mathscr{E}"),Dn("ℱ","\\mathscr{F}"),Dn("ℋ","\\mathscr{H}"),Dn("ℐ","\\mathscr{I}"),Dn("ℒ","\\mathscr{L}"),Dn("ℳ","\\mathscr{M}"),Dn("ℛ","\\mathscr{R}"),Dn("ℭ","\\mathfrak{C}"),Dn("ℌ","\\mathfrak{H}"),Dn("ℨ","\\mathfrak{Z}"),Dn("\\Bbbk","\\Bbb{k}"),Dn("·","\\cdotp"),Dn("\\llap","\\mathllap{\\textrm{#1}}"),Dn("\\rlap","\\mathrlap{\\textrm{#1}}"),Dn("\\clap","\\mathclap{\\textrm{#1}}"),Dn("\\mathstrut","\\vphantom{(}"),Dn("\\underbar","\\underline{\\text{#1}}"),Dn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Dn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Dn("\\ne","\\neq"),Dn("≠","\\neq"),Dn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Dn("∉","\\notin"),Dn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Dn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Dn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Dn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Dn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Dn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Dn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Dn("⟂","\\perp"),Dn("‼","\\mathclose{!\\mkern-0.8mu!}"),Dn("∌","\\notni"),Dn("⌜","\\ulcorner"),Dn("⌝","\\urcorner"),Dn("⌞","\\llcorner"),Dn("⌟","\\lrcorner"),Dn("©","\\copyright"),Dn("®","\\textregistered"),Dn("️","\\textregistered"),Dn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Dn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Dn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Dn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Dn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Dn("⋮","\\vdots"),Dn("\\varGamma","\\mathit{\\Gamma}"),Dn("\\varDelta","\\mathit{\\Delta}"),Dn("\\varTheta","\\mathit{\\Theta}"),Dn("\\varLambda","\\mathit{\\Lambda}"),Dn("\\varXi","\\mathit{\\Xi}"),Dn("\\varPi","\\mathit{\\Pi}"),Dn("\\varSigma","\\mathit{\\Sigma}"),Dn("\\varUpsilon","\\mathit{\\Upsilon}"),Dn("\\varPhi","\\mathit{\\Phi}"),Dn("\\varPsi","\\mathit{\\Psi}"),Dn("\\varOmega","\\mathit{\\Omega}"),Dn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Dn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Dn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Dn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Dn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Dn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Yr={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Dn("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Yr?t=Yr[n]:("\\not"===n.slice(0,4)||n in ce.math&&h(["bin","rel"],ce.math[n].group))&&(t="\\dotsb"),t}));var Lr={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Dn("\\dotso",(function(e){return e.future().text in Lr?"\\ldots\\,":"\\ldots"})),Dn("\\dotsc",(function(e){var t=e.future().text;return t in Lr&&","!==t?"\\ldots\\,":"\\ldots"})),Dn("\\cdots",(function(e){return e.future().text in Lr?"\\@cdots\\,":"\\@cdots"})),Dn("\\dotsb","\\cdots"),Dn("\\dotsm","\\cdots"),Dn("\\dotsi","\\!\\cdots"),Dn("\\dotsx","\\ldots\\,"),Dn("\\DOTSI","\\relax"),Dn("\\DOTSB","\\relax"),Dn("\\DOTSX","\\relax"),Dn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Dn("\\,","\\tmspace+{3mu}{.1667em}"),Dn("\\thinspace","\\,"),Dn("\\>","\\mskip{4mu}"),Dn("\\:","\\tmspace+{4mu}{.2222em}"),Dn("\\medspace","\\:"),Dn("\\;","\\tmspace+{5mu}{.2777em}"),Dn("\\thickspace","\\;"),Dn("\\!","\\tmspace-{3mu}{.1667em}"),Dn("\\negthinspace","\\!"),Dn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Dn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Dn("\\enspace","\\kern.5em "),Dn("\\enskip","\\hskip.5em\\relax"),Dn("\\quad","\\hskip1em\\relax"),Dn("\\qquad","\\hskip2em\\relax"),Dn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Dn("\\tag@paren","\\tag@literal{({#1})}"),Dn("\\tag@literal",(e=>{if(e.macros.get("\\df@tag"))throw new s("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),Dn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Dn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Dn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Dn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Dn("\\newline","\\\\\\relax"),Dn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Dr=U(Z["Main-Regular"]["T".charCodeAt(0)][1]-.7*Z["Main-Regular"]["A".charCodeAt(0)][1]);Dn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Dr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Dn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Dr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Dn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Dn("\\@hspace","\\hskip #1\\relax"),Dn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Dn("\\ordinarycolon",":"),Dn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Dn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Dn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Dn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Dn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Dn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Dn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Dn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Dn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Dn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Dn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Dn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Dn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Dn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Dn("∷","\\dblcolon"),Dn("∹","\\eqcolon"),Dn("≔","\\coloneqq"),Dn("≕","\\eqqcolon"),Dn("⩴","\\Coloneqq"),Dn("\\ratio","\\vcentcolon"),Dn("\\coloncolon","\\dblcolon"),Dn("\\colonequals","\\coloneqq"),Dn("\\coloncolonequals","\\Coloneqq"),Dn("\\equalscolon","\\eqqcolon"),Dn("\\equalscoloncolon","\\Eqqcolon"),Dn("\\colonminus","\\coloneq"),Dn("\\coloncolonminus","\\Coloneq"),Dn("\\minuscolon","\\eqcolon"),Dn("\\minuscoloncolon","\\Eqcolon"),Dn("\\coloncolonapprox","\\Colonapprox"),Dn("\\coloncolonsim","\\Colonsim"),Dn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Dn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Dn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Dn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Dn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Dn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Dn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Dn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Dn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Dn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Dn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Dn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Dn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Dn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Dn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Dn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Dn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Dn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Dn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Dn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Dn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Dn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Dn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Dn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Dn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Dn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Dn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Dn("\\imath","\\html@mathml{\\@imath}{ı}"),Dn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Dn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Dn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Dn("⟦","\\llbracket"),Dn("⟧","\\rrbracket"),Dn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Dn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Dn("⦃","\\lBrace"),Dn("⦄","\\rBrace"),Dn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Dn("⦵","\\minuso"),Dn("\\darr","\\downarrow"),Dn("\\dArr","\\Downarrow"),Dn("\\Darr","\\Downarrow"),Dn("\\lang","\\langle"),Dn("\\rang","\\rangle"),Dn("\\uarr","\\uparrow"),Dn("\\uArr","\\Uparrow"),Dn("\\Uarr","\\Uparrow"),Dn("\\N","\\mathbb{N}"),Dn("\\R","\\mathbb{R}"),Dn("\\Z","\\mathbb{Z}"),Dn("\\alef","\\aleph"),Dn("\\alefsym","\\aleph"),Dn("\\Alpha","\\mathrm{A}"),Dn("\\Beta","\\mathrm{B}"),Dn("\\bull","\\bullet"),Dn("\\Chi","\\mathrm{X}"),Dn("\\clubs","\\clubsuit"),Dn("\\cnums","\\mathbb{C}"),Dn("\\Complex","\\mathbb{C}"),Dn("\\Dagger","\\ddagger"),Dn("\\diamonds","\\diamondsuit"),Dn("\\empty","\\emptyset"),Dn("\\Epsilon","\\mathrm{E}"),Dn("\\Eta","\\mathrm{H}"),Dn("\\exist","\\exists"),Dn("\\harr","\\leftrightarrow"),Dn("\\hArr","\\Leftrightarrow"),Dn("\\Harr","\\Leftrightarrow"),Dn("\\hearts","\\heartsuit"),Dn("\\image","\\Im"),Dn("\\infin","\\infty"),Dn("\\Iota","\\mathrm{I}"),Dn("\\isin","\\in"),Dn("\\Kappa","\\mathrm{K}"),Dn("\\larr","\\leftarrow"),Dn("\\lArr","\\Leftarrow"),Dn("\\Larr","\\Leftarrow"),Dn("\\lrarr","\\leftrightarrow"),Dn("\\lrArr","\\Leftrightarrow"),Dn("\\Lrarr","\\Leftrightarrow"),Dn("\\Mu","\\mathrm{M}"),Dn("\\natnums","\\mathbb{N}"),Dn("\\Nu","\\mathrm{N}"),Dn("\\Omicron","\\mathrm{O}"),Dn("\\plusmn","\\pm"),Dn("\\rarr","\\rightarrow"),Dn("\\rArr","\\Rightarrow"),Dn("\\Rarr","\\Rightarrow"),Dn("\\real","\\Re"),Dn("\\reals","\\mathbb{R}"),Dn("\\Reals","\\mathbb{R}"),Dn("\\Rho","\\mathrm{P}"),Dn("\\sdot","\\cdot"),Dn("\\sect","\\S"),Dn("\\spades","\\spadesuit"),Dn("\\sub","\\subset"),Dn("\\sube","\\subseteq"),Dn("\\supe","\\supseteq"),Dn("\\Tau","\\mathrm{T}"),Dn("\\thetasym","\\vartheta"),Dn("\\weierp","\\wp"),Dn("\\Zeta","\\mathrm{Z}"),Dn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Dn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Dn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Dn("\\bra","\\mathinner{\\langle{#1}|}"),Dn("\\ket","\\mathinner{|{#1}\\rangle}"),Dn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Dn("\\Bra","\\left\\langle#1\\right|"),Dn("\\Ket","\\left|#1\\right\\rangle");var Xr=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,o=t.macros.get("|"),a=t.macros.get("\\|");t.macros.beginGroup();var l=t=>n=>{e&&(n.macros.set("|",o),i.length&&n.macros.set("\\|",a));var s=t;return!t&&i.length&&"|"===n.future().text&&(n.popToken(),s=!0),{tokens:s?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,h=t.expandTokens([...s,...c,...n]);return t.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};Dn("\\bra@ket",Xr(!1)),Dn("\\bra@set",Xr(!0)),Dn("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Dn("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Dn("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Dn("\\angln","{\\angl n}"),Dn("\\blue","\\textcolor{##6495ed}{#1}"),Dn("\\orange","\\textcolor{##ffa500}{#1}"),Dn("\\pink","\\textcolor{##ff00af}{#1}"),Dn("\\red","\\textcolor{##df0030}{#1}"),Dn("\\green","\\textcolor{##28ae7b}{#1}"),Dn("\\gray","\\textcolor{gray}{#1}"),Dn("\\purple","\\textcolor{##9d38bd}{#1}"),Dn("\\blueA","\\textcolor{##ccfaff}{#1}"),Dn("\\blueB","\\textcolor{##80f6ff}{#1}"),Dn("\\blueC","\\textcolor{##63d9ea}{#1}"),Dn("\\blueD","\\textcolor{##11accd}{#1}"),Dn("\\blueE","\\textcolor{##0c7f99}{#1}"),Dn("\\tealA","\\textcolor{##94fff5}{#1}"),Dn("\\tealB","\\textcolor{##26edd5}{#1}"),Dn("\\tealC","\\textcolor{##01d1c1}{#1}"),Dn("\\tealD","\\textcolor{##01a995}{#1}"),Dn("\\tealE","\\textcolor{##208170}{#1}"),Dn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Dn("\\greenB","\\textcolor{##8af281}{#1}"),Dn("\\greenC","\\textcolor{##74cf70}{#1}"),Dn("\\greenD","\\textcolor{##1fab54}{#1}"),Dn("\\greenE","\\textcolor{##0d923f}{#1}"),Dn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Dn("\\goldB","\\textcolor{##ffbb71}{#1}"),Dn("\\goldC","\\textcolor{##ff9c39}{#1}"),Dn("\\goldD","\\textcolor{##e07d10}{#1}"),Dn("\\goldE","\\textcolor{##a75a05}{#1}"),Dn("\\redA","\\textcolor{##fca9a9}{#1}"),Dn("\\redB","\\textcolor{##ff8482}{#1}"),Dn("\\redC","\\textcolor{##f9685d}{#1}"),Dn("\\redD","\\textcolor{##e84d39}{#1}"),Dn("\\redE","\\textcolor{##bc2612}{#1}"),Dn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Dn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Dn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Dn("\\maroonD","\\textcolor{##ca337c}{#1}"),Dn("\\maroonE","\\textcolor{##9e034e}{#1}"),Dn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Dn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Dn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Dn("\\purpleD","\\textcolor{##7854ab}{#1}"),Dn("\\purpleE","\\textcolor{##543b78}{#1}"),Dn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Dn("\\mintB","\\textcolor{##edf2df}{#1}"),Dn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Dn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Dn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Dn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Dn("\\grayD","\\textcolor{##d6d8da}{#1}"),Dn("\\grayE","\\textcolor{##babec2}{#1}"),Dn("\\grayF","\\textcolor{##888d93}{#1}"),Dn("\\grayG","\\textcolor{##626569}{#1}"),Dn("\\grayH","\\textcolor{##3b3e40}{#1}"),Dn("\\grayI","\\textcolor{##21242c}{#1}"),Dn("\\kaBlue","\\textcolor{##314453}{#1}"),Dn("\\kaGreen","\\textcolor{##71B307}{#1}");var qr={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class jr{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Br(Ir,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Zr(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:r,end:n}=this.consumeArg(["]"]))}else({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new i("EOF",n.loc)),this.pushTokens(r),t.range(n,"")}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r,i=this.future(),o=0,a=0;do{if(r=this.popToken(),t.push(r),"{"===r.text)++o;else if("}"===r.text){if(-1==--o)throw new s("Extra }",r)}else if("EOF"===r.text)throw new s("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",r);if(e&&n)if((0===o||1===o&&"{"===e[a])&&r.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==o||n);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:r}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new s("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var i=this.popToken();if(n[r]!==i.text)throw new s("Use of the macro doesn't match its definition",i)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(t&&t[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new s("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(null==r||e&&r.unexpandable){if(e&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new s("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var i=r.tokens,o=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var a=(i=i.slice()).length-1;a>=0;--a){var l=i[a];if("#"===l.text){if(0===a)throw new s("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--a]).text)i.splice(a+1,1);else{if(!/^[1-9]$/.test(l.text))throw new s("Not a valid argument number",l);i.splice(a,2,...o[+l.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new i(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(!1===this.expandOnce(!0)){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map((e=>e.text)).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var r="function"==typeof t?t(this):t;if("string"==typeof r){var i=0;if(-1!==r.indexOf("#"))for(var s=r.replace(/##/g,"");-1!==s.indexOf("#"+(i+1));)++i;for(var o=new Zr(r,this.settings),a=[],l=o.lex();"EOF"!==l.text;)a.push(l),l=o.lex();return a.reverse(),{tokens:a,numArgs:i}}return r}isDefined(e){return this.macros.has(e)||Qr.hasOwnProperty(e)||ce.math.hasOwnProperty(e)||ce.text.hasOwnProperty(e)||qr.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Qr.hasOwnProperty(e)&&!Qr[e].primitive}}var Nr=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Wr=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9",ₐ:"a",ₑ:"e",ₕ:"h",ᵢ:"i",ⱼ:"j",ₖ:"k",ₗ:"l",ₘ:"m",ₙ:"n",ₒ:"o",ₚ:"p",ᵣ:"r",ₛ:"s",ₜ:"t",ᵤ:"u",ᵥ:"v",ₓ:"x",ᵦ:"β",ᵧ:"γ",ᵨ:"ρ",ᵩ:"ϕ",ᵪ:"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9",ᴬ:"A",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ⱽ:"V",ᵂ:"W",ᵃ:"a",ᵇ:"b",ᶜ:"c",ᵈ:"d",ᵉ:"e",ᶠ:"f",ᵍ:"g",ʰ:"h",ⁱ:"i",ʲ:"j",ᵏ:"k",ˡ:"l",ᵐ:"m",ⁿ:"n",ᵒ:"o",ᵖ:"p",ʳ:"r",ˢ:"s",ᵗ:"t",ᵘ:"u",ᵛ:"v",ʷ:"w",ˣ:"x",ʸ:"y",ᶻ:"z",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"ϕ",ᵡ:"χ",ᶿ:"θ"}),Ur={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Vr={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Gr{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new jr(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new s("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new i("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==Gr.endOfExpression.indexOf(r.text))break;if(t&&r.text===t)break;if(e&&Qr[r.text]&&Qr[r.text].infix)break;var i=this.parseAtom(t);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,n=-1,r=0;r<e.length;r++)if("infix"===e[r].type){if(-1!==n)throw new s("only one infix operator per group",e[r].token);n=r,t=e[r].replaceWith}if(-1!==n&&t){var i,o,a=e.slice(0,n),l=e.slice(n+1);return i=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[i,e[n],o],[]):this.callFunction(t,[i,o],[])]}return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(e);if(!r)throw new s("Expected group after '"+n+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(e){var t,n,r=this.parseGroup("atom",e);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(r&&"op"===r.type){var a="\\limits"===o.text;r.limits=a,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new s("Limit controls must follow a math operator",o);r.alwaysHandleSupSub&&(r.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new s("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new s("Double subscript",o);n=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new s("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();"'"===this.fetch().text;)c.push(l),this.consume();"^"===this.fetch().text&&c.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:c}}else{if(!Wr[o.text])break;var h=Nr.test(o.text),u=[];for(u.push(new i(Wr[o.text])),this.consume();;){var d=this.fetch().text;if(!Wr[d])break;if(Nr.test(d)!==h)break;u.unshift(new i(Wr[d])),this.consume()}var p=this.subparse(u);h?n={type:"ordgroup",mode:"math",body:p}:t={type:"ordgroup",mode:"math",body:p}}}return t||n?{type:"supsub",mode:this.mode,base:r,sup:t,sub:n}:r}parseFunction(e,t){var n=this.fetch(),r=n.text,i=Qr[r];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new s("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!i.allowedInText)throw new s("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===i.allowedInMath)throw new s("Can't use function '"+r+"' in math mode",n);var{args:o,optArgs:a}=this.parseArguments(r,i);return this.callFunction(r,o,a,n,e)}callFunction(e,t,n,r,i){var o={funcName:e,parser:this,token:r,breakOnTokenText:i},a=Qr[e];if(a&&a.handler)return a.handler(o,t,n);throw new s("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],i=[],o=0;o<n;o++){var a=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===o&&null==i[0])&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)i.push(c);else{if(null==c)throw new s("Null argument, please report this as a bug");r.push(c)}}return{args:r,optArgs:i}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",n);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(n)throw new s("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new s("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new s("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var r,i="";"EOF"!==(r=this.fetch()).text;)i+=r.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,t){for(var n,r=this.fetch(),i=r,o="";"EOF"!==(n=this.fetch()).text&&e.test(o+n.text);)o+=(i=n).text,this.consume();if(""===o)throw new s("Invalid "+t+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new s("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new s("Invalid size: '"+t.text+"'",t);var i={number:+(r[1]+r[2]),unit:r[3]};if(!N(i))throw new s("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(r),s}parseGroup(e,t){var n,i=this.fetch(),o=i.text;if("{"===o||"\\begingroup"===o){this.consume();var a="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:r.range(i,c),body:l,semisimple:"\\begingroup"===o||void 0}}else if(null==(n=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===o[0]&&!qr.hasOwnProperty(o)){if(this.settings.throwOnError)throw new s("Undefined control sequence: "+o,i);n=this.formatUnsupportedCmd(o),this.consume()}return n}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],s=i.text;"-"===s&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:r.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==s&&"`"!==s||e[n+1].text!==s||(e.splice(n,2,{type:"textord",mode:"text",loc:r.range(i,e[n+1]),text:s+s}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),i="*"===n.charAt(0);if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new s("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:i}}Vr.hasOwnProperty(t[0])&&!ce[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Vr[t[0]]+t.slice(1));var o,a=Pr.exec(t);if(a&&("i"===(t=t.substring(0,a.index))?t="ı":"j"===t&&(t="ȷ")),ce[this.mode][t]){this.settings.strict&&"math"===this.mode&&"ÐÞþ".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,c=ce[this.mode][t].group,h=r.range(e);if(ae.hasOwnProperty(c)){var u=c;l={type:"atom",mode:this.mode,family:u,loc:h,text:t}}else l={type:c,mode:this.mode,loc:h,text:t};o=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(M(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:r.range(e),text:t}}if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!Ur[p])throw new s("Unknown accent ' "+p+"'",e);var m=Ur[p][this.mode]||Ur[p].text;if(!m)throw new s("Accent "+p+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:r.range(e),label:m,isStretchy:!1,isShifty:!0,base:o}}return o}}Gr.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Hr=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Gr(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new s("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new i("\\df@tag")])}]}return r},Fr=function(e,t,n){t.textContent="";var r=Kr(e,n).toNode();t.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Fr=function(){throw new s("KaTeX doesn't work in quirks mode.")});var Jr=function(e,t,n){if(n.throwOnError||!(e instanceof s))throw e;var r=Ke.makeSpan(["katex-error"],[new ne(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},Kr=function(e,t){var n=new b(t);try{return function(e,t,n){var r,i=Rt(n);if("mathml"===n.output)return It(e,t,i,n.displayMode,!0);if("html"===n.output){var s=_t(e,i);r=Ke.makeSpan(["katex"],[s])}else{var o=It(e,t,i,n.displayMode,!1),a=_t(e,i);r=Ke.makeSpan(["katex"],[o,a])}return zt(r,n)}(Hr(e,n),e,n)}catch(t){return Jr(t,e,n)}},ei={version:"0.16.10",render:Fr,renderToString:function(e,t){return Kr(e,t).toMarkup()},ParseError:s,SETTINGS_SCHEMA:O,__parse:function(e,t){var n=new b(t);return Hr(e,n)},__renderToDomTree:Kr,__renderToHTMLTree:function(e,t){var n=new b(t);try{return function(e,t,n){var r=_t(e,Rt(n)),i=Ke.makeSpan(["katex"],[r]);return zt(i,n)}(Hr(e,n),0,n)}catch(t){return Jr(t,e,n)}},__setFontMetrics:function(e,t){Z[e]=t},__defineSymbol:he,__defineFunction:lt,__defineMacro:Dn,__domTree:{Span:J,Anchor:K,SymbolNode:ne,SvgNode:re,PathNode:ie,LineNode:se}}},9886:(e,t,n)=>{n.d(t,{w:()=>r});class r{constructor(e=!1){this.#e=[],this.#t=!!e}#e;#t;empty(){return this.#e.length<=0}attached(){return this.#t}add(e,t,n,r){const i={target:e,type:t,listener:n,options:r};if(this.constructor.#n(i),-1!==this.#r(i))throw new Error("equivalent event handler already added");this.#t&&e.addEventListener(t,n,r),this.#e.push(i)}remove(e,t,n,r){const i={target:e,type:t,listener:n,options:r};this.constructor.#n(i);const s=this.#r(i);if(-1===s)throw new Error("specified event handler not found");this.#e.splice(s,1),this.#t&&e.removeEventListener(e,t,r)}remove_all(){if(this.#t)for(const e of this.#e){const{target:t,type:n,listener:r,options:i}=e;t.removeEventListener(n,r,i)}this.#e.splice(0)}attach(){if(!this.#t){for(const e of this.#e){const{target:t,type:n,listener:r,options:i}=e;t.removeEventListener(n,r,i),t.addEventListener(n,r,i)}this.#t=!0}}detach(){if(this.#t){for(const e of this.#e){const{target:t,type:n,listener:r,options:i}=e;t.removeEventListener(n,r,i),t.addEventListener(n,r,i)}this.#t=!1}}#r(e){for(let t=0;t<this.#e.length;t++)if(this.constructor.#i(e,this.#e[t]))return t;return-1}static#n(e){if("object"!=typeof e)throw new Error("spec must be an object");let t=!1;const{target:n,type:r,listener:i,options:s}=e;if(!(n instanceof EventTarget))throw new Error("target must be an instance of EventTarget");if("string"!=typeof r)throw new Error("type in spec must be a string");if("function"!=typeof i)throw new Error("listener in spec must be a function");if("boolean"==typeof s)t=s;else if("object"==typeof s)t=!!s.capture;else if(void 0!==s)throw new Error("options in spec must be a undefined, boolean, or an object");return t}static#i(e,t){return this.#n(e)===this.#n(t)&&e.target===t.target&&e.type===t.type&&e.listener===t.listener}}},345:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(4889);class i{static fsaapi_available=globalThis.FileSystemHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemDirectoryHandle&&"function"==typeof globalThis.showOpenFilePicker&&"function"==typeof globalThis.showSaveFilePicker&&"function"==typeof globalThis.showDirectoryPicker;static ensure_fsaapi_available(){if(!this.fsaapi_available)throw new Error("unexpected: File System API is not available")}get fsaapi_available(){return this.constructor.fsaapi_available}async verify_permission(e,t=!1){this.constructor.ensure_fsaapi_available();const n={};return t&&(n.writable=!0,n.mode="readwrite"),"granted"===await e.queryPermission(n)||"granted"===await e.requestPermission(n)}async save(e,t){if(!this.fsaapi_available)return this.legacy_save(e,t);let n=(t=t??{}).file_handle;if(!n){const e=await this.prompt_for_save(t.prompt_options);if(e.canceled)return{canceled:!0};n=e.file_handle}await this.verify_permission(n,!0);const r=e(),i=await n.createWritable();return await i.write(r),await i.close(),{file_handle:n,stats:await this.get_fs_stats_for_file_handle(n)}}async open(e){if(!this.fsaapi_available)return this.legacy_open(e);let t=(e=e??{}).file_handle;if(!t){const n=await this.prompt_for_open(e.prompt_options);if(n.canceled)return{canceled:!0};t=n.file_handle}await this.verify_permission(t,!1);const n=await t.getFile();return{file_handle:t,text:await n.text(),stats:this.get_fs_stats_for_file(n)}}async get_fs_stats_for_file_handle(e){this.constructor.ensure_fsaapi_available(),await this.verify_permission(e);const t=await e.getFile();return this.get_fs_stats_for_file(t)}get_fs_stats_for_file(e){const{lastModified:t,lastModified:n,name:r,size:i,type:s}=e;return{lastModified:t,last_modified:n,name:r,size:i,type:s}}async prompt_for_save(e=void 0){this.constructor.ensure_fsaapi_available();const t=await this._prompt(globalThis.showSaveFilePicker,e);return t?{file_handle:t}:{canceled:!0}}async prompt_for_open(e=void 0){this.constructor.ensure_fsaapi_available(),e=e??{};const t=await this._prompt(globalThis.showOpenFilePicker,{...e,multiple:!1});return t?{file_handle:t[0]}:{canceled:!0}}async _prompt(e,t){t=t??{};try{return await e(t)}catch(e){return}}async legacy_save(e,t){return new Promise(((n,r)=>{const i=e(),s=document.createElement("a");s.download=t?.name??"Untitled.logbook",s.href=URL.createObjectURL(new Blob([i],{type:"text/plain"})),document.body.onfocus=e=>{document.body.onfocus=null,URL.revokeObjectURL(s.href),s.href=null,n({})},s.click()}))}async legacy_open(e){const t=this._convert_options_for_legacy(e);let n=document.getElementById(this.constructor.legacy_file_input_element_id);n||(n=document.createElement("input"),n.id=this.constructor.legacy_file_input_element_id,n.classList.add("hidden-fs-interface-element"),n.type="file",t&&(n.accept=t),document.body.insertBefore(n,document.body.firstChild));const i=new r.i;return n.onchange=async e=>{if(n.files.length<=0)i.resolve({canceled:!0});else{const e=n.files[0],t=await e.text(),r=this.get_fs_stats_for_file(e);i.resolve({text:t,stats:r})}},n.click(),i.promise}static legacy_file_input_element_id="legacy_file_input_element_id";_convert_options_for_legacy(e){e=e??{};const t=e?.prompt_options?.types?.[0]?.accept;return t?Object.keys(t):void 0}}const s=new i},2007:(e,t,n)=>{function r(e,t){for(const n of t)e=(e??{})[n];return e}function i(e,t,n){if(t.length<1)throw new Error("path must contain at least one segment");for(const n of t.slice(0,-1))void 0===e[n]&&(e[n]={}),e=e[n];e[t.slice(-1)[0]]=n}n.d(t,{$:()=>i,Z:()=>r})},4889:(e,t,n)=>{n.d(t,{i:()=>r});class r{constructor(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));Object.defineProperties(this,{promise:{value:n},resolve:{value:e},reject:{value:t},then:{value:n.then.bind(n)},catch:{value:n.catch.bind(n)},finally:{value:n.finally.bind(n)}})}async await(){return await this.promise}}},6660:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Z:()=>e});var i=n(7273),s=n(6973);await(0,i.h0)(document.head,(0,s.h)("dist/rxjs.umd.min.js"));const e={...globalThis.rxjs};globalThis.rxjs=void 0,r()}catch(e){r(e)}}),1)},6227:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{g:()=>e});var i=n(7273),s=n(6973);await(0,i.h0)(document.head,(0,s.h)("dist/sprintf.min.js"));const e=globalThis.sprintf;r()}catch(e){r(e)}}),1)},4429:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{T:()=>a,X:()=>o});var i=n(6092),s=e([i]);i=(s.then?(await s)():s)[0];class o{constructor(e,t=null,n=!1){if(null==e)throw new Error("target must not be null or undefined");if(t??=e=>e.stop(),"function"!=typeof t)throw new Error("stopper must be a function taking target as a parameter");Object.defineProperties(this,{target:{value:e,enumerable:!0},stopper:{value:t,enumerable:!0},multiple_stops:{value:n,enumerable:!0}}),this.#s=0}#s;get stop_count(){return this.#s}get stopped(){return this.#s>0}stop(){return!(!this.multiple_stops&&this.stopped||(this.stopper(this.target),this.#s++,0))}}class a{constructor(){this.#o=[],this.#a=!1,this.#l=new i.l}#o;#a;#l;get stopped(){return this.#a}get stop_states(){return this.#l}add_stoppable(e){if(!(e instanceof o))throw new Error("stoppable must be an instance of Stoppable");this.#o.push(e)}remove_stoppable(e){const t=this.#o.indexOf(e);-1!==t&&this.#o.splice(t,1)}stop(){const e=!this.#a;for(this.#a=!0;this.#o.length>0;){const e=this.#o.pop();try{e.stop()}catch(t){console.warn("error while stopping",e,t)}}e&&this.stop_states.dispatch({manager:this,stopped:this.#a})}}r()}catch(e){r(e)}}))},6092:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{l:()=>o});var i=n(6660),s=e([i]);i=(s.then?(await s)():s)[0];class o extends i.Z.Subject{dispatch(e){this.next(e)}}r()}catch(e){r(e)}}))},1896:(e,t,n)=>{n.d(t,{pk:()=>c,kE:()=>h,k$:()=>l});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const s=new Uint8Array(16);function o(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const l=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(i)};function c(){return`id-${l()}`}function h(){return l()}},1951:(e,t,n)=>{n.d(t,{V:()=>i});const r="data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=";async function i(){return new Audio(r).play()}},7165:(e,t,n)=>{function r(e,t,n,r,i=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{a0:s=0,a1:o=2*Math.PI,counterclockwise:a=!1,no_close_path:l=!1,no_fill:c=!1,no_stroke:h=!1}=i??{};e.beginPath(),e.arc(t,n,r,s,o,a),l||e.closePath(),c||e.fill(),h||e.stroke()}n.r(t),n.d(t,{angle_from_heading:()=>o,default_arrowhead_length_to_line_width_ratio:()=>d,default_dot_size_to_line_width_ratio:()=>i,default_tick_length_to_line_width_ratio:()=>l,draw_arc:()=>r,draw_arrow:()=>m,draw_arrowhead:()=>p,draw_dot:()=>s,draw_flipped_text:()=>u,draw_line:()=>a,draw_tick:()=>c,draw_ticks:()=>h});const i=3;function s(e,t,n,s=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{r:o=i*e.lineWidth}=s??{},a=e.fillStyle;e.fillStyle=e.strokeStyle;try{r(e,t,n,o,s)}finally{e.fillStyle=a}}function o(e,t){if(0===e)return t<0?-Math.PI/2:t>0?Math.PI/2:0;if(0===t)return e<0?-Math.PI:0;{const n=t/e,r=Math.atan(n);return e<0?r+Math.PI:t<0?r+2*Math.PI:r}}function a(e,t,n,r,i,s=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{label:a,label_options:l}=s??{};if(a&&"string"!=typeof a)throw new Error("label must be undefined or a string");if(l&&"object"!=typeof l)throw new Error("label_options must be undefined or an object");e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),a&&u(e,a,(t+r)/2,(n+i)/2,{angle:o(r-t,i-n),...l??{}})}const l=8;function c(e,t,n,r,i,s=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{len:o=l*e.lineWidth}=s??{},c=Math.sqrt(r*r+i*i),h=-o*i/c,u=o*r/c;a(e,t-h/2,n-u/2,t+h/2,n+u/2)}function h(e,t,n,r,i,s,o=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");if("number"!=typeof s||s<=0)throw new Error("inc must be a positive number");const{draw_initial:a=!1}=o??{},l=r-t,h=i-n,u=Math.sqrt(l*l+h*h),d=s*l/u,p=s*h/u;for(let s=t,u=n,m=!0;s<=r&&u<=i;s+=d,u+=p,m=!1)!a&&m||c(e,s,u,l,h,o)}function u(e,t,n,r,i=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{stroke_only:s,clear:o,padding:a,angle:l,dxr:c,dyr:h}=i??{};if(!["undefined","number"].includes(typeof a))throw new Error("padding must be undefined or a number");const u=e.getTransform();try{const i=e.measureText(t),u=i.width,d=i.actualBoundingBoxAscent-i.actualBoundingBoxDescent;e.translate(n,r),e.scale(1,-1),l&&e.rotate(-l),e.translate(-u/2,d/2);let p=0,m=-d,f=u,g=0;if(c){const t=c*u;e.translate(t,0)}if(h){const t=-h*d;e.translate(0,t)}if(o&&(a&&(p-=a,f+=a,m-=a,g+=a),e.clearRect(p,m,f-p,g-m),"string"==typeof o)){const t=e.fillStyle;try{e.fillStyle=o,e.fillRect(p,m,f-p,g-m)}finally{e.fillStyle=t}}e[s?"strokeText":"fillText"](t,0,0)}finally{e.setTransform(u)}}const d=10;function p(e,t,n,r,i,s=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const l=2*Math.PI,{len:h=d*e.lineWidth,reversed:u=!1,tick:p=!1}=s??{};let m=s?.tip_angle??Math.PI/6;m-=l*Math.floor(m/l),u&&(m=l-m);const f=o(r,i),g=Math.PI-m/2,O=f+g,v=f-g;if(a(e,t,n,t+h*Math.cos(O),n+h*Math.sin(O)),a(e,t,n,t+h*Math.cos(v),n+h*Math.sin(v)),p){const s={};"number"==typeof p&&(s.len=p),c(e,t,n,r,i,s)}}function m(e,t,n,r,i,s=null){if(!(e instanceof CanvasRenderingContext2D))throw new Error("ctx must be an instance of CanvasRenderingContext2D");const{double:o}=s??{};a(e,t,n,r,i,s);const l=r-t,c=i-n;p(e,r,i,l,c,s),o&&p(e,t,n,-l,-c,s)}},7569:(e,t,n)=>{n.d(t,{L_:()=>h,QH:()=>c,Vq:()=>a,aR:()=>l,cK:()=>u});var r=n(7273),i=n(1896),s=n(4889);n(6973);const o=new WeakMap;class a{static run(e,t){return(new this).run(e,t)}static is_modal_active(){return[...document.querySelectorAll(`dialog.${this._modal_dialog_css_class}`)].some((e=>e.open))}static instance_from_element(e){return o.get(e.closest("dialog"))}static _modal_dialog_css_class="modal_dialog";constructor(){this._completed=!1,this._promise=new s.i,this._promise.promise.finally((()=>{try{this._destroy_dialog_element()}catch(e){console.warn("ignoring error when finalizing dialog promise",e)}}));try{this._dialog_element_id=`dialog-${(0,i.k$)()}`,this._create_dialog_element(),o.set(this._dialog_element,this)}catch(e){this._cancel(e)}}get promise(){return this._promise.promise}run(...e){return this._populate_dialog_element(...e),this._dialog_element.showModal(),this.promise}_populate_dialog_element(...e){throw new Error("unimplemented")}_complete(e){this._completed=!0,this._promise.resolve(e)}_cancel(e){this._promise.reject(e??new Error("canceled"))}_create_dialog_element(){if("string"!=typeof this._dialog_element_id)throw new Error("this._dialog_element_id must already be set to a string before calling this method");if(void 0!==this._dialog_element)throw new Error("this._dialog_element must be undefined when calling this method");const e=document.querySelector("header")??(0,r.T1)({parent:document.body,tag:"header"});if(e.parentElement!==document.body)throw new Error("pre-existing header element is not a direct child of document.body");const t=document.getElementById("ui")??(0,r.T1)({before:e.firstChild,attrs:{id:"ui"}});if("DIV"!==t.tagName||t.parentElement!==e)throw new Error("pre-existing #ui element is not a <div> that is a direct child of the header element");if(document.getElementById(this._dialog_element_id))throw new Error(`unexpected: dialog with id ${this._dialog_element_id} already exists`);const n=(0,r.T1)({parent:t,tag:"dialog",attrs:{id:this._dialog_element_id,class:this.constructor._modal_dialog_css_class}});this._dialog_text_container=(0,r.T1)({parent:n,tag:"h2",attrs:{class:"dialog-text"}}),this._dialog_form=(0,r.T1)({parent:n,tag:"form",attrs:{method:"dialog"}}),this._dialog_element=n}_destroy_dialog_element(){this._dialog_element&&(o.delete(this._dialog_element),this._dialog_element.remove()),this._dialog_element.oncancel=null,this._dialog_element.onclose=null,this._dialog_element=void 0}}class l extends a{_populate_dialog_element(e,t){const{accept_button_label:n="Ok"}=t??{};this._dialog_text_container.innerText=e,(0,r.T1)({parent:this._dialog_form,tag:"input",attrs:{type:"submit",value:n}}),this._dialog_element.onclose=e=>this._complete()}}class c extends a{_populate_dialog_element(e,t){const{decline_button_label:n="No",accept_button_label:i="Yes"}=t??{};this._dialog_text_container.innerText=e;const s=(0,r.T1)({parent:this._dialog_form,tag:"input",attrs:{type:"button",value:n}});s.innerText=n,s.onclick=e=>this._complete(!1),(0,r.T1)({parent:this._dialog_form,tag:"input",attrs:{type:"submit",value:i}}),this._dialog_element.oncancel=e=>this._complete(!1),this._dialog_element.onclose=e=>this._complete(this._dialog_element.returnValue===i)}}function h(e,t,n){if("string"!=typeof t||""===t)throw new Error("id must be a non-empty string");const{tag:i="input",type:s="text",label:o,label_after:a,attrs:l={}}=n??{};if("id"in l||"type"in l)throw new Error('attrs must not contain "id" or "type"');const c={id:t,...l};"input"===i&&(c.type=s);const h=(0,r.T1)({tag:i,attrs:c});let u;return o&&(u=(0,r.T1)({tag:"label",attrs:{for:t}}),u.innerText=o),a?(e.appendChild(h),e.appendChild(u)):(e.appendChild(u),e.appendChild(h)),h}function u(e,t,n){if("tag"in(n=n??{})||"type"in n)throw new Error('opts must not contain "tag" or "type"');const i=[];if(n.options)for(const{value:e,label:t}of n.options){const n={value:e??t},s=(0,r.T1)({tag:"option",attrs:n});s.innerText=t,i.push(s)}const s=h(e,t,{...n,tag:"select"});for(const e of i)s.appendChild(e);return s}},7273:(e,t,n)=>{n.d(t,{Dz:()=>d,Hp:()=>p,T1:()=>O,V1:()=>v,V6:()=>o,Xc:()=>b,gX:()=>h,h0:()=>x,li:()=>a,pX:()=>c,rb:()=>y,rf:()=>l,v0:()=>u});var r=n(1896),i=n(6973);const s="file:///home/ed/code/logbook/lib/ui/dom-tools.js";function o(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}async function a(e,t=void 0){return new Promise((n=>setTimeout(n,e??0,t)))}async function l(){return new Promise((e=>setTimeout(e)))}async function c(){return new Promise((e=>queueMicrotask(e)))}function h(e){if(e instanceof HTMLElement)e.innerText="";else{if(!(e instanceof Node))throw new Error("element must be an instance of Node");for(;e.firstChild;)e.removeChild(e.firstChild)}return e}function u(e){const t=e.getBoundingClientRect();return t.bottom>window.innerHeight&&window.scrollBy(0,t.bottom-window.innerHeight),e}function d(e,t){if(t){if("id"in t&&document.getElementById(m(t.id)))throw new Error(`element already exists with id ${t.id}`);for(const n in t){const r=t[n];void 0===r?e.removeAttribute(n):e.setAttribute(n,m(r))}}return e}function p(e,t){for(const n in t){const r=t[n];void 0!==r&&(null===r?e.style.removeProperty(n):e.style.setProperty(n,r))}return e}function m(e){return void 0===e?"":e.toString()}function f(e,t=null){const{parent:n=null,before:r=null}=e??{};let i=n;if(r&&!(r instanceof Node))throw new Error("before must be null, undefined, or an instance of Node");if(r&&!r.parentNode)throw new Error("before must have a parent");if(i){if(r&&r.parentElement!==i)throw new Error("inconsistent parent and before nodes specified")}else r&&(i=r.parentNode);if(i&&t&&!(i instanceof t))throw new Error(`parent must be null, undefined, or an instance of ${t.name}`);return{parent:i,before:r}}const g="default";function O(e=null,t=!1){if(e??={},"object"!=typeof e)throw new Error("options must be null, undefined, or an object");const{_key:n,tag:i="div",namespace:s,attrs:o,style:a,set_id:l,children:c,innerText:h,innerHTML:u}=e,{parent:d,before:m}=f(e);if(null!=c){if(!Array.isArray(c)||!c.every((e=>["object","string"].includes(typeof e))))throw new Error("children must be an array of objects");if(void 0!==h||void 0!==u)throw new Error('"innerText" or "innerHTML" may not be specified if "children" is specified')}if(void 0!==h&&void 0!==u)throw new Error('"innerText" or "innerHTML" must not both be specified');const v=s?document.createElementNS(s,i):document.createElement(i);let b=!1;if(o)for(const e in o){let t=o[e];if("class"===e&&Array.isArray(t)){if(!t.every((e=>!e.match(/\s/))))throw new Error("attrs.class must be a string or an array of strings not containing whitespace");t=t.join(" ")}"id"===e&&(b=!0),void 0!==t&&v.setAttribute(e,t)}!b&&l&&(v.id=(0,r.pk)()),a&&p(v,a);const y=t?{}:void 0;if(c)for(const e of c)if("string"==typeof e)v.appendChild(document.createTextNode(e));else{(e.parent||e.before)&&console.warn('ignoring "parent" and/or "before" specified in child descriptor');const n=O({...e,parent:v,before:void 0},t);t&&Object.assign(y,n)}for(const[e,t]of[[h,(e,t)=>{e.innerText=t}],[u,(e,t)=>{e.innerHTML=t}]])void 0!==e&&t(v,e);return t&&(y[g]=v,["string","symbol"].includes(typeof n)&&(y[n]=v)),d&&d.insertBefore(v,m),t?y:v}function v(e,t=null){if(!(e instanceof Node))throw new Error("node must be an instance of Node");const{parent:n,before:r}=f(t);if(!n)throw new Error('options must specify either "parent" or "before"');n.insertBefore(e,r)}function b(e,t,n=null){if(!(e instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");const{before:r=null,prevent_coalesce_next:i}=n??{};if(null!==r&&!(r instanceof Node))throw new Error("before must be null or an instance of Node");if(r&&r.parentNode!==e)throw new Error("before must be a child of element");if("string"!=typeof t&&(t=`${t??""}`),!t)return null;let s;if(!s){const n=r?r.previousSibling:e.lastChild;n?.nodeType===Node.TEXT_NODE&&(n.nodeValue+=t,s=n)}if(!s&&r&&!i){const e=r;e.nodeType===Node.TEXT_NODE&&(e.nodeValue=t+e.nodeValue,s=e)}return s||(s=document.createTextNode(t),e.insertBefore(s,r)),s}function y(e){return e.normalize(),e}const w={};async function x(e,t,n=null,r=!1){const o=new URL(t,(0,i.h)(s)),{promise_data:a,initial:l}=function(e){const t=e.toString();let n,r=w[t];return r?n=!1:(r={},r.promise=new Promise(((e,t)=>{r.resolve=e,r.reject=t})),w[t]=r,n=!0),{initial:n,promise_data:r}}(o);if(l){let c;function h(e){a.resolve?.(),d()}function u(e){a.reject?.(new Error(`error loading script ${o}`)),d()}function d(){c&&(c.removeEventListener("load",h),c.removeEventListener("error",u)),a.resolve=null,a.reject=null}try{c=function(e,t,n=null,r=!1){if(!(e instanceof Element))throw new Error("parent must be an Element");if("src"in(n=n??{}))throw new Error('attrs must not contain "src"');let i;return r||(i=e.querySelector(`script[src="${t.toString().replaceAll('"','\\"')}"]`),i?.parentElement!==e&&(i=null)),i??O({parent:e,tag:"script",attrs:{src:t,...n}})}(e,o,n,r),c.addEventListener("load",h,{once:!0}),c.addEventListener("error",u,{once:!0})}catch(p){a.reject?.(p),d()}}return a.promise}},2050:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Qm:()=>o.Q,d4:()=>s.d,k7:()=>i.k});var i=n(6306),s=n(8395),o=n(9091),a=e([o]);o=(a.then?(await a)():a)[0],r()}catch(e){r(e)}}))},9091:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{Q:()=>h});var i=n(6306),s=n(8395),o=n(9886),a=n(1951),l=n(6092),c=e([l]);l=(c.then?(await c)():c)[0];class h{constructor(e,t){if(!(e instanceof EventTarget))throw new Error("event_target must be and instance of EventTarget");if("function"!=typeof t)throw new Error("command_observer must be a function");this.#c=new o.w;const n=new l.l;this.#h=n.subscribe(t),this.#u=[],this.#d=null,Object.defineProperties(this,{event_target:{value:e,enumerable:!0},command_observer:{value:t,enumerable:!0},commands:{value:n,enumerable:!0}})}#c;#h;#u;#d;#p;reset_key_map_stack(){this.#u.length>0&&(this.#u.splice(0),this.#m())}push_key_map(e){if(!(e instanceof s.d))throw new Error("key_map must be an instance of KeyMap");if(-1!==this.#u.indexOf(e))throw new Error("key_map already exists in stack");this.#u.unshift(e),this.#m()}pop_key_map(){const e=this.#u.shift();return e&&this.#m(),e}remove_key_map(e,t=!1){const n=this.#u.indexOf(e);return-1!==n&&(t?this.#u.splice(0,n+1):this.#u.splice(n,1),this.#m(),!0)}get is_attached(){return!!this.#d}attach(){if(this.is_attached)throw new Error("attach() called when already attached");if(this.#u.length<=0)return!1;this.#d=s.d.multi_mapper(...this.#u);const e=this.#d;let t,n;function r(){t=e,n=[]}r();const o=r,l=s=>{switch(s.key){case"Alt":case"AltGraph":case"CapsLock":case"Control":case"Fn":case"FnLock":case"Hyper":case"Meta":case"NumLock":case"ScrollLock":case"Shift":case"Super":case"Symbol":case"SymbolLock":case"OS":break;default:{const o=i.k.from_keyboard_event(s);n.push(o);const l=t.consume(o);if(l)if(s.preventDefault(),"string"==typeof l){const e={command:l,event:s,target:s.target,key_spec:o};this.commands.dispatch(e),r()}else t=l;else t!==e&&(s.preventDefault(),(0,a.V)()),r();break}}};this.#p=l,this.#c.remove_all();const c=[[this.event_target,"blur",o,{capture:!0}],[this.event_target,"keydown",l,{capture:!0}]];for(const[e,t,n,r]of c)this.#c.add(e,t,n,r);return this.#c.attach(),!0}detach(){this.#c.remove_all(),this.#d=null,this.#p=void 0}inject_key_event(e){this.#p?.(e)}#m(){const e=this.is_attached;this.detach(),e&&this.attach()}}r()}catch(e){r(e)}}))},8395:(e,t,n)=>{n.d(t,{d:()=>i});var r=n(6306);class i{constructor(e=null,t=null){Object.defineProperties(this,{bindings:{value:e,enumerable:!0},mapping:{value:this.constructor.#f(e),enumerable:!0},recognizer:{value:t,enumerable:!0}})}create_mapper(e=null){return new this.constructor.Mapper(this.mapping,this.recognizer,e)}static multi_mapper(...e){if(e.length<=0)throw new Error("at least one KeyMap instance must be given");if(!e.every((e=>e instanceof this)))throw new Error("arguments must all be KeyMap instances");return e.reduce(((e,t)=>t.create_mapper(e)),null)}static#f(e){if(null!=e&&"object"!=typeof e)throw new Error("bindings must be null/undefined or an object");const t={};for(const n in e){if(n.length<=0)throw new Error("bindings keys (command names) must not be empty strings");for(const i of e[n]){let e=t;const s=i.split(r.k.canonical_key_string_separator);for(let t=0;t<s.length;t++){const i=s[t],o=t>=s.length-1,a=new r.k(i).canonical,l=e[a];if("string"==typeof l||"object"==typeof l&&o){const e=s.slice(0,t+1).join(r.k.canonical_key_string_separator);throw new Error(`duplicate bindings specified for key sequence: ${e}`)}o?e[a]=n:e=l??(e[a]={})}}}return t}static Mapper=class e{constructor(e,t,n=null){if(null!=e&&"object"!=typeof e)throw new Error("mapping must be null/undefined or an object");if(null!=t&&"function"!=typeof t)throw new Error("recognizer must be null/undefined or a function");if(null!=n&&!(n instanceof this.constructor))throw new Error("fallback_mapper must be null/undefined or a KeyMap instance");if(!e&&!n)throw new Error("at least one of mapping or fallback_mapper must be given");Object.defineProperties(this,{mapping:{value:e,enumerable:!0},recognizer:{value:t,enumerable:!0},fallback_mapper:{value:n,enumerable:!0}})}consume(t){const n=t instanceof r.k?t:new r.k(t),i=this.recognizer?.(n);if("string"==typeof i)return i;const s=n.canonical,o=this.mapping?.[s];if("string"==typeof o)return o;const a=this.fallback_mapper?.consume(n);return"string"==typeof a?a:o||a?o?new e(o,null,a):a:void 0}}}},6306:(e,t,n)=>{n.d(t,{k:()=>r});class r{constructor(e,t=null){if("string"!=typeof e||e.length<=0)throw new Error("key_string must be a non-empty string");Object.defineProperties(this,{key_string:{value:e,enumerable:!0},context:{value:t,enumerable:!0}}),this.#g()}static canonical_key_modifier_separator="+";static canonical_key_string_separator=" ";static#O={meta:{code:"m",event_prop:"metaKey",glyph:"⌘",display_order:3,alternates:["cmd","command"]},ctrl:{code:"c",event_prop:"ctrlKey",glyph:"⌃",display_order:1,alternates:["control"]},shift:{code:"s",event_prop:"shiftKey",glyph:"⇧",display_order:2,alternates:[]},alt:{code:"a",event_prop:"altKey",glyph:"⌥",display_order:4,alternates:[]}};static#v={arrowleft:"←",arrowup:"↑",arrowright:"→",arrowdown:"↓",enter:"Enter",backspace:"Backspace",delete:"Delete"};static from_keyboard_event(e){const t=[];for(const n in this.#O){const r=this.#O[n];e[r.event_prop]&&t.push(r)}return new this([...t.map((e=>this.#b[e.code])),event.key].join(this.canonical_key_modifier_separator),e)}get glyphs(){if(void 0===this.#y){const e=this.key,t=e.toLowerCase(),n=this.modifier_descs.map((e=>e.glyph));t in this.constructor.#v?n.push(this.constructor.#v[t]):e.match(/^[a-zA-Z]$/)||e.match(/^[fF][0-9]{1,2}$/)?n.push(e.toUpperCase()):n.push(e),this.#y=n.join("")}return this.#y}#y;#g(){const e=this.key_string.split(/[+-]/);if(e.length<1||e.some((e=>e.length<=0)))if(this.key_string.match(/^[+-]$/))e.splice(0),e.push(this.key_string);else{if(!this.key_string.match(/[+-][+-]$/))throw new Error(`invalid key_string ${this.key_string}`);e.splice(-1),e[e.length-1]=this.key_string[this.key_string.length-1]}let t=e.at(-1);e.splice(-1);for(let t=0;t<e.length;t++)e[t]=e[t].toLowerCase();let n=t.toLowerCase();["up","down","left","right"].includes(n)&&(t=`Arrow${t}`,n=`arrow${n}`);const r=[];for(const t of e){const e=this.constructor.#w(t);if(!e)throw new Error(`invalid modifier "${t}" in key_string ${this.key_string}`);if(e.code in r)throw new Error(`redundant modifier "${t}" in key_string ${this.key_string}`);r.push(e)}r.sort(((e,t)=>e.display_order-t.display_order));const i=Object.values(r).reduce(((e,t)=>e|this.constructor.#x[t.code]),0),s=r.map((e=>e.code)).join("");let o=!0;o=0==(i&~this.constructor.shift_flag)&&!(1!==t.length||t.match(/^[\p{C}]$/u));const a=`${s}${this.constructor.canonical_key_modifier_separator}${o?t:n}`;Object.freeze(e),Object.freeze(r),Object.defineProperties(this,{key:{value:t,enumerable:!0},modifiers:{value:e,enumerable:!0},modifier_descs:{value:r,enumerable:!0},modifier_flags:{value:i,enumerable:!0},canonical_modifiers:{value:s,enumerable:!0},canonical:{value:a,enumerable:!0},is_printable:{value:o,enumerable:!0}});for(const e in this.constructor.#O)Object.defineProperty(this,`has_${e}`,{value:this.modifiers.includes(e),enumerable:!0})}static#k;static#S;static#_;static#w(e){return e=e.toLowerCase(),["cmdorctrl","commandorctrl"].includes(e)&&(e=(this.#_?"meta":"ctrl").toLowerCase()),this.#k[e]}static#b;static#A;static#C;static#x;static _init_static(){this.#_=(globalThis.navigator?.userAgentData?.platform??globalThis.navigator?.platform??"").toLowerCase().startsWith("mac"),this.#b={};for(const e in this.#O){const t=this.#O[e];this.#b[t.code]=e}this.#A=Object.fromEntries(Object.entries(this.#O).map((([e,{code:t,glyph:n}])=>[t,n]))),this.#C=Object.fromEntries(Object.entries(this.#O).map((([e,{code:t,display_order:n}])=>[t,n]))),this.#k=this.#Q(),this.#S=Object.freeze(Object.fromEntries(Object.keys(this.#O).map((e=>this.#k[e])).map((e=>[e.code,e]))));let e=1;this.#x={};for(const t in this.#O){const n=this.#O[t];this.#x[t]=e,this.#x[n.code]=e,e<<=1}Object.freeze(this.#x);for(const e in this.#O)Object.defineProperty(this,`${e}_flag`,{value:this.#x[e],enumerable:!0})}static#Q(){{const e="+-"+this.canonical_key_modifier_separator+this.canonical_key_string_separator,t=Object.keys(this.#O);if(t.some((e=>e!==e.toLowerCase())))throw new Error("KeySpec.#basic_modifier_desc_map keys must be lowercase");const n=t.map((e=>this.#O[e].alternates)).reduce(((e,t)=>[...e,...t]));if(n.some((e=>e!==e.toLowerCase())))throw new Error("KeySpec.#basic_modifier_desc_map alternates must be lowercase");if(new Set([...t,...n]).size!==t.length+n.length)throw new Error("KeySpec.#basic_modifier_desc_map keys and alternates must all be distinct");const r=t.map((e=>this.#O[e].code));for(const t of r){if(1!==t.length)throw new Error("KeySpec.#basic_modifier_desc_map codes must be single characters");if(e.includes(t))throw new Error(`KeySpec.#basic_modifier_desc_map codes are not allowed to be any of following: ${e}`)}if(new Set(r).size!==r.length)throw new Error("KeySpec.#basic_modifier_desc_map code values must be distinct");const i=t.map((e=>this.#O[e].event_prop));if(new Set(i).size!==i.length)throw new Error("KeySpec.#basic_modifier_desc_map event_prop values must be distinct")}const e={};function t(e,t,n){const r={modifier:t,basic_modifier:e,...n,alternates:[...new Set([e,t,...n.alternates])]};return Object.freeze(r)}for(const n in this.#O){const r=this.#O[n];e[n]=t(n,n,r);for(const i of r.alternates)e[i]=t(n,i,r)}return Object.freeze(e)}}r._init_static()},3231:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{j:()=>l});var i=n(6092),s=n(7273),o=n(2050),a=(n(6973),e([i,o]));[i,o]=a.then?(await a)():a;class l{static menu_element_tag_name="menu";static menuitem_element_tag_name="li";static find_previous_menuitem(e){let t=e.previousElementSibling;for(;t&&(!t.classList.contains("menuitem")||t.classList.contains("disabled"));)t=t.previousElementSibling;return t}static find_next_menuitem(e){let t=e.nextElementSibling;for(;t&&(!t.classList.contains("menuitem")||t.classList.contains("disabled"));)t=t.nextElementSibling;return t}static create(e,t,n){return new this(e,t,n)}constructor(e,t,n){if(!(e instanceof Element))throw new Error("parent must be an instance of Element");if(null!=n&&"function"!=typeof n)throw new Error("get_command_bindings must be null, undefined, or a function");n??=()=>[];const r=new i.l,s=new i.l;Object.defineProperties(this,{get_command_bindings:{value:n,enumerable:!0},commands:{value:r,enumerable:!0},selects:{value:s,enumerable:!0}}),this.#$={},this.#T=this.#M(e,t)}#$;#T;get element(){return this.#T}#P(e){const t=this.#$[e];if(!t)throw new Error(`no element found for menu id "${e}"`);if(!t.classList.contains("menuitem"))throw new Error(`element for menu id "${e}" is not a menuitem`);return t}async activate(e=null){if(!(this.#T instanceof Element&&this.#T.classList.contains("menubar")))throw new Error('this.#menubar_container must be an Element with class "menubar"');const{set_focus:t}=e??{};if(!this.#T.querySelector(".selected")){const e=this.#T.querySelector(".menuitem");e&&this.#E(e)}if(t)return new Promise((e=>setTimeout((()=>{this.#T.focus(),e()}))))}deactivate(){this.#Z(this.#T)}set_menu_state(e,t){if(t??={},"object"!=typeof t)throw new Error("state_specs must be an object");const n=this.#P(e);for(const[e,r]of Object.entries(t??{}))switch(e){case"enabled":r?n.classList.remove("disabled"):n.classList.add("disabled");break;case"checked":r?n.classList.add("checked"):n.classList.remove("checked");break;default:throw new Error("unknown state name")}}#Z(e){if(e){if(!(e instanceof Element)||!e.classList.contains("menubar")&&!e.classList.contains("menu"))throw new Error('menu_element must be an Element with class "menubar" or "menu"');e.classList.remove("active"),e.classList.remove("selected");for(const t of e.children)t.classList.remove("selected"),t.classList.contains("collection")&&this.#Z(t.querySelector(".menu"));e.classList.contains("menubar")&&this.selects.dispatch({select:!1,target:e})}}#E(e){if(!e.classList.contains("selected")){const t=e.closest(".menubar, .menu");if(t.classList.contains("menubar")&&!this.#T.querySelector(".selected")&&this.selects.dispatch({select:!0,target:e}),e.classList.add("selected"),e.classList.contains("collection")){e.querySelector(".menu").classList.add("active");const t=e.querySelector(".menu"),n=e.getBoundingClientRect();e.parentElement.classList.contains("menubar")?(t.style.top=`${n.y+n.height}px`,t.style.left=`${n.x}px`):(t.style.top=n.y-n.height+"px",t.style.left=`${n.x+n.width}px`)}for(const n of t.children)n!==e&&this.#B(n)}}#B(e){e.classList.contains("selected")&&(e.classList.remove("selected"),e.parentElement.classList.contains("menubar")&&!this.#T.querySelector(".selected")&&this.selects.dispatch({select:!1,target:e})),e.classList.contains("collection")&&this.#Z(e.querySelector(".menu"))}#I(e){if(!(e instanceof Element))throw new Error("parent must be an instance of Element");(0,s.T1)({parent:e,tag:this.constructor.menuitem_element_tag_name}).classList.add("disabled","menuitem","menuitem-separator")}#R(e,t,n=!1){if(!(t instanceof Element))throw new Error("parent must be an instance of Element");if("string"==typeof e)return this.#I(t);const{label:r,collection:i,item:o,id:a}=e;if("string"!=typeof r)throw new Error("label must be specified as a string");if(o&&i)throw new Error("item and collection must not both be specified");if(i&&!Array.isArray(i))throw new Error("collection must be an array");if(o&&("object"!=typeof o||"string"!=typeof o.command))throw new Error('item must specify an object with a string property "command"');if(!["undefined","string"].includes(typeof a)||""===a)throw new Error("id must be a non-empty string");const l=this.#z(r,n);if(o)this.#Y(l,o.command);else{l.classList.add("collection");const e=(0,s.T1)({parent:l,tag:this.constructor.menu_element_tag_name});e.classList.add("menu"),n||((0,s.T1)({parent:l,attrs:{class:["menuitem-annotation","collection-arrow"]}}).textContent="▸"),i.forEach((t=>this.#R(t,e))),n&&l.addEventListener("click",(e=>{e.target.closest(".menuitem")===l&&(l.classList.contains("selected")?this.#B(l):this.#E(l),e.stopPropagation(),e.preventDefault())}))}return a&&(this.#$[a]=l),t&&t.appendChild(l),l}#z(e,t=!1){const n=(0,s.T1)({tag:this.constructor.menuitem_element_tag_name,attrs:{set_id:!0,class:"menuitem"}});return(0,s.T1)({parent:n,attrs:{class:"menuitem-label"}}).innerText=e,n.addEventListener("mousemove",(e=>{t&&!this.#T.querySelector(".selected")||n.classList.contains("disabled")||this.#E(n)})),n}#Y(e,t){if(t){const n=this.get_command_bindings()[t];if(n){const t=(0,s.T1)({parent:e,attrs:{class:"menuitem-annotation"}});n.forEach((e=>{const n=new o.k7(e).glyphs;(0,s.T1)({parent:t,tag:"kbd"}).textContent=n}))}}e.addEventListener("click",(n=>{this.#Z(e.closest(".menubar"));const r={command:t,event:n,target:n.target};this.commands.dispatch(r),n.stopPropagation(),n.preventDefault()}))}#M(e,t){const n=(0,s.T1)({parent:e,tag:this.constructor.menu_element_tag_name,attrs:{role:"navigation",tabindex:0,class:["active","menubar"]},before:e.firstChild});return t.forEach((e=>this.#R(e,n,!0))),n.addEventListener("blur",(e=>{this.#Z(n)})),n.addEventListener("keydown",(e=>{const t=n.querySelectorAll(".selected");if(t.length<=0){if(!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," "].includes(e.key))return;{const e=n.querySelector(".menuitem");e&&this.#E(e)}}else{const r=t[t.length-1],i=r.parentElement===n;let s,o,a,l;switch(i?(s="ArrowLeft",o="ArrowRight",a="ArrowUp",l="ArrowDown"):(s="ArrowUp",o="ArrowDown",a="ArrowLeft",l="ArrowRight"),e.key){case"Enter":case" ":r.click();break;case"Escape":this.#Z(n);break;case s:{const e=this.constructor.find_previous_menuitem(r);e?this.#E(e):i||r.classList.remove("selected");break}case o:{const e=this.constructor.find_next_menuitem(r);e&&this.#E(e);break}case a:if(!i){const e=n.querySelector(".menuitem.selected"),t=this.constructor.find_previous_menuitem(e);t&&this.#E(t)}break;case l:{let e=!1;if(r.classList.contains("collection")){const t=r.querySelector(".menuitem:not(.disabled)");t&&(this.#E(t),e=!0)}if(!e&&!i){const e=n.querySelector(".menuitem.selected"),t=this.constructor.find_next_menuitem(e);t&&this.#E(t)}break}default:return}}e.stopPropagation(),e.preventDefault()}),{capture:!0}),n}}r()}catch(e){r(e)}}))},4790:(e,t,n)=>{n.d(t,{B1:()=>_e,GA:()=>ge,Gn:()=>ie,Mb:()=>l,eC:()=>c,vQ:()=>he,ys:()=>Se});var r=n(8120),i=n(6485),s=n(9119);class o{constructor(e,t,n){this.state=e,this.pos=t,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let t=(0,s.qz)(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(d(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function a(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function l(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[n,r]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),n=Object.create(null);for(let{label:r}of e){t[r[0]]=!0;for(let e=1;e<r.length;e++)n[r[e]]=!0}let r=a(t)+a(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(t);return e=>{let i=e.matchBefore(r);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:n}:null}}function c(e,t){return n=>{for(let t=(0,s.qz)(n.state).resolveInner(n.pos,-1);t;t=t.parent){if(e.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return t(n)}}class h{constructor(e,t,n,r){this.completion=e,this.source=t,this.match=n,this.score=r}}function u(e){return e.selection.main.from}function d(e,t){var n;let{source:r}=e,i=t&&"^"!=r[0],s="$"!=r[r.length-1];return i||s?new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}const p=r.q6.define(),m=new WeakMap;function f(e){if(!Array.isArray(e))return e;let t=m.get(e);return t||m.set(e,t=l(e)),t}const g=r.Py.define(),O=r.Py.define();class v{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=(0,r.gm)(e,t),i=(0,r.nZ)(n);this.chars.push(n);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push((0,r.gm)(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:n,any:i,precise:s,byWord:o}=this;if(1==t.length){let i=(0,r.gm)(e,0),s=(0,r.nZ)(i),o=s==e.length?0:-100;if(i==t[0]);else{if(i!=n[0])return!1;o+=-200}return this.ret(o,[0,s])}let a=e.indexOf(this.pattern);if(0==a)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let s=0,o=Math.min(e.length,200);s<o&&c<l;){let o=(0,r.gm)(e,s);o!=t[c]&&o!=n[c]||(i[c++]=s),s+=(0,r.nZ)(o)}if(c<l)return!1}let h=0,u=0,d=!1,p=0,m=-1,f=-1,g=/[a-z]/.test(e),O=!0;for(let i=0,c=Math.min(e.length,200),v=0;i<c&&u<l;){let c=(0,r.gm)(e,i);a<0&&(h<l&&c==t[h]&&(s[h++]=i),p<l&&(c==t[p]||c==n[p]?(0==p&&(m=i),f=i+1,p++):p=0));let b,y=c<255?c>=48&&c<=57||c>=97&&c<=122?2:c>=65&&c<=90?1:0:(b=(0,r.bg)(c))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!i||1==y&&g||0==v&&0!=y)&&(t[u]==c||n[u]==c&&(d=!0)?o[u++]=i:o.length&&(O=!1)),v=y,i+=(0,r.nZ)(c)}return u==l&&0==o[0]&&O?this.result((d?-200:0)-100,o,e):p==l&&0==m?this.ret(-200-e.length+(f==e.length?0:-100),[0,f]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[m,f]):u==l?this.result((d?-200:0)-100-700+(O?0:-1100),o,e):2!=t.length&&this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,n){let i=[],s=0;for(let e of t){let t=e+(this.astral?(0,r.nZ)((0,r.gm)(n,e)):1);s&&i[s-1]==e?i[s-1]=t:(i[s++]=e,i[s++]=t)}return this.ret(e-n.length,i)}}const b=r.r$.define({combine:e=>(0,r.BO)(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:w,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>y(e(n),t(n)),optionClass:(e,t)=>n=>y(e(n),t(n)),addToOptions:(e,t)=>e.concat(t)})});function y(e,t){return e?t?e+" "+t:e:t}function w(e,t,n,r,s,o){let a,l,c=e.textDirection==i.Nm.RTL,h=c,u=!1,d="top",p=t.left-s.left,m=s.right-t.right,f=r.right-r.left,g=r.bottom-r.top;if(h&&p<Math.min(f,m)?h=!1:!h&&m<Math.min(f,p)&&(h=!0),f<=(h?p:m))a=Math.max(s.top,Math.min(n.top,s.bottom-g))-t.top,l=Math.min(400,h?p:m);else{u=!0,l=Math.min(400,(c?t.right:s.right-t.left)-30);let e=s.bottom-t.bottom;e>=g||e>t.top?a=n.bottom-t.top:(d="bottom",a=t.bottom-n.top)}return{style:`${d}: ${a/((t.bottom-t.top)/o.offsetHeight)}px; max-width: ${l/((t.right-t.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(u?c?"left-narrow":"right-narrow":h?"left":"right")}}function x(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/n);return{from:e*n,to:(e+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class k{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:i,selected:s}=r.open,o=e.state.facet(b);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let s=e.displayLabel||e.label,o=0;for(let e=0;e<r.length;){let t=r[e++],n=r[e++];t>o&&i.appendChild(document.createTextNode(s.slice(o,t)));let a=i.appendChild(document.createElement("span"));a.appendChild(document.createTextNode(s.slice(t,n))),a.className="cm-completionMatchedText",o=n}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(((e,t)=>e.position-t.position)).map((e=>e.render))}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=x(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=e.state.field(t).open;for(let t,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(t=/-(\d+)$/.exec(i.id))&&+t[1]<r.length)return this.applyCompletion(e,r[+t[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(t=>{let n=e.state.field(this.stateField,!1);n&&n.tooltip&&e.state.facet(b).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:O.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(e){var t;let n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){let{options:i,selected:s,disabled:o}=n.open;r.open&&r.open.options==i||(this.range=x(i.length,s,e.state.facet(b).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),o!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=x(t.options.length,t.selected,this.view.state.facet(b).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:r}=n;if(!r)return;let s="string"==typeof r?document.createTextNode(r):r(n);if(!s)return;"then"in s?s.then((t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,n)})).catch((e=>(0,i.OO)(this.view.state,e,"completion info"))):this.addInfoPane(s,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:r}=e;n.appendChild(t),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&function(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:e.innerWidth,bottom:e.innerHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(b).positionInfo(this.view,t,r,n,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let s=n.from;s<n.to;s++){let{completion:o,match:a}=e[s],{section:l}=o;if(l){let e="string"==typeof l?l:l.name;e!=i&&(s>n.from||0==n.from)&&(i=e,"string"!=typeof l&&l.header?r.appendChild(l.header(l)):r.appendChild(document.createElement("completion-section")).textContent=e)}const c=r.appendChild(document.createElement("li"));c.id=t+"-"+s,c.setAttribute("role","option");let h=this.optionClass(o);h&&(c.className=h);for(let e of this.optionContent){let t=e(o,this.view.state,this.view,a);t&&c.appendChild(t)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function S(e,t){return n=>new k(n,e,t)}function _(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class A{constructor(e,t,n,r,i,s){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new A(this.options,$(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,r,i){let s=function(e,t){let n=[],r=null,i=e=>{n.push(e);let{section:t}=e.completion;if(t){r||(r=[]);let e="string"==typeof t?t:t.name;r.some((t=>t.name==e))||r.push("string"==typeof t?{name:e}:t)}};for(let r of e)if(r.hasResult()){let e=r.result.getMatch;if(!1===r.result.filter)for(let t of r.result.options)i(new h(t,r.source,e?e(t):[],1e9-n.length));else{let n=new v(t.sliceDoc(r.from,r.to));for(let t of r.result.options)if(n.match(t.label)){let s=t.displayLabel?e?e(t,n.matched):[]:n.matched;i(new h(t,r.source,s,n.score+(t.boost||0)))}}}if(r){let e=Object.create(null),t=0,i=(e,t)=>{var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)};for(let n of r.sort(i))t-=1e5,e[n.name]=t;for(let t of n){let{section:n}=t.completion;n&&(t.score+=e["string"==typeof n?n:n.name])}}let s=[],o=null,a=t.facet(b).compareCompletions;for(let e of n.sort(((e,t)=>t.score-e.score||a(e.completion,t.completion)))){let t=e.completion;!o||o.label!=t.label||o.detail!=t.detail||null!=o.type&&null!=t.type&&o.type!=t.type||o.apply!=t.apply||o.boost!=t.boost?s.push(e):_(e.completion)>_(o)&&(s[s.length-1]=e),o=e.completion}return s}(e,t);if(!s.length)return r&&e.some((e=>1==e.state))?new A(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let o=t.facet(b).selectOnOpen?0:-1;if(r&&r.selected!=o&&-1!=r.selected){let e=r.options[r.selected].completion;for(let t=0;t<s.length;t++)if(s[t].completion==e){o=t;break}}return new A(s,$(n,o),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:z,above:i.aboveCursor},r?r.timestamp:Date.now(),o,!1)}map(e){return new A(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class C{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new C(T,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,n=t.facet(b),r=(n.override||t.languageDataAt("autocomplete",u(t)).map(f)).map((t=>(this.active.find((e=>e.source==t))||new P(t,this.active.some((e=>0!=e.state))?1:0)).update(e,n)));r.length==this.active.length&&r.every(((e,t)=>e==this.active[t]))&&(r=this.active);let i=this.open;i&&e.docChanged&&(i=i.map(e.changes)),e.selection||r.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let i=n==e.length,s=r==t.length;if(i||s)return i==s;if(e[n++].result!=t[r++].result)return!1}}(r,this.active)?i=A.build(r,t,this.id,i,n):i&&i.disabled&&!r.some((e=>1==e.state))&&(i=null),!i&&r.every((e=>1!=e.state))&&r.some((e=>e.hasResult()))&&(r=r.map((e=>e.hasResult()?new P(e.source,0):e)));for(let t of e.effects)t.is(B)&&(i=i&&i.setSelected(t.value,this.id));return r==this.active&&i==this.open?this:new C(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Q}}const Q={"aria-autocomplete":"list"};function $(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const T=[];function M(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class P{constructor(e,t,n=-1){this.source=e,this.state=t,this.explicitPos=n}hasResult(){return!1}update(e,t){let n=M(e),r=this;n?r=r.handleUserEvent(e,n,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new P(r.source,0));for(let t of e.effects)if(t.is(g))r=new P(r.source,1,t.value?u(e.state):-1);else if(t.is(O))r=new P(r.source,0);else if(t.is(Z))for(let e of t.value)e.source==r.source&&(r=e);return r}handleUserEvent(e,t,n){return"delete"!=t&&n.activateOnTyping?new P(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(u(e.startState))?new P(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new P(this.source,this.state,e.mapPos(this.explicitPos))}}class E extends P{constructor(e,t,n,r,i){super(e,2,t),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(e,t,n){var r;let i=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=u(e.state);if((this.explicitPos<0?a<=i:a<this.from)||a>s||"delete"==t&&u(e.startState)==this.from)return new P(this.source,"input"==t&&n.activateOnTyping?1:0);let l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):d(e,!0).test(i)}(this.result.validFor,e.state,i,s)?new E(this.source,c,this.result,i,s):this.result.update&&(l=this.result.update(this.result,i,s,new o(e.state,a,c>=0)))?new E(this.source,c,l,l.from,null!==(r=l.to)&&void 0!==r?r:u(e.state)):new P(this.source,1,c)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new P(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new E(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const Z=r.Py.define({map:(e,t)=>e.map((e=>e.map(t)))}),B=r.Py.define(),I=r.QQ.define({create:()=>C.start(),update:(e,t)=>e.update(t),provide:e=>[i.hJ.from(e,(e=>e.tooltip)),i.tk.contentAttributes.from(e,(e=>e.attrs))]});function R(e,t){const n=t.completion.apply||t.completion.label;let i=e.state.field(I).active.find((e=>e.source==t.source));return i instanceof E&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},function(e,t,n,i){let{main:s}=e.selection,o=n-s.from,a=i-s.from;return Object.assign(Object.assign({},e.changeByRange((l=>l!=s&&n!=i&&e.sliceDoc(l.from+o,l.from+a)!=e.sliceDoc(n,i)?{range:l}:{changes:{from:l.from+o,to:i==s.from?l.to:l.from+a,insert:t},range:r.jT.cursor(l.from+o+t.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,n,i.from,i.to)),{annotations:p.of(t.completion)})):n(e,t.completion,i.from,i.to),!0)}const z=S(I,R);function Y(e,t="option"){return n=>{let r=n.state.field(I,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(b).interactionDelay)return!1;let s,o=1;"page"==t&&(s=(0,i.gB)(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,l=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:a-1;return l<0?l="page"==t?0:a-1:l>=a&&(l="page"==t?a-1:0),n.dispatch({effects:B.of(l)}),!0}}class L{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const D=i.lg.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(I).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(I);if(!e.selectionSet&&!e.docChanged&&e.startState.field(I)==t)return;let n=e.transactions.some((e=>(e.selection||e.docChanged)&&!M(e)));for(let t=0;t<this.running.length;t++){let r=this.running[t];if(n||r.updates.length+e.transactions.length>50&&Date.now()-r.time>1e3){for(let e of r.context.abortListeners)try{e()}catch(e){(0,i.OO)(this.view.state,e)}r.context.abortListeners=null,this.running.splice(t--,1)}else r.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.active.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==M(t)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(I);for(let e of t.active)1!=e.state||this.running.some((t=>t.active.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,n=u(t),r=new o(t,n,e.explicitPos==n),s=new L(e,r);this.running.push(s),Promise.resolve(e.source(r)).then((e=>{s.context.aborted||(s.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:O.of(null)}),(0,i.OO)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(b).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(b);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new E(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(e=i.done.to)&&void 0!==e?e:u(i.updates.length?i.updates[0].startState:this.view.state));for(let e of i.updates)r=r.update(e,n);if(r.hasResult()){t.push(r);continue}}let s=this.view.state.field(I).active.find((e=>e.source==i.active.source));if(s&&1==s.state)if(null==i.done){let e=new P(i.active.source,0);for(let t of i.updates)e=e.update(t,n);1!=e.state&&t.push(e)}else this.startQuery(s)}t.length&&this.view.dispatch({effects:Z.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(I,!1);if(t&&t.tooltip&&this.view.state.facet(b).closeOnBlur){let n=t.open&&(0,i.gB)(this.view,t.open.tooltip);n&&n.dom.contains(e.relatedTarget)||this.view.dispatch({effects:O.of(null)})}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:g.of(!1)})),20),this.composing=0}}}),X=i.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class q{constructor(e,t,n,r){this.field=e,this.line=t,this.from=n,this.to=r}}class j{constructor(e,t,n){this.field=e,this.from=t,this.to=n}map(e){let t=e.mapPos(this.from,-1,r.gc.TrackDel),n=e.mapPos(this.to,1,r.gc.TrackDel);return null==t||null==n?null:new j(this.field,t,n)}}class N{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let n=[],r=[t],i=e.doc.lineAt(t),o=/^\s*/.exec(i.text)[0];for(let i of this.lines){if(n.length){let n=o,a=/^\t*/.exec(i)[0].length;for(let t=0;t<a;t++)n+=e.facet(s.c);r.push(t+n.length-a),i=n+i.slice(a)}n.push(i),t+=i.length+1}let a=this.fieldPositions.map((e=>new j(e.field,r[e.line]+e.from,r[e.line]+e.to)));return{text:n,ranges:a}}static parse(e){let t,n=[],r=[],i=[];for(let s of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let e=t[1]?+t[1]:null,o=t[2]||t[3]||"",a=-1;for(let t=0;t<n.length;t++)(null!=e?n[t].seq==e:o&&n[t].name==o)&&(a=t);if(a<0){let t=0;for(;t<n.length&&(null==e||null!=n[t].seq&&n[t].seq<e);)t++;n.splice(t,0,{seq:e,name:o}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new q(a,r.length,t.index,t.index+o.length)),s=s.slice(0,t.index)+o+s.slice(t.index+t[0].length)}for(let e;e=/\\([{}])/.exec(s);){s=s.slice(0,e.index)+e[1]+s.slice(e.index+e[0].length);for(let t of i)t.line==r.length&&t.from>e.index&&(t.from--,t.to--)}r.push(s)}return new N(r,i)}}let W=i.p.widget({widget:new class extends i.l9{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),U=i.p.mark({class:"cm-snippetField"});class V{constructor(e,t){this.ranges=e,this.active=t,this.deco=i.p.set(e.map((e=>(e.from==e.to?W:U).range(e.from,e.to))))}map(e){let t=[];for(let n of this.ranges){let r=n.map(e);if(!r)return null;t.push(r)}return new V(t,this.active)}selectionInsideField(e){return e.ranges.every((e=>this.ranges.some((t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))))}}const G=r.Py.define({map:(e,t)=>e&&e.map(t)}),H=r.Py.define(),F=r.QQ.define({create:()=>null,update(e,t){for(let n of t.effects){if(n.is(G))return n.value;if(n.is(H)&&e)return new V(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>i.tk.decorations.from(e,(e=>e?e.deco:i.p.none))});function J(e,t){return r.jT.create(e.filter((e=>e.field==t)).map((e=>r.jT.range(e.from,e.to))))}function K(e){let t=N.parse(e);return(e,n,i,s)=>{let{text:o,ranges:a}=t.instantiate(e.state,i),l={changes:{from:i,to:s,insert:r.xv.of(o)},scrollIntoView:!0,annotations:n?p.of(n):void 0};if(a.length&&(l.selection=J(a,0)),a.length>1){let t=new V(a,0),n=l.effects=[G.of(t)];void 0===e.state.field(F,!1)&&n.push(r.Py.appendConfig.of([F,re,se,X]))}e.dispatch(e.state.update(l))}}function ee(e){return({state:t,dispatch:n})=>{let r=t.field(F,!1);if(!r||e<0&&0==r.active)return!1;let i=r.active+e,s=e>0&&!r.ranges.some((t=>t.field==i+e));return n(t.update({selection:J(r.ranges,i),effects:G.of(s?null:new V(r.ranges,i)),scrollIntoView:!0})),!0}}const te=[{key:"Tab",run:ee(1),shift:ee(-1)},{key:"Escape",run:({state:e,dispatch:t})=>!!e.field(F,!1)&&(t(e.update({effects:G.of(null)})),!0)}],ne=r.r$.define({combine:e=>e.length?e[0]:te}),re=r.Wl.highest(i.$f.compute([ne],(e=>e.facet(ne))));function ie(e,t){return Object.assign(Object.assign({},t),{apply:K(e)})}const se=i.tk.domEventHandlers({mousedown(e,t){let n,r=t.state.field(F,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=r.ranges.find((e=>e.from<=n&&e.to>=n));return!(!i||i.field==r.active||(t.dispatch({selection:J(r.ranges,i.field),effects:G.of(r.ranges.some((e=>e.field>i.field))?new V(r.ranges,i.field):null),scrollIntoView:!0}),0))}}),oe={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ae=r.Py.define({map(e,t){let n=t.mapPos(e,-1,r.gc.TrackAfter);return null==n?void 0:n}}),le=new class extends r.uU{};le.startSide=1,le.endSide=-1;const ce=r.QQ.define({create:()=>r.Xs.empty,update(e,t){if(t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=n.from&&e<=n.to})}e=e.map(t.changes);for(let n of t.effects)n.is(ae)&&(e=e.update({add:[le.range(n.value,n.value+1)]}));return e}});function he(){return[fe,ce]}const ue="()[]{}<>";function de(e){for(let t=0;t<8;t+=2)if(ue.charCodeAt(t)==e)return ue.charAt(t+1);return(0,r.bg)(e<128?e:e+1)}function pe(e,t){return e.languageDataAt("closeBrackets",t)[0]||oe}const me="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),fe=i.tk.inputHandler.of(((e,t,n,i)=>{if((me?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let s=e.state.selection.main;if(i.length>2||2==i.length&&1==(0,r.nZ)((0,r.gm)(i,0))||t!=s.from||n!=s.to)return!1;let o=function(e,t){let n=pe(e,e.selection.main.head),i=n.brackets||oe.brackets;for(let s of i){let o=de((0,r.gm)(s,0));if(t==s)return o==s?we(e,s,i.indexOf(s+s+s)>-1,n):be(e,s,o,n.before||oe.before);if(t==o&&Oe(e,e.selection.main.from))return ye(e,0,o)}return null}(e.state,i);return!!o&&(e.dispatch(o),!0)})),ge=[{key:"Backspace",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=pe(e,e.selection.main.head).brackets||oe.brackets,i=null,s=e.changeByRange((t=>{if(t.empty){let i=function(e,t){let n=e.sliceString(t-2,t);return(0,r.nZ)((0,r.gm)(n,0))==n.length?n:n.slice(1)}(e.doc,t.head);for(let s of n)if(s==i&&ve(e.doc,t.head)==de((0,r.gm)(s,0)))return{changes:{from:t.head-s.length,to:t.head+s.length},range:r.jT.cursor(t.head-s.length)}}return{range:i=t}}));return i||t(e.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function Oe(e,t){let n=!1;return e.field(ce).between(0,e.doc.length,(e=>{e==t&&(n=!0)})),n}function ve(e,t){let n=e.sliceString(t,t+2);return n.slice(0,(0,r.nZ)((0,r.gm)(n,0)))}function be(e,t,n,i){let s=null,o=e.changeByRange((o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:ae.of(o.to+t.length),range:r.jT.range(o.anchor+t.length,o.head+t.length)};let a=ve(e.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:t+n,from:o.head},effects:ae.of(o.head+t.length),range:r.jT.cursor(o.head+t.length)}:{range:s=o}}));return s?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ye(e,t,n){let i=null,s=e.changeByRange((t=>t.empty&&ve(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:r.jT.cursor(t.head+n.length)}:i={range:t}));return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function we(e,t,n,i){let o=i.stringPrefixes||oe.stringPrefixes,a=null,l=e.changeByRange((i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:t,from:i.to}],effects:ae.of(i.to+t.length),range:r.jT.range(i.anchor+t.length,i.head+t.length)};let l,c=i.head,h=ve(e.doc,c);if(h==t){if(xe(e,c))return{changes:{insert:t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)};if(Oe(e,c)){let i=n&&e.sliceDoc(c,c+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+i.length,insert:i},range:r.jT.cursor(c+i.length)}}}else{if(n&&e.sliceDoc(c-2*t.length,c)==t+t&&(l=ke(e,c-2*t.length,o))>-1&&xe(e,l))return{changes:{insert:t+t+t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)};if(e.charCategorizer(c)(h)!=r.D0.Word&&ke(e,c,o)>-1&&!function(e,t,n,r){let i=(0,s.qz)(e).resolveInner(t,-1),o=r.reduce(((e,t)=>Math.max(e,t.length)),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),a=s.indexOf(n);if(!a||a>-1&&r.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>n.length+a;){if(e.sliceDoc(t.to-n.length,t.to)==n)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,c,t,o))return{changes:{insert:t+t,from:c},effects:ae.of(c+t.length),range:r.jT.cursor(c+t.length)}}return{range:a=i}}));return a?null:e.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function xe(e,t){let n=(0,s.qz)(e).resolveInner(t+1);return n.parent&&n.from==t}function ke(e,t,n){let i=e.charCategorizer(t);if(i(e.sliceDoc(t-1,t))!=r.D0.Word)return t;for(let s of n){let n=t-s.length;if(e.sliceDoc(n,t)==s&&i(e.sliceDoc(n-1,n))!=r.D0.Word)return n}return-1}function Se(e={}){return[I,b.of(e),D,Ae,X]}const _e=[{key:"Ctrl-Space",run:e=>!!e.state.field(I,!1)&&(e.dispatch({effects:g.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(I,!1);return!(!t||!t.active.some((e=>0!=e.state))||(e.dispatch({effects:O.of(null)}),0))}},{key:"ArrowDown",run:Y(!0)},{key:"ArrowUp",run:Y(!1)},{key:"PageDown",run:Y(!0,"page")},{key:"PageUp",run:Y(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(I,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(b).interactionDelay)&&R(e,t.open.options[t.open.selected])}}],Ae=r.Wl.highest(i.$f.computeN([b],(e=>e.facet(b).defaultKeymap?[_e]:[])))},5383:(e,t,n)=>{n.d(t,{AH:()=>Q,BL:()=>Le,Bx:()=>ae,KX:()=>k,Kd:()=>le,Yw:()=>x,at:()=>ze,f$:()=>L,kU:()=>G,lv:()=>U,m8:()=>y,oc:()=>Xe,of:()=>C,wA:()=>Re,wQ:()=>De,xi:()=>Ye,xx:()=>Ze});var r=n(8120),i=n(6485),s=n(9119),o=n(1113);function a(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(r(n.update(i)),!0)}}const l=a(m,0),c=a(p,0),h=a(((e,t)=>p(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),s=t.length-1;s>=0&&t[s].to>r.from?t[s].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}(t))),0);function u(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const d=50;function p(e,t,n=t.selection.ranges){let r=n.map((e=>u(t,e.from).block));if(!r.every((e=>e)))return null;let i=n.map(((e,n)=>function(e,{open:t,close:n},r,i){let s,o,a=e.sliceDoc(r-d,r),l=e.sliceDoc(i,i+d),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,u=a.length-c;if(a.slice(u-t.length,u)==t&&l.slice(h,h+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+h,margin:h&&1}};i-r<=2*d?s=o=e.sliceDoc(r,i):(s=e.sliceDoc(r,r+d),o=e.sliceDoc(i-d,i));let p=/^\s*/.exec(s)[0].length,m=/\s*$/.exec(o)[0].length,f=o.length-m-n.length;return s.slice(p,p+t.length)==t&&o.slice(f,f+n.length)==n?{open:{pos:r+p+t.length,margin:/\s/.test(s.charAt(p+t.length))?1:0},close:{pos:i-m-n.length,margin:/\s/.test(o.charAt(f-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!i.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&i.some((e=>e))){let e=[];for(let t,n=0;n<i.length;n++)if(t=i[n]){let i=r[n],{open:s,close:o}=t;e.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:e}}return null}function m(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:s}of n){let n=r.length,o=1e9,a=u(t,e).line;if(a){for(let n=e;n<=s;){let l=t.doc.lineAt(n);if(l.from>i&&(e==s||s>l.from)){i=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<o&&(o=e),r.push({line:l,comment:n,token:a,indent:e,empty:t,single:!1})}n=l.to+1}if(o<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=o);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:i,empty:s,single:o}of r)!o&&s||e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,s=r+i.length;" "==t.text[s-t.from]&&s++,e.push({from:r,to:s})}return{changes:e}}return null}const f=r.q6.define(),g=r.q6.define(),O=r.r$.define(),v=r.r$.define({combine:e=>(0,r.BO)(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),b=r.QQ.define({create:()=>Y.empty,update(e,t){let n=t.state.facet(v),i=t.annotation(f);if(i){let s=t.docChanged?r.jT.single(function(e){let t=0;return e.iterChangedRanges(((e,n)=>t=n)),t}(t.changes)):void 0,o=$.fromTransaction(t,s),a=i.side,l=0==a?e.undone:e.done;return l=o?T(l,l.length,n.minDepth,o):Z(l,t.startState.selection),new Y(0==a?i.rest:l,0==a?l:i.rest)}let s=t.annotation(g);if("full"!=s&&"before"!=s||(e=e.isolate()),!1===t.annotation(r.YW.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=$.fromTransaction(t),a=t.annotation(r.YW.time),l=t.annotation(r.YW.userEvent);return o?e=e.addChanges(o,a,l,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,l,n.newGroupDelay)),"full"!=s&&"after"!=s||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new Y(e.done.map($.fromJSON),e.undone.map($.fromJSON))});function y(e={}){return[b,v.of(e),i.tk.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?x:"historyRedo"==e.inputType?k:null;return!!n&&(e.preventDefault(),n(t))}})]}function w(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(b,!1);if(!i)return!1;let s=i.pop(e,n,t);return!!s&&(r(s),!0)}}const x=w(0,!1),k=w(1,!1),S=w(0,!0),_=w(1,!0);function A(e){return function(t){let n=t.field(b,!1);if(!n)return 0;let r=0==e?n.done:n.undone;return r.length-(r.length&&!r[0].changes?1:0)}}const C=A(0),Q=A(1);class ${constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new $(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new $(e.changes&&r.as.fromJSON(e.changes),[],e.mapped&&r.n0.fromJSON(e.mapped),e.startSelection&&r.jT.fromJSON(e.startSelection),e.selectionsAfter.map(r.jT.fromJSON))}static fromTransaction(e,t){let n=P;for(let t of e.startState.facet(O)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new $(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,P)}static selection(e){return new $(void 0,P,void 0,void 0,e)}}function T(e,t,n,r){let i=t+1>n+20?t-n-1:0,s=e.slice(i,t);return s.push(r),s}function M(e,t){return e.length?t.length?e.concat(t):e:t}const P=[],E=200;function Z(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-E));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),T(e,e.length-1,1e9,n.setSelAfter(r)))}return[$.selection([t])]}function B(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function I(e,t){if(!e.length)return e;let n=e.length,r=P;for(;n;){let i=R(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,n);return t[n-1]=i,t}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[$.selection(r)]:P}function R(e,t,n){let i=M(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):P,n);if(!e.changes)return $.selection(i);let s=e.changes.map(t),o=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(o):o;return new $(s,r.Py.mapEffects(e.effects,t),a,e.startSelection.map(o),i)}const z=/^(input\.type|delete)($|\.)/;class Y{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new Y(this.done,this.undone):this}addChanges(e,t,n,r,i){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&!o.changes.empty&&e.changes&&(!n||z.test(n))&&(!o.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,i,s)=>{for(let e=0;e<n.length;){let t=n[e++],o=n[e++];s>=t&&i<=o&&(r=!0)}})),r}(o.changes,e.changes))||"input.type.compose"==n)?T(s,s.length-1,r.minDepth,new $(e.changes.compose(o.changes),M(e.effects,o.effects),o.mapped,o.startSelection,P)):T(s,s.length,r.minDepth,e),new Y(s,P,t,n)}addSelection(e,t,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:P;return i.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(s=i[i.length-1],o=e,s.ranges.length==o.ranges.length&&0===s.ranges.filter(((e,t)=>e.empty!=o.ranges[t].empty)).length)?this:new Y(Z(this.done,e),this.undone,t,n);var s,o}addMapping(e){return new Y(I(this.done,e),I(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:f.of({side:e,rest:B(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?P:r.slice(0,r.length-1);return i.mapped&&(n=I(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:f.of({side:e,rest:n}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}Y.empty=new Y(P,P);const L=[{key:"Mod-z",run:x,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:k,preventDefault:!0},{linux:"Ctrl-Shift-z",run:k,preventDefault:!0},{key:"Mod-u",run:S,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:_,preventDefault:!0}];function D(e,t){return r.jT.create(e.ranges.map(t),e.mainIndex)}function X(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function q({state:e,dispatch:t},n){let r=D(e.selection,n);return!r.eq(e.selection)&&(t(X(e,r)),!0)}function j(e,t){return r.jT.cursor(t?e.to:e.from)}function N(e,t){return q(e,(n=>n.empty?e.moveByChar(n,t):j(n,t)))}function W(e){return e.textDirectionAt(e.state.selection.main.head)==i.Nm.LTR}const U=e=>N(e,!W(e)),V=e=>N(e,W(e)),G=e=>N(e,!1);function H(e,t){return q(e,(n=>n.empty?e.moveByGroup(n,t):j(n,t)))}function F(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function J(e,t,n){let i,a,l=(0,s.qz)(e).resolveInner(t.head),c=n?o.md.closedBy:o.md.openedBy;for(let r=t.head;;){let t=n?l.childAfter(r):l.childBefore(r);if(!t)break;F(e,t,c)?l=t:r=n?t.to:t.from}return a=l.type.prop(c)&&(i=n?(0,s.Um)(e,l.from,1):(0,s.Um)(e,l.to,-1))&&i.matched?n?i.end.to:i.end.from:n?l.to:l.from,r.jT.cursor(a,n?-1:1)}function K(e,t){return q(e,(n=>{if(!n.empty)return j(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const ee=e=>K(e,!1),te=e=>K(e,!0);function ne(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,s=0;if(n){for(let t of e.state.facet(i.tk.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(s=Math.max(null==n?void 0:n.bottom,s))}t=e.scrollDOM.clientHeight-r-s}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:s,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function re(e,t){let n,r=ne(e),{state:s}=e,o=D(s.selection,(n=>n.empty?e.moveVertically(n,t,r.height):j(n,t)));if(o.eq(s.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(s.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+r.marginTop,c=a.bottom-r.marginBottom;t&&t.top>l&&t.bottom<c&&(n=i.tk.scrollIntoView(o.main.head,{y:"start",yMargin:t.top-l}))}return e.dispatch(X(s,o),{effects:n}),!0}const ie=e=>re(e,!1),se=e=>re(e,!0);function oe(e,t,n){let i=e.lineBlockAt(t.head),s=e.moveToLineBoundary(t,n);if(s.head==t.head&&s.head!=(n?i.to:i.from)&&(s=e.moveToLineBoundary(t,n,!1)),!n&&s.head==i.from&&i.length){let n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&t.head!=i.from+n&&(s=r.jT.cursor(i.from+n))}return s}const ae=e=>q(e,(t=>oe(e,t,!0))),le=e=>q(e,(t=>oe(e,t,!1)));function ce(e,t){let n=D(e.state.selection,(e=>{let n=t(e);return r.jT.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(X(e.state,n)),!0)}function he(e,t){return ce(e,(n=>e.moveByChar(n,t)))}const ue=e=>he(e,!W(e)),de=e=>he(e,W(e));function pe(e,t){return ce(e,(n=>e.moveByGroup(n,t)))}function me(e,t){return ce(e,(n=>e.moveVertically(n,t)))}const fe=e=>me(e,!1),ge=e=>me(e,!0);function Oe(e,t){return ce(e,(n=>e.moveVertically(n,t,ne(e).height)))}const ve=e=>Oe(e,!1),be=e=>Oe(e,!0),ye=({state:e,dispatch:t})=>(t(X(e,{anchor:0})),!0),we=({state:e,dispatch:t})=>(t(X(e,{anchor:e.doc.length})),!0),xe=({state:e,dispatch:t})=>(t(X(e,{anchor:e.selection.main.anchor,head:0})),!0),ke=({state:e,dispatch:t})=>(t(X(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function Se(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:s}=e,o=s.changeByRange((i=>{let{from:s,to:o}=i;if(s==o){let r=t(i);r<s?(n="delete.backward",r=_e(e,r,!1)):r>s&&(n="delete.forward",r=_e(e,r,!0)),s=Math.min(s,r),o=Math.max(o,r)}else s=_e(e,s,!1),o=_e(e,o,!0);return s==o?{range:i}:{changes:{from:s,to:o},range:r.jT.cursor(s,s<i.head?-1:1)}}));return!o.changes.empty&&(e.dispatch(s.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?i.tk.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function _e(e,t,n){if(e instanceof i.tk)for(let r of e.state.facet(i.tk.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const Ae=(e,t)=>Se(e,(n=>{let i,o,a=n.from,{state:l}=e,c=l.doc.lineAt(a);if(!t&&a>c.from&&a<c.from+200&&!/[^ \t]/.test(i=c.text.slice(0,a-c.from))){if("\t"==i[i.length-1])return a-1;let e=(0,r.IS)(i,l.tabSize)%(0,s.y1)(l)||(0,s.y1)(l);for(let t=0;t<e&&" "==i[i.length-1-t];t++)a--;o=a}else o=(0,r.cp)(c.text,a-c.from,t,t)+c.from,o==a&&c.number!=(t?l.doc.lines:1)&&(o+=t?1:-1);return o})),Ce=e=>Ae(e,!1),Qe=e=>Ae(e,!0),$e=(e,t)=>Se(e,(n=>{let i=n.head,{state:s}=e,o=s.doc.lineAt(i),a=s.charCategorizer(i);for(let e=null;;){if(i==(t?o.to:o.from)){i==n.head&&o.number!=(t?s.doc.lines:1)&&(i+=t?1:-1);break}let l=(0,r.cp)(o.text,i-o.from,t)+o.from,c=o.text.slice(Math.min(i,l)-o.from,Math.max(i,l)-o.from),h=a(c);if(null!=e&&h!=e)break;" "==c&&i==n.head||(e=h),i=l}return i})),Te=e=>$e(e,!1);function Me(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),s=e.doc.lineAt(r.to);if(r.empty||r.to!=s.from||(s=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=s.to,e.ranges.push(r)}else t.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return t}function Pe(e,t,n){if(e.readOnly)return!1;let i=[],s=[];for(let t of Me(e)){if(n?t.to==e.doc.length:0==t.from)continue;let o=e.doc.lineAt(n?t.to+1:t.from-1),a=o.length+1;if(n){i.push({from:t.to,to:o.to},{from:t.from,insert:o.text+e.lineBreak});for(let n of t.ranges)s.push(r.jT.range(Math.min(e.doc.length,n.anchor+a),Math.min(e.doc.length,n.head+a)))}else{i.push({from:o.from,to:t.from},{from:t.to,insert:e.lineBreak+o.text});for(let e of t.ranges)s.push(r.jT.range(e.anchor-a,e.head-a))}}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:r.jT.create(s,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Ee(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of Me(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ze=Be(!1);function Be(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=t.changeByRange((n=>{let{from:i,to:a}=n,l=t.doc.lineAt(i),c=!e&&i==a&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=(0,s.qz)(e).resolveInner(t),i=r.childBefore(t),a=r.childAfter(t);return i&&a&&i.to<=t&&a.from>=t&&(n=i.type.prop(o.md.closedBy))&&n.indexOf(a.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(a.from).from&&!/\S/.test(e.sliceDoc(i.to,a.from))?{from:i.to,to:a.from}:null}(t,i);e&&(i=a=(a<=l.to?l:t.doc.lineAt(a)).to);let h=new s.Gn(t,{simulateBreak:i,simulateDoubleBreak:!!c}),u=(0,s.K0)(h,i);for(null==u&&(u=(0,r.IS)(/^\s*/.exec(t.doc.lineAt(i).text)[0],t.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;c?({from:i,to:a}=c):i>l.from&&i<l.from+100&&!/\S/.test(l.text.slice(0,i))&&(i=l.from);let d=["",(0,s.SS)(t,u)];return c&&d.push((0,s.SS)(t,h.lineIndent(l.from,-1))),{changes:{from:i,to:a,insert:r.xv.of(d)},range:r.jT.cursor(i+1+d[1].length)}}));return n(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ie(e,t){let n=-1;return e.changeByRange((i=>{let s=[];for(let r=i.from;r<=i.to;){let o=e.doc.lineAt(r);o.number>n&&(i.empty||i.to>o.from)&&(t(o,s,i),n=o.number),r=o.to+1}let o=e.changes(s);return{changes:s,range:r.jT.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}}))}const Re=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new s.Gn(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=Ie(e,((t,i,o)=>{let a=(0,s.K0)(r,t.from);if(null==a)return;/\S/.test(t.text)||(a=0);let l=/^\s*/.exec(t.text)[0],c=(0,s.SS)(e,a);(l!=c||o.from<t.from+l.length)&&(n[t.from]=a,i.push({from:t.from,to:t.from+l.length,insert:c}))}));return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},ze=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Ie(e,((t,n)=>{n.push({from:t.from,insert:e.facet(s.c)})})),{userEvent:"input.indent"})),!0),Ye=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Ie(e,((t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=(0,r.IS)(i,e.tabSize),a=0,l=(0,s.SS)(e,Math.max(0,o-(0,s.y1)(e)));for(;a<i.length&&a<l.length&&i.charCodeAt(a)==l.charCodeAt(a);)a++;n.push({from:t.from+a,to:t.from+i.length,insert:l.slice(a)})})),{userEvent:"delete.dedent"})),!0),Le=[{key:"Ctrl-b",run:U,shift:ue,preventDefault:!0},{key:"Ctrl-f",run:V,shift:de},{key:"Ctrl-p",run:ee,shift:fe},{key:"Ctrl-n",run:te,shift:ge},{key:"Ctrl-a",run:e=>q(e,(t=>r.jT.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>ce(e,(t=>r.jT.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>q(e,(t=>r.jT.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>ce(e,(t=>r.jT.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:Qe},{key:"Ctrl-h",run:Ce},{key:"Ctrl-k",run:e=>Se(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Te},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:r.xv.of(["",""])},range:r.jT.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,i=e.doc.lineAt(n),s=n==i.from?n-1:(0,r.cp)(i.text,n-i.from,!1)+i.from,o=n==i.to?n+1:(0,r.cp)(i.text,n-i.from,!0)+i.from;return{changes:{from:s,to:o,insert:e.doc.slice(n,o).append(e.doc.slice(s,n))},range:r.jT.cursor(o)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:se}],De=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>q(e,(t=>J(e.state,t,!W(e)))),shift:e=>ce(e,(t=>J(e.state,t,!W(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>q(e,(t=>J(e.state,t,W(e)))),shift:e=>ce(e,(t=>J(e.state,t,W(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Pe(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Ee(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Pe(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Ee(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,i=null;return n.ranges.length>1?i=r.jT.create([n.main]):n.main.empty||(i=r.jT.create([r.jT.cursor(n.main.head)])),!!i&&(t(X(e,i)),!0)}},{key:"Mod-Enter",run:Be(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=Me(e).map((({from:t,to:n})=>r.jT.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:r.jT.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=D(e.selection,(t=>{var n;for(let i=(0,s.qz)(e).resolveStack(t.from,1);i;i=i.next){let{node:e}=i;if((e.from<t.from&&e.to>=t.to||e.to>t.to&&e.from<=t.from)&&(null===(n=e.parent)||void 0===n?void 0:n.parent))return r.jT.range(e.to,e.from)}return t}));return t(X(e,n)),!0},preventDefault:!0},{key:"Mod-[",run:Ye},{key:"Mod-]",run:ze},{key:"Mod-Alt-\\",run:Re},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(Me(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=D(t.selection,(t=>e.moveVertically(t,!0))).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let i=!1,o=D(e.selection,(t=>{let o=(0,s.Um)(e,t.head,-1)||(0,s.Um)(e,t.head,1)||t.head>0&&(0,s.Um)(e,t.head-1,1)||t.head<e.doc.length&&(0,s.Um)(e,t.head+1,-1);if(!o||!o.end)return t;i=!0;let a=o.start.from==t.head?o.end.to:o.end.from;return n?r.jT.range(t.anchor,a):r.jT.cursor(a)}));return!!i&&(t(X(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=u(e.state,n.from);return r.line?l(e):!!r.block&&h(e)}},{key:"Alt-A",run:c}].concat([{key:"ArrowLeft",run:U,shift:ue,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>H(e,!W(e)),shift:e=>pe(e,!W(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>q(e,(t=>oe(e,t,!W(e)))),shift:e=>ce(e,(t=>oe(e,t,!W(e)))),preventDefault:!0},{key:"ArrowRight",run:V,shift:de,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>H(e,W(e)),shift:e=>pe(e,W(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>q(e,(t=>oe(e,t,W(e)))),shift:e=>ce(e,(t=>oe(e,t,W(e)))),preventDefault:!0},{key:"ArrowUp",run:ee,shift:fe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ye,shift:xe},{mac:"Ctrl-ArrowUp",run:ie,shift:ve},{key:"ArrowDown",run:te,shift:ge,preventDefault:!0},{mac:"Cmd-ArrowDown",run:we,shift:ke},{mac:"Ctrl-ArrowDown",run:se,shift:be},{key:"PageUp",run:ie,shift:ve},{key:"PageDown",run:se,shift:be},{key:"Home",run:le,shift:e=>ce(e,(t=>oe(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:ye,shift:xe},{key:"End",run:ae,shift:e=>ce(e,(t=>oe(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:we,shift:ke},{key:"Enter",run:Ze},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Ce,shift:Ce},{key:"Delete",run:Qe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Te},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>$e(e,!0)},{mac:"Mod-Backspace",run:e=>Se(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>Se(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat(Le.map((e=>({mac:e.key,run:e.run,shift:e.shift}))))),Xe={key:"Tab",run:ze,shift:Ye}},5951:(e,t,n)=>{n.d(t,{eJ:()=>he});var r=n(1113);class i{constructor(e,t,n,r,i,s,o,a,l,c=0,h){this.p=e,this.stack=t,this.state=n,this.reducePos=r,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let r=e.parser.context;return new i(e,[],t,n,n,0,[],0,r?new s(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,r=65535&e,{parser:i}=this.p,s=i.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(n-1)-(262144&e?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(t=this.p.parser.nodeSet.types[r])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let c=o?this.stack[o-1]:0,h=this.bufferBase+this.buffer.length-c;if(r<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,e,h+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=i.getGoto(e,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,n,r=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,r=this.buffer.length;if(0==r&&e.parent&&(r=e.bufferBase-e.parent.bufferBase,e=e.parent),r>0&&0==e.buffer[r-4]&&e.buffer[r-1]>-1){if(t==n)return;if(e.buffer[r-2]>=t)return void(e.buffer[r-2]=n)}}if(i&&this.pos!=n){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>n;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,r>4&&(r-=4);this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=n,this.buffer[i+3]=r}else this.buffer.push(e,t,n,r)}shift(e,t,n,r){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:s}=this.p;(r>this.pos||t<=s.maxNode)&&(this.pos=r,s.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=s.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}apply(e,t,n,r){65536&e?this.reduce(e):this.shift(e,t,n,r)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new i(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new o(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let r,i=0;i<t.length;i+=2)(r=t[i+1])!=this.state&&this.p.parser.hasAction(r,e)&&n.push(t[i],r);if(this.stack.length<120)for(let e=0;n.length<8&&e<t.length;e+=2){let r=t[e+1];n.some(((e,t)=>1&t&&e==r))||n.push(t[e],r)}t=n}let n=[];for(let e=0;e<t.length&&n.length<4;e+=2){let r=t[e+1];if(r==this.state)continue;let i=this.split();i.pushState(r,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.reducePos=this.pos,i.score-=200,n.push(i)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let n=t>>19,r=65535&t,i=this.stack.length-3*n;if(i<0||e.getGoto(this.stack[i],r,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(r,i)=>{if(!t.includes(r))return t.push(r),e.allActions(r,(t=>{if(393216&t);else if(65536&t){let n=(t>>19)-i;if(n>1){let r=65535&t,i=this.stack.length-3*n;if(i>=0&&e.getGoto(this.stack[i],r,!1)>=0)return n<<19|65536|r}}else{let e=n(t,i+1);if(null!=e)return e}}))};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new s(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class s{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class o{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class a{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new a(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}function l(e,t=Uint16Array){if("string"!=typeof e)return e;let n=null;for(let r=0,i=0;r<e.length;){let s=0;for(;;){let t=e.charCodeAt(r++),n=!1;if(126==t){s=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,n=!0),s+=i,n)break;s*=46}n?n[i++]=s:n=new t(s)}return n}class c{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const h=new c;class u{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=h,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,r=this.rangeIndex,i=this.pos+e;for(;i<n.from;){if(!r)return null;let e=this.ranges[--r];i-=n.from-e.to,n=e}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;let e=this.ranges[++r];i+=e.from-n.to,n=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{let r=this.resolveOffset(e,1);if(null==r)return-1;if(t=r,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,r=this.range;for(;r.to<=t;)r=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>r.to&&(this.chunk2=this.chunk2.slice(0,r.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=h,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(n+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return n}}class d{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;f(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class p{constructor(e,t,n){this.precTable=t,this.elseToken=n,this.data="string"==typeof e?l(e):e}token(e,t){let n=e.pos,r=0;for(;;){let n=e.next<0,i=e.resolveOffset(1,1);if(f(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(n||r++,null==i)break;e.reset(i,e.token)}r&&(e.reset(n,e.token),e.acceptToken(this.elseToken,r))}}p.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class m{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function f(e,t,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;0!=(a&e[o]);){let n=e[o+1];for(let r=o+3;r<n;r+=2)if((e[r+1]&a)>0){let n=e[r];if(l.allows(n)&&(-1==t.token.value||t.token.value==n||O(n,t.token.value,i,s))){t.acceptToken(n);break}}let r=t.next,c=0,h=e[o+2];if(!(t.next<0&&h>c&&65535==e[n+3*h-3])){for(;c<h;){let i=c+h>>1,s=n+i+(i<<1),a=e[s],l=e[s+1]||65536;if(r<a)h=i;else{if(!(r>=l)){o=e[s+2],t.advance();continue e}c=i+1}}break}o=e[n+3*h-1]}}function g(e,t,n){for(let r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function O(e,t,n,r){let i=g(n,r,t);return i<0||g(n,r,e)<i}const v="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let b=null;function y(e,t,n){let i=e.cursor(r.vj.IncludeAnonymous);for(i.moveTo(t);;)if(!(n<0?i.childBefore(t):i.childAfter(t)))for(;;){if((n<0?i.to<t:i.from>t)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:e.length}}class w{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?y(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?y(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],o=this.start[t]+n.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof r.mp){if(o==e){if(o<this.safeFrom)return null;let e=o+s.length;if(e<=this.safeTo){let t=s.prop(r.md.lookAhead);if(!t||e+t<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class x{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new c))}getActions(e){let t=0,n=null,{parser:r}=e.p,{tokenizers:i}=r,s=r.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let r=0;r<i.length;r++){if(0==(1<<r&s))continue;let l=i[r],c=this.tokens[r];if((!n||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=s||c.context!=o)&&(this.updateCachedToken(c,l,e),c.mask=s,c.context=o),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let r=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(n=c,t>r))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||(n=new c,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new c,{pos:n,p:r}=e;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,n){let r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){let{parser:t}=n.p;for(let r=0;r<t.specialized.length;r++)if(t.specialized[r]==e.value){let i=t.specializers[r](this.stream.read(e.start,e.end),n);if(i>=0&&n.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,n,r){for(let t=0;t<r;t+=3)if(this.actions[t]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}addActions(e,t,n,r){let{state:i}=e,{parser:s}=e.p,{data:o}=s;for(let e=0;e<2;e++)for(let a=s.stateSlot(i,e?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==r&&2==o[a+1]&&(r=this.putAction(Q(o,a+2),t,n,r));break}a=Q(o,a+2)}o[a]==t&&(r=this.putAction(Q(o,a+1),t,n,r))}return r}}class k{constructor(e,t,n,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new u(t,r),this.tokens=new x(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[i.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>4*e.bufferLength?new w(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==n.length){let[e]=n;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<n.length;s++){let o=n[s];for(;;){if(this.tokens.mainToken=null,o.pos>r)i.push(o);else{if(this.advanceStack(o,i,n))continue;{e||(e=[],t=[]),e.push(o);let n=this.tokens.getMainToken(o);t.push(n.value,n.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let n of e){let e=n.p.stoppedAt;(n.pos==n.p.stream.end||null!=e&&n.pos>e)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}(e);if(t)return v&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw v&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){let n=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(n)return v&&console.log("Force-finish "+this.stackID(n)),this.stackToTree(n.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>r))&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let n=e+1;n<i.length;n++){let r=i[n];if(t.sameState(r)||t.buffer.length>500&&r.buffer.length>500){if(!((t.score-r.score||t.buffer.length-r.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(n--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,o=v?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,n=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?s.getGoto(e.state,a.type.id):-1;if(i>-1&&a.length&&(!t||(a.prop(r.md.contextHash)||0)==n))return e.useNode(a,i),v&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(a.type.id)})`),!0;if(!(a instanceof r.mp)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof r.mp&&0==a.positions[0]))break;a=l}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),v&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(65535&a)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let r=0;r<l.length;){let a=l[r++],c=l[r++],h=l[r++],u=r==l.length||!n,d=u?e:e.split(),p=this.tokens.mainToken;if(d.apply(a,c,p?p.start:d.pos,h),v&&console.log(o+this.stackID(d)+` (via ${0==(65536&a)?"shift":`reduce of ${s.getName(65535&a)}`} for ${s.getName(c)} @ ${i}${d==e?"":", split"})`),u)return!0;d.pos>i?t.push(d):n.push(d)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return S(e,t),!0}}runRecovery(e,t,n){let r=null,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=t[s<<1],l=t[1+(s<<1)],c=v?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),v&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,n))continue}let h=o.split(),u=c;for(let e=0;h.forceReduce()&&e<10&&(v&&console.log(u+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,n));e++)v&&(u=this.stackID(h)+" -> ");for(let e of o.recoverByInsert(a))v&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,n);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),v&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),S(o,n)):(!r||r.score<o.score)&&(r=o)}return r}stackToTree(e){return e.close(),r.mp.build({buffer:a.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(b||(b=new WeakMap)).get(e);return t||b.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function S(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}class _{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||0==this.disabled[e]}}const A=e=>e;class C extends r._b{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let n=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let e=0;e<t.length;e++)i.push([]);function s(e,t,n){i[e].push([t,t.deserialize(String(n))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=r.md[e]);for(let n=1;n<t.length;){let r=t[n++];if(r>=0)s(r,e,t[n++]);else{let i=t[n+-r];for(let o=-r;o>0;o--)s(t[n++],e,i);n++}}}this.nodeSet=new r.Lj(t.map(((t,s)=>r.Jq.define({name:s>=this.minRepeatTerm?void 0:t,id:s,props:i[s],top:n.indexOf(s)>-1,error:0==s,skipped:e.skippedNodes&&e.skippedNodes.indexOf(s)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=r.L3;let o=l(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map($),this.states=l(e.states,Uint32Array),this.data=l(e.stateData),this.goto=l(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new d(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let r=new k(this,e,t,n);for(let i of this.wrappers)r=i(r,e,t,n);return r}getGoto(e,t,n=!1){let r=this.goto;if(t>=r[0])return-1;for(let i=r[t+1];;){let t=r[i++],s=1&t,o=r[i++];if(s&&n)return o;for(let n=i+(t>>1);i<n;i++)if(r[i]==e)return o;if(s)return-1}}hasAction(e,t){let n=this.data;for(let r=0;r<2;r++)for(let i,s=this.stateSlot(e,r?2:1);;s+=3){if(65535==(i=n[s])){if(1!=n[s+1]){if(2==n[s+1])return Q(n,s+2);break}i=n[s=Q(n,s+2)]}if(i==t||0==i)return Q(n,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,(e=>e==t||null))}allActions(e,t){let n=this.stateSlot(e,4),r=n?t(n):void 0;for(let n=this.stateSlot(e,1);null==r;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Q(this.data,n+2)}r=t(Q(this.data,n+1))}return r}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=Q(this.data,n+2)}if(0==(1&this.data[n+2])){let e=this.data[n+1];t.some(((t,n)=>1&n&&t==e))||t.push(this.data[n],e)}}return t}configure(e){let t=Object.assign(Object.create(C.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let n=e.tokenizers.find((e=>e.from==t));return n?n.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((n,r)=>{let i=e.specializers.find((e=>e.from==n.external));if(!i)return n;let s=Object.assign(Object.assign({},n),{external:i.to});return t.specializers[r]=$(s),s}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map((()=>!1));if(e)for(let r of e.split(" ")){let e=t.indexOf(r);e>=0&&(n[e]=!0)}let r=null;for(let e=0;e<t.length;e++)if(!n[e])for(let n,i=this.dialects[t[e]];65535!=(n=this.data[i++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[n]=1;return new _(e,n,r)}static deserialize(e){return new C(e)}}function Q(e,t){return e[t]|e[t+1]<<16}function $(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}var T=n(5524);const M=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],P=new class{constructor(e){this.start=e.start,this.shift=e.shift||A,this.reduce=e.reduce||A,this.reuse=e.reuse||A,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(e,t)=>3==t||4==t||307==t?e:308==t,strict:!1}),E=new m(((e,t)=>{let{next:n}=e;(125==n||-1==n||t.context)&&e.acceptToken(305)}),{contextual:!0,fallback:!0}),Z=new m(((e,t)=>{let n,{next:r}=e;M.indexOf(r)>-1||(47!=r||47!=(n=e.peek(1))&&42!=n)&&(125==r||59==r||-1==r||t.context||e.acceptToken(304))}),{contextual:!0}),B=new m(((e,t)=>{let{next:n}=e;if((43==n||45==n)&&(e.advance(),n==e.next)){e.advance();let n=!t.context&&t.canShift(1);e.acceptToken(n?1:2)}}),{contextual:!0}),I=(0,T.Gv)({"get set async static":T.pJ.modifier,"for while do if else switch try catch finally return throw break continue default case":T.pJ.controlKeyword,"in of await yield void typeof delete instanceof":T.pJ.operatorKeyword,"let var const using function class extends":T.pJ.definitionKeyword,"import export from":T.pJ.moduleKeyword,"with debugger as new":T.pJ.keyword,TemplateString:T.pJ.special(T.pJ.string),super:T.pJ.atom,BooleanLiteral:T.pJ.bool,this:T.pJ.self,null:T.pJ.null,Star:T.pJ.modifier,VariableName:T.pJ.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":T.pJ.function(T.pJ.variableName),VariableDefinition:T.pJ.definition(T.pJ.variableName),Label:T.pJ.labelName,PropertyName:T.pJ.propertyName,PrivatePropertyName:T.pJ.special(T.pJ.propertyName),"CallExpression/MemberExpression/PropertyName":T.pJ.function(T.pJ.propertyName),"FunctionDeclaration/VariableDefinition":T.pJ.function(T.pJ.definition(T.pJ.variableName)),"ClassDeclaration/VariableDefinition":T.pJ.definition(T.pJ.className),PropertyDefinition:T.pJ.definition(T.pJ.propertyName),PrivatePropertyDefinition:T.pJ.definition(T.pJ.special(T.pJ.propertyName)),UpdateOp:T.pJ.updateOperator,"LineComment Hashbang":T.pJ.lineComment,BlockComment:T.pJ.blockComment,Number:T.pJ.number,String:T.pJ.string,Escape:T.pJ.escape,ArithOp:T.pJ.arithmeticOperator,LogicOp:T.pJ.logicOperator,BitOp:T.pJ.bitwiseOperator,CompareOp:T.pJ.compareOperator,RegExp:T.pJ.regexp,Equals:T.pJ.definitionOperator,Arrow:T.pJ.function(T.pJ.punctuation),": Spread":T.pJ.punctuation,"( )":T.pJ.paren,"[ ]":T.pJ.squareBracket,"{ }":T.pJ.brace,"InterpolationStart InterpolationEnd":T.pJ.special(T.pJ.brace),".":T.pJ.derefOperator,", ;":T.pJ.separator,"@":T.pJ.meta,TypeName:T.pJ.typeName,TypeDefinition:T.pJ.definition(T.pJ.typeName),"type enum interface implements namespace module declare":T.pJ.definitionKeyword,"abstract global Privacy readonly override":T.pJ.modifier,"is keyof unique infer":T.pJ.operatorKeyword,JSXAttributeValue:T.pJ.attributeValue,JSXText:T.pJ.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":T.pJ.angleBracket,"JSXIdentifier JSXNameSpacedName":T.pJ.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":T.pJ.attributeName,"JSXBuiltin/JSXIdentifier":T.pJ.standard(T.pJ.tagName)}),R={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},z={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},Y={__proto__:null,"<":139},L=C.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:P,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[I],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Z,B,2,3,4,5,6,7,8,9,10,11,12,13,E,new p("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new p("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:e=>R[e]||-1},{term:330,get:e=>z[e]||-1},{term:68,get:e=>Y[e]||-1}],tokenPrec:12868});var D=n(9119),X=n(8120),q=n(6485),j=n(4790);const N=[(0,j.Gn)("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),(0,j.Gn)("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),(0,j.Gn)("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),(0,j.Gn)("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),(0,j.Gn)("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),(0,j.Gn)("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),(0,j.Gn)("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),(0,j.Gn)("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),(0,j.Gn)("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),(0,j.Gn)('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),(0,j.Gn)('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],W=N.concat([(0,j.Gn)("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),(0,j.Gn)("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),(0,j.Gn)("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),U=new r.hr,V=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function G(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const H=["FunctionDeclaration"],F={FunctionDeclaration:G("function"),ClassDeclaration:G("class"),ClassExpression:()=>!0,EnumDeclaration:G("constant"),TypeAliasDeclaration:G("type"),NamespaceDeclaration:G("namespace"),VariableDefinition(e,t){e.matchContext(H)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function J(e,t){let n=U.get(t);if(n)return n;let i=[],s=!0;function o(t,n){let r=e.sliceString(t.from,t.to);i.push({label:r,type:n})}return t.cursor(r.vj.IncludeAnonymous).iterate((t=>{if(s)s=!1;else if(t.name){let e=F[t.name];if(e&&e(t,o)||V.has(t.name))return!1}else if(t.to-t.from>8192){for(let n of J(e,t.node))i.push(n);return!1}})),U.set(t,i),i}const K=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,ee=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function te(e){let t=(0,D.qz)(e.state).resolveInner(e.pos,-1);if(ee.indexOf(t.name)>-1)return null;let n="VariableName"==t.name||t.to-t.from<20&&K.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let n=t;n;n=n.parent)V.has(n.name)&&(r=r.concat(J(e.state.doc,n)));return{options:r,from:n?t.from:e.pos,validFor:K}}const ne=D.qp.define({name:"javascript",parser:L.configure({props:[D.uj.add({IfStatement:(0,D.tC)({except:/^\s*({|else\b)/}),TryStatement:(0,D.tC)({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:D.ze,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:(0,D.vw)({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":(0,D.tC)({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),D.x0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":D.Dv,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),re={test:e=>/^JSX/.test(e.name),facet:(0,D.kU)({commentTokens:{block:{open:"{/*",close:"*/}"}}})},ie=ne.configure({dialect:"ts"},"typescript"),se=ne.configure({dialect:"jsx",props:[D.KC.add((e=>e.isTop?[re]:void 0))]}),oe=ne.configure({dialect:"jsx ts",props:[D.KC.add((e=>e.isTop?[re]:void 0))]},"typescript");let ae=e=>({label:e,type:"keyword"});const le="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(ae),ce=le.concat(["declare","implements","private","protected","public"].map(ae));function he(e={}){let t=e.jsx?e.typescript?oe:se:e.typescript?ie:ne,n=e.typescript?W.concat(ce):N.concat(le);return new D.ri(t,[ne.data.of({autocomplete:(0,j.eC)(ee,(0,j.Mb)(n))}),ne.data.of({autocomplete:te}),e.jsx?pe:[]])}function ue(e,t,n=e.length){for(let r=null==t?void 0:t.firstChild;r;r=r.nextSibling)if("JSXIdentifier"==r.name||"JSXBuiltin"==r.name||"JSXNamespacedName"==r.name||"JSXMemberExpression"==r.name)return e.sliceString(r.from,Math.min(r.to,n));return""}const de="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),pe=q.tk.inputHandler.of(((e,t,n,r,i)=>{if((de?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||">"!=r&&"/"!=r||!ne.isActiveAt(e.state,t,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange((e=>{var t;let n,{head:i}=e,s=(0,D.qz)(o).resolveInner(i-1,-1);if("JSXStartTag"==s.name&&(s=s.parent),o.doc.sliceString(i-1,i)!=r||"JSXAttributeValue"==s.name&&s.to>i);else{if(">"==r&&"JSXFragmentTag"==s.name)return{range:e,changes:{from:i,insert:"</>"}};if("/"==r&&"JSXStartCloseTag"==s.name){let e=s.parent,r=e.parent;if(r&&e.from==i-2&&((n=ue(o.doc,r.firstChild,i))||"JSXFragmentTag"==(null===(t=r.firstChild)||void 0===t?void 0:t.name))){let e=`${n}>`;return{range:X.jT.cursor(i+e.length,-1),changes:{from:i,insert:e}}}}else if(">"==r){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(s);if(t&&!/^\/?>|^<\//.test(o.doc.sliceString(i,i+2))&&(n=ue(o.doc,t,i)))return{range:e,changes:{from:i,insert:`</${n}>`}}}}return{range:e}}));return!a.changes.empty&&(e.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}))},9119:(e,t,n)=>{n.d(t,{Dv:()=>U,Gn:()=>P,K0:()=>M,KC:()=>u,R_:()=>Se,SS:()=>T,Um:()=>Re,c:()=>Q,e7:()=>oe,gY:()=>Le,kU:()=>h,l:()=>g,mi:()=>fe,n$:()=>Ee,nF:()=>we,nY:()=>j,qp:()=>m,qz:()=>f,ri:()=>A,tC:()=>X,uj:()=>E,vw:()=>Y,wf:()=>ie,x0:()=>W,y1:()=>$,ze:()=>D});var r,i=n(1113),s=n(8120),o=n(6485),a=n(5524),l=n(8699);const c=new i.md;function h(e){return s.r$.define({combine:e?t=>t.concat(e):void 0})}const u=new i.md;class d{constructor(e,t,n=[],r=""){this.data=e,this.name=r,s.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(s.yy.prototype,"tree",{get(){return f(this)}}),this.parser=t,this.extension=[_.of(this),s.yy.languageData.of(((e,t,n)=>{let r=p(e,t,n),i=r.type.prop(c);if(!i)return[];let s=e.facet(i),o=r.type.prop(u);if(o){let i=r.resolve(t-r.from,n);for(let t of o)if(t.test(i,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(s)}}return s}))].concat(n)}isActiveAt(e,t,n=-1){return p(e,t,n).type.prop(c)==this.data}findRegions(e){let t=e.facet(_);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(c)==this.data)return void n.push({from:t,to:t+e.length});let s=e.prop(i.md.mounted);if(s){if(s.tree.prop(c)==this.data){if(s.overlay)for(let e of s.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(s.overlay){let e=n.length;if(r(s.tree,s.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let s=e.children[n];s instanceof i.mp&&r(s,e.positions[n]+t)}};return r(f(e),0),n}get allowsNesting(){return!0}}function p(e,t,n){let r=e.facet(_),s=f(e).topNode;if(!r||r.allowsNesting)for(let e=s;e;e=e.enter(t,n,i.vj.ExcludeBuffers))e.type.isTop&&(s=e);return s}d.setState=s.Py.define();class m extends d{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=h(e.languageData);return new m(t,e.parser.configure({props:[c.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new m(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function f(e){let t=e.field(d.state,!1);return t?t.tree:i.mp.empty}function g(e,t,n=50){var r;let i=null===(r=e.field(d.state,!1))||void 0===r?void 0:r.context;if(!i)return null;let s=i.viewport;i.updateViewport({from:0,to:t});let o=i.isDone(t)||i.work(n,t)?i.tree:null;return i.updateViewport(s),o}class O{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let v=null;class b{constructor(e,t,n=[],r,i,s,o,a){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new b(e,t,[],i.mp.empty,0,n,[],null)}startParse(){return this.parser.startParse(new O(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=i.mp.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(i.i9.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(i.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=v;v=this;try{return e()}finally{v=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=y(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,i)=>t.push({fromA:e,toA:n,fromB:r,toB:i}))),n=i.i9.applyChanges(n,t),r=i.mp.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&a.push({from:n,to:r})}}}return new b(this.parser,t,n,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=y(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends i._b{createParse(t,n,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let t=v;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new i.mp(i.Jq.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return v}}function y(e,t,n){return i.i9.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class w{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new w(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=b.create(e.facet(_).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new w(n)}}d.state=s.QQ.define({create:w.init,update(e,t){for(let e of t.effects)if(e.is(d.setState))return e.value;return t.startState.facet(_)!=t.state.facet(_)?w.init(t.state):e.apply(t)}});let x=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(x=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const k="undefined"!=typeof navigator&&(null===(r=navigator.scheduling)||void 0===r?void 0:r.isInputPending)?()=>navigator.scheduling.isInputPending():null,S=o.lg.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=x(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(d.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!k?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<r&&n.doc.length>r+1e3,a=i.context.work((()=>k&&k()||Date.now()>s),r+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:d.setState.of(new w(i.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>(0,o.OO)(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_=s.r$.define({combine:e=>e.length?e[0]:null,enables:e=>[d.state,S,o.tk.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]});class A{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const C=s.r$.define(),Q=s.r$.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function $(e){let t=e.facet(Q);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function T(e,t){let n="",r=e.tabSize,i=e.facet(Q)[0];if("\t"==i){for(;t>=r;)n+="\t",t-=r;i=" "}for(let e=0;e<t;e++)n+=i;return n}function M(e,t){e instanceof s.yy&&(e=new P(e));for(let n of e.state.facet(C)){let r=n(e,t);if(void 0!==r)return r}let n=f(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let e=[];for(let t=i;t!=r.node;t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return Z(r,e,n)}(e,n,t):null}class P{constructor(e,t={}){this.state=e,this.options=t,this.unit=$(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.countColumn(n,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(i+=s-this.countColumn(n,n.search(/\S|$/))),i}countColumn(e,t=e.length){return(0,s.IS)(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const E=new i.md;function Z(e,t,n){for(let r=e;r;r=r.next){let e=B(r.node);if(e)return e(R.create(t,n,r))}return 0}function B(e){let t=e.type.prop(E);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(i.md.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>L(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?I:null}function I(){return 0}class R extends P{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new R(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(z(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return Z(this.context.next,this.base,this.pos)}}function z(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function Y({closing:e,align:t=!0,units:n=1}){return r=>L(r,t,n,e)}function L(e,t,n,r,i){let s=e.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==e.pos+o,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,s=e.state.doc.lineAt(n.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let e=n.to;;){let i=t.childAfter(e);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<o?n:null;e=i.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const D=e=>e.baseIndent;function X({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const q=200;function j(){return s.yy.transactionFilter.of((e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+q)return e;let s=n.sliceString(i.from,r);if(!t.some((e=>e.test(s))))return e;let{state:o}=e,a=-1,l=[];for(let{head:e}of o.selection.ranges){let t=o.doc.lineAt(e);if(t.from==a)continue;a=t.from;let n=M(o,t.from);if(null==n)continue;let r=/^\s*/.exec(t.text)[0],i=T(o,n);r!=i&&l.push({from:t.from,to:t.from+r.length,insert:i})}return l.length?[e,{changes:l,sequential:!0}]:e}))}const N=s.r$.define(),W=new i.md;function U(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function V(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function G(e,t,n){for(let r of e.facet(N)){let i=r(e,t,n);if(i)return i}return function(e,t,n){let r=f(e);if(r.length<n)return null;let i=null;for(let s=r.resolveStack(n,1);s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(i&&o.from<t)break;let a=o.type.prop(W);if(a&&(o.to<r.length-50||r.length==e.doc.length||!V(o))){let r=a(o,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(i=r)}}return i}(e,t,n)}function H(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const F=s.Py.define({map:H}),J=s.Py.define({map:H});function K(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const ee=s.QQ.define({create:()=>o.p.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(F)&&!ne(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(le),i=r?o.p.replace({widget:new de(r(t.state,n.value))}):ue;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(J)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>o.tk.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(ue.range(r,i))}return o.p.set(t,!0)}});function te(e,t,n){var r;let i=null;return null===(r=e.field(ee,!1))||void 0===r||r.between(t,n,((e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})})),i}function ne(e,t,n){let r=!1;return e.between(t,t,((e,i)=>{e==t&&i==n&&(r=!0)})),r}function re(e,t){return e.field(ee,!1)?t:t.concat(s.Py.appendConfig.of(ce()))}const ie=e=>{for(let t of K(e)){let n=G(e.state,t.from,t.to);if(n)return e.dispatch({effects:re(e.state,[F.of(n),se(e,n)])}),!0}return!1};function se(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return o.tk.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const oe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:ie},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(ee,!1))return!1;let t=[];for(let n of K(e)){let r=te(e.state,n.from,n.to);r&&t.push(J.of(r),se(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),s=G(t,i.from,i.to);s&&n.push(F.of(s)),r=(s?e.lineBlockAt(s.to):i).to+1}return n.length&&e.dispatch({effects:re(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(ee,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(J.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],ae={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},le=s.r$.define({combine:e=>(0,s.BO)(e,ae)});function ce(e){let t=[ee,ge];return e&&t.push(le.of(e)),t}function he(e,t){let{state:n}=e,r=n.facet(le),i=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=te(e.state,n.from,n.to);r&&e.dispatch({effects:J.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const ue=o.p.replace({widget:new class extends o.l9{toDOM(e){return he(e,null)}}});class de extends o.l9{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return he(e,this.value)}}const pe={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class me extends o.SJ{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function fe(e={}){let t=Object.assign(Object.assign({},pe),e),n=new me(t,!0),r=new me(t,!1),i=o.lg.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(_)!=e.state.facet(_)||e.startState.field(ee,!1)!=e.state.field(ee,!1)||f(e.startState)!=f(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new s.f_;for(let i of e.viewportLineBlocks){let s=te(e.state,i.from,i.to)?r:G(e.state,i.from,i.to)?n:null;s&&t.add(i.from,i.from,s)}return t.finish()}}),{domEventHandlers:a}=t;return[i,(0,o.v5)({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||s.Xs.empty},initialSpacer:()=>new me(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(e,t,n)=>{if(a.click&&a.click(e,t,n))return!0;let r=te(e.state,t.from,t.to);if(r)return e.dispatch({effects:J.of(r)}),!0;let i=G(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:F.of(i)}),!0)}})}),ce()]}const ge=o.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Oe{constructor(e,t){let n;function r(e){let t=l.V.newName();return(n||(n=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof d?e=>e.prop(c)==s.data:s?e=>e==s:void 0,this.style=(0,a.QR)(e.map((e=>({tag:e.tag,class:e.class||r(Object.assign({},e,{tag:null}))}))),{all:i}).style,this.module=n?new l.V(n):null,this.themeType=t.themeType}static define(e,t){return new Oe(e,t||{})}}const ve=s.r$.define(),be=s.r$.define({combine:e=>e.length?[e[0]]:null});function ye(e){let t=e.facet(ve);return t.length?t:e.facet(be)}function we(e,t){let n,r=[ke];return e instanceof Oe&&(e.module&&r.push(o.tk.styleModule.of(e.module)),n=e.themeType),(null==t?void 0:t.fallback)?r.push(be.of(e)):n?r.push(ve.computeN([o.tk.darkTheme],(t=>t.facet(o.tk.darkTheme)==("dark"==n)?[e]:[]))):r.push(ve.of(e)),r}class xe{constructor(e){this.markCache=Object.create(null),this.tree=f(e.state),this.decorations=this.buildDeco(e,ye(e.state))}update(e){let t=f(e.state),n=ye(e.state),r=n!=ye(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,t){if(!t||!this.tree.length)return o.p.none;let n=new s.f_;for(let{from:r,to:i}of e.visibleRanges)(0,a.bW)(this.tree,t,((e,t,r)=>{n.add(e,t,this.markCache[r]||(this.markCache[r]=o.p.mark({class:r})))}),r,i);return n.finish()}}const ke=s.Wl.high(o.lg.fromClass(xe,{decorations:e=>e.decorations})),Se=Oe.define([{tag:a.pJ.meta,color:"#404740"},{tag:a.pJ.link,textDecoration:"underline"},{tag:a.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a.pJ.emphasis,fontStyle:"italic"},{tag:a.pJ.strong,fontWeight:"bold"},{tag:a.pJ.strikethrough,textDecoration:"line-through"},{tag:a.pJ.keyword,color:"#708"},{tag:[a.pJ.atom,a.pJ.bool,a.pJ.url,a.pJ.contentSeparator,a.pJ.labelName],color:"#219"},{tag:[a.pJ.literal,a.pJ.inserted],color:"#164"},{tag:[a.pJ.string,a.pJ.deleted],color:"#a11"},{tag:[a.pJ.regexp,a.pJ.escape,a.pJ.special(a.pJ.string)],color:"#e40"},{tag:a.pJ.definition(a.pJ.variableName),color:"#00f"},{tag:a.pJ.local(a.pJ.variableName),color:"#30a"},{tag:[a.pJ.typeName,a.pJ.namespace],color:"#085"},{tag:a.pJ.className,color:"#167"},{tag:[a.pJ.special(a.pJ.variableName),a.pJ.macroName],color:"#256"},{tag:a.pJ.definition(a.pJ.propertyName),color:"#00c"},{tag:a.pJ.comment,color:"#940"},{tag:a.pJ.invalid,color:"#f00"}]),_e=o.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ae=1e4,Ce="()[]{}",Qe=s.r$.define({combine:e=>(0,s.BO)(e,{afterCursor:!0,brackets:Ce,maxScanDistance:Ae,renderMatch:Me})}),$e=o.p.mark({class:"cm-matchingBracket"}),Te=o.p.mark({class:"cm-nonmatchingBracket"});function Me(e){let t=[],n=e.matched?$e:Te;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Pe=[s.QQ.define({create:()=>o.p.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(Qe);for(let e of t.state.selection.ranges){if(!e.empty)continue;let i=Re(t.state,e.head,-1,r)||e.head>0&&Re(t.state,e.head-1,1,r)||r.afterCursor&&(Re(t.state,e.head,1,r)||e.head<t.state.doc.length&&Re(t.state,e.head+1,-1,r));i&&(n=n.concat(r.renderMatch(i,t.state)))}return o.p.set(n,!0)},provide:e=>o.tk.decorations.from(e)}),_e];function Ee(e={}){return[Qe.of(e),Pe]}const Ze=new i.md;function Be(e,t,n){let r=e.prop(t<0?i.md.openedBy:i.md.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function Ie(e){let t=e.type.prop(Ze);return t?t(e.node):e}function Re(e,t,n,r={}){let i=r.maxScanDistance||Ae,s=r.brackets||Ce,o=f(e),a=o.resolveInner(t,n);for(let e=a;e;e=e.parent){let r=Be(e.type,n,s);if(r&&e.from<e.to){let i=Ie(e);if(i&&(n>0?t>=i.from&&t<i.to:t>i.from&&t<=i.to))return ze(0,0,n,e,i,r,s)}}return function(e,t,n,r,i,s,o){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},h=e.doc.iterRange(t,n>0?e.doc.length:0),u=0;for(let e=0;!h.next().done&&e<=s;){let s=h.value;n<0&&(e+=s.length);let a=t+e*n;for(let e=n>0?0:s.length-1,t=n>0?s.length:-1;e!=t;e+=n){let t=o.indexOf(s[e]);if(!(t<0||r.resolveInner(a+e,1).type!=i))if(t%2==0==n>0)u++;else{if(1==u)return{start:c,end:{from:a+e,to:a+e+1},matched:t>>1==l>>1};u--}}n>0&&(e+=s.length)}return h.done?{start:c,matched:!1}:null}(e,t,n,o,a.type,i,s)}function ze(e,t,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,h=null==a?void 0:a.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do{if(n<0?h.to<=r.from:h.from>=r.to){if(0==c&&s.indexOf(h.type.name)>-1&&h.from<h.to){let e=Ie(h);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Be(h.type,n,o))c++;else if(Be(h.type,-n,o)){if(0==c){let e=Ie(h);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function Ye(e,t,n,r=0,i=0){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);let s=i;for(let i=r;i<t;i++)9==e.charCodeAt(i)?s+=n-s%n:s++;return s}class Le{constructor(e,t,n,r){this.string=e,this.tabSize=t,this.indentUnit=n,this.overrideIndent=r,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return 0==this.pos}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e instanceof RegExp?e.test(n):e(n)),t)return++this.pos,n}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ye(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return null!==(e=this.overrideIndent)&&void 0!==e?e:Ye(this.string,null,this.tabSize)}match(e,t,n){if("string"==typeof e){let r=e=>n?e.toLowerCase():e;return r(this.string.substr(this.pos,e.length))==r(e)?(!1!==t&&(this.pos+=e.length),!0):null}{let n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}}current(){return this.string.slice(this.start,this.pos)}}const De=Object.create(null),Xe=[i.Jq.none],qe=[],je=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])je[e]=We(De,t);function Ne(e,t){qe.indexOf(e)>-1||(qe.push(e),console.warn(t))}function We(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||a.pJ[n];r?"function"==typeof r?t.length?t=t.map(r):Ne(n,`Modifier ${n} used at start of tag`):t.length?Ne(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:Ne(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),s=i.Jq.define({id:Xe.length,name:r,props:[(0,a.Gv)({[r]:n})]});return Xe.push(s),s.id}},9892:(e,t,n)=>{n.d(t,{Jb:()=>Q,Lp:()=>te,Zg:()=>h,ql:()=>I,sW:()=>w});var r=n(6485),i=n(8120),s=n(8580);const o="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class a{constructor(e,t,n=0,r=e.length,i,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?e=>i(o(e)):o,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,i.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,i.bg)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,i.nZ)(e);let r=this.normalize(t);for(let e=0,i=n;;e++){let s=r.charCodeAt(e),o=this.match(s,i);if(e==r.length-1){if(o)return this.value=o,this;break}i==n&&e<t.length&&t.charCodeAt(e)==s&&i++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],s=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(a.prototype[Symbol.iterator]=function(){return this});const l={from:-1,to:-1,match:/.*/.exec("")},c="gm"+(null==/x/.unicode?"":"u");class h{constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=l,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new p(e,t,n,r,i);this.re=new RegExp(t,c+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=m(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=m(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const u=new WeakMap;class d{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=u.get(e);if(!r||r.from>=n||r.to<=t){let r=new d(t,e.sliceString(t,n));return u.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:i,from:s}=r;return s>t&&(i=e.sliceString(t,s)+i,s=t),r.to<n&&(i+=e.sliceString(r.to,n)),u.set(e,new d(s,i)),new d(t,i.slice(t-s,n-s))}}class p{constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=l,this.matchPos=m(e,r),this.re=new RegExp(t,c+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=d.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=m(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=d.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function m(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function f(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=(0,s.Z)("input",{class:"cm-textfield",name:"line",value:t});function o(){let t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!t)return;let{state:s}=e,o=s.doc.lineAt(s.selection.main.head),[,a,l,c,h]=t,u=c?+c.slice(1):0,d=l?+l:o.number;if(l&&h){let e=d/100;a&&(e=e*("-"==a?-1:1)+o.number/s.doc.lines),d=Math.round(s.doc.lines*e)}else l&&a&&(d=d*("-"==a?-1:1)+o.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,d))),m=i.jT.cursor(p.from+Math.max(0,Math.min(u,p.length)));e.dispatch({effects:[g.of(!1),r.tk.scrollIntoView(m.from,{y:"center"})],selection:m}),e.focus()}return{dom:(0,s.Z)("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:g.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),o())},onsubmit:e=>{e.preventDefault(),o()}},(0,s.Z)("label",e.state.phrase("Go to line"),": ",n)," ",(0,s.Z)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=p.prototype[Symbol.iterator]=function(){return this});const g=i.Py.define(),O=i.QQ.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(g)&&(e=n.value);return e},provide:e=>r.mH.from(e,(e=>e?f:null))}),v=r.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),b={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},y=i.r$.define({combine:e=>(0,i.BO)(e,b,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function w(e){let t=[A,_];return e&&t.push(y.of(e)),t}const x=r.p.mark({class:"cm-selectionMatch"}),k=r.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function S(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==i.D0.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==i.D0.Word)}const _=r.lg.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(y),{state:n}=e,s=n.selection;if(s.ranges.length>1)return r.p.none;let o,l=s.main,c=null;if(l.empty){if(!t.highlightWordAroundCursor)return r.p.none;let e=n.wordAt(l.head);if(!e)return r.p.none;c=n.charCategorizer(l.head),o=n.sliceDoc(e.from,e.to)}else{let e=l.to-l.from;if(e<t.minSelectionLength||e>200)return r.p.none;if(t.wholeWords){if(o=n.sliceDoc(l.from,l.to),c=n.charCategorizer(l.head),!S(c,n,l.from,l.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==i.D0.Word&&e(t.sliceDoc(r-1,r))==i.D0.Word}(c,n,l.from,l.to))return r.p.none}else if(o=n.sliceDoc(l.from,l.to).trim(),!o)return r.p.none}let h=[];for(let i of e.visibleRanges){let e=new a(n.doc,o,i.from,i.to);for(;!e.next().done;){let{from:i,to:s}=e.value;if((!c||S(c,n,i,s))&&(l.empty&&i<=l.from&&s>=l.to?h.push(k.range(i,s)):(i>=l.to||s<=l.from)&&h.push(x.range(i,s)),h.length>t.maxMatches))return r.p.none}}return r.p.set(h)}},{decorations:e=>e.decorations}),A=r.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),C=i.r$.define({combine:e=>(0,i.BO)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new ne(e),scrollToMatch:e=>r.tk.scrollIntoView(e)})});class Q{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,c),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new B(this):new M(this)}getCursor(e,t=0,n){let r=e.doc?e:i.yy.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?P(this,r,t,n):T(this,r,t,n)}}class ${constructor(e){this.spec=e}}function T(e,t,n,r){return new a(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?(s=t.doc,o=t.charCategorizer(t.selection.main.head),(e,t,n,r)=>((r>e||r+n.length<t)&&(r=Math.max(0,e-2),n=s.sliceString(r,Math.min(s.length,t+2))),!(o(E(n,e-r))==i.D0.Word&&o(Z(n,e-r))==i.D0.Word||o(Z(n,t-r))==i.D0.Word&&o(E(n,t-r))==i.D0.Word))):void 0);var s,o}class M extends ${constructor(e){super(e)}nextMatch(e,t,n){let r=T(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=T(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),i=T(this.spec,e,n,r),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=T(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=T(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function P(e,t,n,r){return new h(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(s=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(s(E(n.input,n.index))!=i.D0.Word||s(Z(n.input,n.index))!=i.D0.Word)&&(s(Z(n.input,n.index+n[0].length))!=i.D0.Word||s(E(n.input,n.index+n[0].length))!=i.D0.Word)):void 0},n,r);var s}function E(e,t){return e.slice((0,i.cp)(e,t,!1),t)}function Z(e,t){return e.slice(t,(0,i.cp)(e,t))}class B extends ${nextMatch(e,t,n){let r=P(this.spec,e,n,e.doc.length).next();return r.done&&(r=P(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-1e4*r),s=P(this.spec,e,i,n),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,((t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t)))}matchAll(e,t){let n=P(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=P(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const I=i.Py.define(),R=i.Py.define(),z=i.QQ.define({create:e=>new Y(H(e).create(),null),update(e,t){for(let n of t.effects)n.is(I)?e=new Y(n.value.create(),e.panel):n.is(R)&&(e=new Y(e.query,n.value?G:null));return e},provide:e=>r.mH.from(e,(e=>e.panel))});class Y{constructor(e,t){this.query=e,this.panel=t}}const L=r.p.mark({class:"cm-searchMatch"}),D=r.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),X=r.lg.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(z))}update(e){let t=e.state.field(z);(t!=e.startState.field(z)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return r.p.none;let{view:n}=this,s=new i.f_;for(let t=0,r=n.visibleRanges,i=r.length;t<i;t++){let{from:o,to:a}=r[t];for(;t<i-1&&a>r[t+1].from-500;)a=r[++t].to;e.highlight(n.state,o,a,((e,t)=>{let r=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));s.add(e,t,r?D:L)}))}return s.finish()}},{decorations:e=>e.decorations});function q(e){return t=>{let n=t.state.field(z,!1);return n&&n.query.spec.valid?e(t,n):K(t)}}const j=q(((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let s=i.jT.single(r.from,r.to),o=e.state.facet(C);return e.dispatch({selection:s,effects:[oe(e,r),o.scrollToMatch(s.main,e)],userEvent:"select.search"}),J(e),!0})),N=q(((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,s=t.prevMatch(n,r,r);if(!s)return!1;let o=i.jT.single(s.from,s.to),a=e.state.facet(C);return e.dispatch({selection:o,effects:[oe(e,s),a.scrollToMatch(o.main,e)],userEvent:"select.search"}),J(e),!0})),W=q(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length||(e.dispatch({selection:i.jT.create(n.map((e=>i.jT.range(e.from,e.to)))),userEvent:"select.search.matches"}),0))})),U=q(((e,{query:t})=>{let{state:n}=e,{from:s,to:o}=n.selection.main;if(n.readOnly)return!1;let a=t.nextMatch(n,s,s);if(!a)return!1;let l,c,h=[],u=[];if(a.from==s&&a.to==o&&(c=n.toText(t.getReplacement(a)),h.push({from:a.from,to:a.to,insert:c}),a=t.nextMatch(n,a.from,a.to),u.push(r.tk.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(s).number)+"."))),a){let t=0==h.length||h[0].from>=a.to?0:a.to-a.from-c.length;l=i.jT.single(a.from-t,a.to-t),u.push(oe(e,a)),u.push(n.facet(C).scrollToMatch(l.main,e))}return e.dispatch({changes:h,selection:l,effects:u,userEvent:"input.replace"}),!0})),V=q(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}}));if(!n.length)return!1;let i=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:r.tk.announce.of(i),userEvent:"input.replace.all"}),!0}));function G(e){return e.state.facet(C).createPanel(e)}function H(e,t){var n,r,i,s,o;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(C);return new Q({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(s=null==t?void 0:t.regexp)&&void 0!==s?s:c.regexp,wholeWord:null!==(o=null==t?void 0:t.wholeWord)&&void 0!==o?o:c.wholeWord})}function F(e){let t=(0,r.Sd)(e,G);return t&&t.dom.querySelector("[main-field]")}function J(e){let t=F(e);t&&t==e.root.activeElement&&t.select()}const K=e=>{let t=e.state.field(z,!1);if(t&&t.panel){let n=F(e);if(n&&n!=e.root.activeElement){let r=H(e.state,t.query.spec);r.valid&&e.dispatch({effects:I.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[R.of(!0),t?I.of(H(e.state,t.query.spec)):i.Py.appendConfig.of(le)]});return!0},ee=e=>{let t=e.state.field(z,!1);if(!t||!t.panel)return!1;let n=(0,r.Sd)(e,G);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:R.of(!1)}),!0},te=[{key:"Mod-f",run:K,scope:"editor search-panel"},{key:"F3",run:j,shift:N,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:j,shift:N,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ee,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:s}=n.main,o=[],l=0;for(let t=new a(e.doc,e.sliceDoc(r,s));!t.next().done;){if(o.length>1e3)return!1;t.value.from==r&&(l=o.length),o.push(i.jT.range(t.value.from,t.value.to))}return t(e.update({selection:i.jT.create(o,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:e=>{let t=(0,r.Sd)(e,f);if(!t){let n=[g.of(!0)];null==e.state.field(O,!1)&&n.push(i.Py.appendConfig.of([O,v])),e.dispatch({effects:n}),t=(0,r.Sd)(e,f)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=i.jT.create(n.ranges.map((t=>e.wordAt(t.head)||i.jT.cursor(t.head))),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let s=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=s)))return!1;let o=function(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new a(e.doc,t,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((e=>e.from==i.value.from)))continue;if(s){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}if(n)return null;i=new a(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,s);return!!o&&(t(e.update({selection:e.selection.addRange(i.jT.range(o.from,o.to),!1),effects:r.tk.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class ne{constructor(e){this.view=e;let t=this.query=e.state.field(z).query.spec;function n(e,t,n){return(0,s.Z)("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=(0,s.Z)("input",{value:t.search,placeholder:re(e,"Find"),"aria-label":re(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,s.Z)("input",{value:t.replace,placeholder:re(e,"Replace"),"aria-label":re(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,s.Z)("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=(0,s.Z)("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=(0,s.Z)("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=(0,s.Z)("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>j(e)),[re(e,"next")]),n("prev",(()=>N(e)),[re(e,"previous")]),n("select",(()=>W(e)),[re(e,"all")]),(0,s.Z)("label",null,[this.caseField,re(e,"match case")]),(0,s.Z)("label",null,[this.reField,re(e,"regexp")]),(0,s.Z)("label",null,[this.wordField,re(e,"by word")]),...e.state.readOnly?[]:[(0,s.Z)("br"),this.replaceField,n("replace",(()=>U(e)),[re(e,"replace")]),n("replaceAll",(()=>V(e)),[re(e,"replace all")])],(0,s.Z)("button",{name:"close",onclick:()=>ee(e),"aria-label":re(e,"close"),type:"button"},["×"])])}commit(){let e=new Q({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:I.of(e)}))}keydown(e){(0,r.$1)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?N:j)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),U(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(I)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(C).top}}function re(e,t){return e.state.phrase(t)}const ie=30,se=/[\s\.,:;?!]/;function oe(e,{from:t,to:n}){let i=e.state.doc.lineAt(t),s=e.state.doc.lineAt(n).to,o=Math.max(i.from,t-ie),a=Math.min(s,n+ie),l=e.state.sliceDoc(o,a);if(o!=i.from)for(let e=0;e<ie;e++)if(!se.test(l[e+1])&&se.test(l[e])){l=l.slice(e);break}if(a!=s)for(let e=l.length-1;e>l.length-ie;e--)if(!se.test(l[e-1])&&se.test(l[e])){l=l.slice(0,e);break}return r.tk.announce.of(`${e.state.phrase("current match")}. ${l} ${e.state.phrase("on line")} ${i.number}.`)}const ae=r.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),le=[z,i.Wl.low(X),ae]},8120:(e,t,n)=>{n.d(t,{BO:()=>xe,D0:()=>ve,F6:()=>G,Gz:()=>Le,IS:()=>Ye,Py:()=>he,QQ:()=>N,Wl:()=>U,Xs:()=>Ce,YW:()=>ue,as:()=>C,bg:()=>x,cp:()=>g,f_:()=>Qe,gc:()=>_,gm:()=>w,jT:()=>B,n0:()=>A,nZ:()=>k,q6:()=>ae,r$:()=>z,uU:()=>ke,xv:()=>r,yy:()=>we});class r{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),s.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let n=[];return this.decompose(e,t,n,0),s.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new l(this),i=new l(e);for(let e=t,s=t;;){if(r.next(e),i.next(e),e=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}iter(e=1){return new l(this,e)}iterRange(e,t=this.length){return new c(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new h(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new i(e):s.from(i.split(e,[])):r.empty}}class i extends r{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let i=0;;i++){let s=this.text[i],o=r+s.length;if((t?n:o)>=e)return new u(r,o,n,s);r=o+1,n++}}decompose(e,t,n,r){let s=e<=0&&t>=this.length?this:new i(a(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=o(s.text,e.text.slice(),0,s.length);if(t.length<=32)n.push(new i(t,e.length+s.length));else{let e=t.length>>1;n.push(new i(t.slice(0,e)),new i(t.slice(e)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof i))return super.replace(e,t,n);let r=o(this.text,o(n.text,a(this.text,0,e)),t),l=this.length+n.length-(t-e);return r.length<=32?new i(r,l):s.from(i.split(r,[]),l)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,s=0;i<=t&&s<this.text.length;s++){let o=this.text[s],a=i+o.length;i>e&&s&&(r+=n),e<a&&t>i&&(r+=o.slice(Math.max(0,e-i),t-i)),i=a+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let s of e)n.push(s),r+=s.length+1,32==n.length&&(t.push(new i(n,r)),n=[],r=-1);return r>-1&&t.push(new i(n,r)),t}}class s extends r{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let i=0;;i++){let s=this.children[i],o=r+s.length,a=n+s.lines-1;if((t?a:o)>=e)return s.lineInner(e,t,n,r);r=o+1,n=a+1}}decompose(e,t,n,r){for(let i=0,s=0;s<=t&&i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e<=a&&t>=s){let i=r&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!i?n.push(o):o.decompose(e-s,t-s,n,i)}s=a+1}}replace(e,t,n){if(n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.length;if(e>=i&&t<=a){let l=o.replace(e-i,t-i,n),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let i=this.children.slice();return i[r]=l,new s(i,this.length-(t-e)+n.length)}return super.replace(i,a,l)}i=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){let r="";for(let i=0,s=0;i<this.children.length&&s<=t;i++){let o=this.children[i],a=s+o.length;s>e&&i&&(r+=n),e<a&&t>s&&(r+=o.sliceString(e-s,t-s,n)),s=a+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof s))return 0;let n=0,[r,i,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,i+=t){if(r==o||i==a)return n;let s=this.children[r],l=e.children[i];if(s!=l)return n+s.scanIdentical(l,t);n+=s.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new i(n,t)}let r=Math.max(32,n>>5),o=r<<1,a=r>>1,l=[],c=0,h=-1,u=[];function d(e){let t;if(e.lines>o&&e instanceof s)for(let t of e.children)d(t);else e.lines>a&&(c>a||!c)?(p(),l.push(e)):e instanceof i&&c&&(t=u[u.length-1])instanceof i&&e.lines+t.lines<=32?(c+=e.lines,h+=e.length+1,u[u.length-1]=new i(t.text.concat(e.text),t.length+1+e.length)):(c+e.lines>r&&p(),c+=e.lines,h+=e.length+1,u.push(e))}function p(){0!=c&&(l.push(1==u.length?u[0]:s.from(u,h)),h=-1,c=u.length=0)}for(let t of e)d(t);return p(),1==l.length?l[0]:new s(l,t)}}function o(e,t,n=0,r=1e9){for(let i=0,s=0,o=!0;s<e.length&&i<=r;s++){let a=e[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(t[t.length-1]+=a,o=!1):t.push(a)),i=l+1}return t}function a(e,t,n){return o(e,[""],t,n)}r.empty=new i([""],0);class l{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof i?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],s=this.offsets[n],o=s>>1,a=r instanceof i?r.text.length:r.children.length;if(o==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof i){let i=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let s=r.children[o+(t<0?-1:0)];e>s.length?(e-=s.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(t>0?1:(s instanceof i?s.text.length:s.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class c{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new l(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class h{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(r.prototype[Symbol.iterator]=function(){return this.iter()},l.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=h.prototype[Symbol.iterator]=function(){return this});class u{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<d.length;e++)d[e]+=d[e-1];function p(e){for(let t=1;t<d.length;t+=2)if(d[t]>e)return d[t-1]<=e;return!1}function m(e){return e>=127462&&e<=127487}const f=8205;function g(e,t,n=!0,r=!0){return(n?O:v)(e,t,r)}function O(e,t,n){if(t==e.length)return t;t&&b(e.charCodeAt(t))&&y(e.charCodeAt(t-1))&&t--;let r=w(e,t);for(t+=k(r);t<e.length;){let i=w(e,t);if(r==f||i==f||n&&p(i))t+=k(i),r=i;else{if(!m(i))break;{let n=0,r=t-2;for(;r>=0&&m(w(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function v(e,t,n){for(;t>0;){let r=O(e,t-2,n);if(r<t)return r;t--}return 0}function b(e){return e>=56320&&e<57344}function y(e){return e>=55296&&e<56320}function w(e,t){let n=e.charCodeAt(t);if(!y(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return b(r)?r-56320+(n-55296<<10)+65536:n}function x(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function k(e){return e<65536?1:2}const S=/\r\n?|\n/;var _=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(_||(_={}));class A{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?(e(n,r,i),r+=i):r+=s,n+=i}}iterChangedRanges(e,t=!1){T(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new A(e)}composeDesc(e){return this.empty?e:e.empty?this:P(this,e)}mapDesc(e,t=!1){return e.empty?this:M(this,e,t)}mapPos(e,t=-1,n=_.Simple){let r=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=r+o;if(a<0){if(l>e)return i+(e-r);i+=o}else{if(n!=_.Simple&&l>=e&&(n==_.TrackDel&&r<e&&l>e||n==_.TrackBefore&&r<e||n==_.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==r||t<0?i:i+a;i+=a}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return i}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&i>=e)return!(r<e&&i>t)||"cover";r=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new A(e)}static create(e){return new A(e)}}class C extends A{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return T(this,((t,n,r,i,s)=>e=e.replace(r,r+(n-t),s)),!1),e}mapDesc(e,t=!1){return M(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;n.length<l;)n.push(r.empty);n.push(o?e.slice(s,s+o):r.empty)}s+=o}return new C(t,n)}compose(e){return this.empty?e:e.empty?this:P(this,e,!0)}map(e,t=!1){return e.empty?this:M(this,e,t,!0)}iterChanges(e,t=!1){T(this,e,t)}get desc(){return A.create(this.sections)}filter(e){let t=[],n=[],r=[],i=new E(this);e:for(let s=0,o=0;;){let a=s==e.length?1e9:e[s++];for(;o<a||o==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-o);Q(r,e,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;Q(t,e,s),s>0&&$(n,t,i.text),i.forward(e),o+=e}let l=e[s++];for(;o<l;){if(i.done)break e;let e=Math.min(i.len,l-o);Q(t,e,-1),Q(r,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),o+=e}}return{changes:new C(t,n),filtered:A.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],o=0,a=null;function l(e=!1){if(!e&&!i.length)return;o<t&&Q(i,t-o,-1);let n=new C(i,s);a=a?a.compose(n.map(a)):n,i=[],s=[],o=0}return function e(c){if(Array.isArray(c))for(let t of c)e(t);else if(c instanceof C){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:e,to:a=e,insert:h}=c;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let u=h?"string"==typeof h?r.of(h.split(n||S)):h:r.empty,d=u.length;if(e==a&&0==d)return;e<o&&l(),e>o&&Q(i,e-o,-1),Q(i,a-e,d),$(s,i,u),o=a}}(e),l(!a),a}static empty(e){return new C(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if("number"==typeof s)t.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)t.push(s[0],0);else{for(;n.length<i;)n.push(r.empty);n[i]=r.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new C(t,n)}static createSet(e,t){return new C(e,t)}}function Q(e,t,n,r=!1){if(0==t&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function $(e,t,n){if(0==n.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<i;)e.push(r.empty);e.push(n)}}function T(e,t,n){let i=e.inserted;for(let s=0,o=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)s+=l,o+=l;else{let h=s,u=o,d=r.empty;for(;h+=l,u+=c,c&&i&&(d=d.append(i[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(s,h,o,u,d),s=h,o=u}}}function M(e,t,n,r=!1){let i=[],s=r?[]:null,o=new E(e),a=new E(t);for(let e=-1;;)if(-1==o.ins&&-1==a.ins){let e=Math.min(o.len,a.len);Q(i,e,-1),o.forward(e),a.forward(e)}else if(a.ins>=0&&(o.ins<0||e==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!n))){let t=a.len;for(Q(i,a.ins,-1);t;){let n=Math.min(o.len,t);o.ins>=0&&e<o.i&&o.len<=n&&(Q(i,0,o.ins),s&&$(s,i,o.text),e=o.i),o.forward(n),t-=n}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?C.createSet(i,s):A.create(i);throw new Error("Mismatched change set lengths")}{let t=0,n=o.len;for(;n;)if(-1==a.ins){let e=Math.min(n,a.len);t+=e,n-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<n))break;n-=a.len,a.next()}Q(i,t,e<o.i?o.ins:0),s&&e<o.i&&$(s,i,o.text),e=o.i,o.forward(o.len-n)}}}function P(e,t,n=!1){let r=[],i=n?[]:null,s=new E(e),o=new E(t);for(let e=!1;;){if(s.done&&o.done)return i?C.createSet(r,i):A.create(r);if(0==s.ins)Q(r,s.len,0,e),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,o.len),n=r.length;if(-1==s.ins){let n=-1==o.ins?-1:o.off?0:o.ins;Q(r,t,n,e),i&&n&&$(i,r,o.text)}else-1==o.ins?(Q(r,s.off?0:s.len,t,e),i&&$(i,r,s.textBit(t))):(Q(r,s.off?0:s.len,o.off?0:o.ins,e),i&&!o.off&&$(i,r,o.text));e=(s.ins>t||o.ins>=0&&o.len>t)&&(e||r.length>n),s.forward2(t),o.forward(t)}}else Q(r,0,o.ins,e),i&&$(i,r,o.text),o.next()}}class E{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?r.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?r.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Z{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Z(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return B.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return B.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return B.range(e.anchor,e.head)}static create(e,t,n){return new Z(e,t,n)}}class B{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:B.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new B([this.main],0)}addRange(e,t=!0){return B.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,B.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new B(e.ranges.map((e=>Z.fromJSON(e))),e.main)}static single(e,t=e){return new B([B.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let i=e[r];if(i.empty?i.from<=n:i.from<n)return B.normalized(e.slice(),t);n=i.to}return new B(e,t)}static cursor(e,t=0,n,r){return Z.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?Z.create(t,e,48|i):Z.create(e,t,(t>e?8:0)|i)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],i=e[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?B.range(o,s):B.range(s,o))}}return new B(e,t)}}function I(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let R=0;class z{constructor(e,t,n,r,i){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=R++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(e={}){return new z(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:Y),!!e.static,e.enables)}of(e){return new L([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new L(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new L(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function Y(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class L{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=R++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,i=this.id,s=e[i]>>1,o=2==this.type,a=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?a=!0:"selection"==n?l=!0:0==(1&(null!==(t=e[n.id])&&void 0!==t?t:1))&&c.push(e[n.id]);return{create:e=>(e.values[s]=n(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||X(e,c)){let t=n(e);if(o?!D(t,e.values[s],r):!r(t,e.values[s]))return e.values[s]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=K(t,l);if(this.dependencies.every((n=>n instanceof z?t.facet(n)===e.facet(n):!(n instanceof N)||t.field(n,!1)==e.field(n,!1)))||(o?D(a=n(e),i,r):r(a=n(e),i)))return e.values[s]=i,0}else a=n(e);return e.values[s]=a,1}}}}function D(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function X(e,t){let n=!1;for(let r of t)1&J(e,r)&&(n=!0);return n}function q(e,t,n){let r=n.map((t=>e[t.id])),i=n.map((e=>e.type)),s=r.filter((e=>!(1&e))),o=e[t.id]>>1;function a(e){let n=[];for(let t=0;t<r.length;t++){let s=K(e,r[t]);if(2==i[t])for(let e of s)n.push(e);else n.push(s)}return t.combine(n)}return{create(e){for(let t of r)J(e,t);return e.values[o]=a(e),1},update(e,n){if(!X(e,s))return 0;let r=a(e);return t.compare(r,e.values[o])?0:(e.values[o]=r,1)},reconfigure(e,i){let s=X(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!s&&Y(n,l))return e.values[o]=c,0;let h=a(e);return t.compare(h,c)?(e.values[o]=c,0):(e.values[o]=h,1)}}}const j=z.define({static:!0});class N{constructor(e,t,n,r,i){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(e){let t=new N(R++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(j).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],i=this.updateF(r,n);return this.compareF(r,i)?0:(e.values[t]=i,1)},reconfigure:(e,n)=>null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,j.of({field:this,create:e})]}get extension(){return this}}function W(e){return t=>new V(t,e)}const U={highest:W(0),high:W(1),default:W(2),low:W(3),lowest:W(4)};class V{constructor(e,t){this.inner=e,this.prec=t}}class G{of(e){return new H(this,e)}reconfigure(e){return G.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class H{constructor(e,t){this.compartment=e,this.inner=t}}class F{constructor(e,t,n,r,i,s){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],i=Object.create(null),s=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],i=new Map;return function e(s,o){let a=i.get(s);if(null!=a){if(a<=o)return;let e=r[a].indexOf(s);e>-1&&r[a].splice(e,1),s instanceof H&&n.delete(s.compartment)}if(i.set(s,o),Array.isArray(s))for(let t of s)e(t,o);else if(s instanceof H){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(s.compartment)||s.inner;n.set(s.compartment,r),e(r,o)}else if(s instanceof V)e(s.inner,s.prec);else if(s instanceof N)r[o].push(s),s.provides&&e(s.provides,o);else if(s instanceof L)r[o].push(s),s.facet.extensions&&e(s.facet.extensions,2);else{let t=s.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,o)}}(e,2),r.reduce(((e,t)=>e.concat(t)))}(e,t,s))n instanceof N?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let o=Object.create(null),a=[],l=[];for(let e of r)o[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in i){let t=i[e],r=t[0].facet,s=c&&c[e]||[];if(t.every((e=>0==e.type)))if(o[r.id]=a.length<<1|1,Y(s,t))a.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));a.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(o[e.id]=a.length<<1|1,a.push(e.value)):(o[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));o[r.id]=l.length<<1,l.push((e=>q(e,r,t)))}}let h=l.map((e=>e(o)));return new F(e,s,h,o,a,i)}}function J(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function K(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const ee=z.define(),te=z.define({combine:e=>e.some((e=>e)),static:!0}),ne=z.define({combine:e=>e.length?e[0]:void 0,static:!0}),re=z.define(),ie=z.define(),se=z.define(),oe=z.define({combine:e=>!!e.length&&e[0]});class ae{constructor(e,t){this.type=e,this.value=t}static define(){return new le}}class le{of(e){return new ae(this,e)}}class ce{constructor(e){this.map=e}of(e){return new he(this,e)}}class he{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new he(this.type,t)}is(e){return this.type==e}static define(e={}){return new ce(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}he.reconfigure=he.define(),he.appendConfig=he.define();class ue{constructor(e,t,n,r,i,s){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,n&&I(n,t.newLength),i.some((e=>e.type==ue.time))||(this.annotations=i.concat(ue.time.of(Date.now())))}static create(e,t,n,r,i,s){return new ue(e,t,n,r,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ue.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function de(e,t){let n=[];for(let r=0,i=0;;){let s,o;if(r<e.length&&(i==t.length||t[i]>=e[r]))s=e[r++],o=e[r++];else{if(!(i<t.length))return n;s=t[i++],o=t[i++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function pe(e,t,n){var r;let i,s,o;return n?(i=t.changes,s=C.empty(t.changes.length),o=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(i)),{changes:o,selection:t.selection?t.selection.map(s):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:he.mapEffects(e.effects,i).concat(he.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function me(e,t,n){let r=t.selection,i=Oe(t.annotations);return t.userEvent&&(i=i.concat(ue.userEvent.of(t.userEvent))),{changes:t.changes instanceof C?t.changes:C.of(t.changes||[],n,e.facet(ne)),selection:r&&(r instanceof B?r:B.single(r.anchor,r.head)),effects:Oe(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function fe(e,t,n){let r=me(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);let s=!!t[i].sequential;r=pe(r,me(e,t[i],s?r.changes.newLength:e.doc.length),s)}let i=ue.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(se),r=e;for(let i=n.length-1;i>=0;i--){let s=n[i](e);s&&Object.keys(s).length&&(r=pe(r,me(t,s,e.changes.newLength),!0))}return r==e?e:ue.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(re)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:de(n,t))}if(!0!==n){let r,i;if(!1===n)i=e.changes.invertedDesc,r=C.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=ue.create(t,r,e.selection&&e.selection.map(i),he.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let r=t.facet(ie);for(let n=r.length-1;n>=0;n--){let i=r[n](e);e=i instanceof ue?i:Array.isArray(i)&&1==i.length&&i[0]instanceof ue?i[0]:fe(t,Oe(i),!1)}return e}(i):i)}ue.time=ae.define(),ue.userEvent=ae.define(),ue.addToHistory=ae.define(),ue.remote=ae.define();const ge=[];function Oe(e){return null==e?ge:Array.isArray(e)?e:[e]}var ve=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(ve||(ve={}));const be=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ye;try{ye=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class we{constructor(e,t,n,r,i,s){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)J(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return J(this,n),K(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return fe(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:i}=n;for(let t of e.effects)t.is(G.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((e,t)=>i.set(t,e))),n=null),i.set(t.value.compartment,t.value.extension)):t.is(he.reconfigure)?(n=null,r=t.value):t.is(he.appendConfig)&&(n=null,r=Oe(r).concat(t.value));n?t=e.startState.values.slice():(n=F.resolve(r,i,this),t=new we(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values),new we(n,e.newDoc,e.newSelection,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:B.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],s=Oe(n.effects);for(let n=1;n<t.ranges.length;n++){let o=e(t.ranges[n]),a=this.changes(o.changes),l=a.map(r);for(let e=0;e<n;e++)i[e]=i[e].map(l);let c=r.mapDesc(a,!0);i.push(o.range.map(c)),r=r.compose(l),s=he.mapEffects(s,l).concat(he.mapEffects(Oe(o.effects),c))}return{changes:r,selection:B.create(i,t.mainIndex),effects:s}}changes(e=[]){return e instanceof C?e:C.of(e,this.doc.length,this.facet(we.lineSeparator))}toText(e){return r.of(e.split(this.facet(we.lineSeparator)||S))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(J(this,t),K(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof N&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let i=n[t],s=e[t];r.push(i.init((e=>i.spec.fromJSON(s,e))))}return we.create({doc:e.doc,selection:B.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=F.resolve(e.extensions||[],new Map),n=e.doc instanceof r?e.doc:r.of((e.doc||"").split(t.staticFacet(we.lineSeparator)||S)),i=e.selection?e.selection instanceof B?e.selection:B.single(e.selection.anchor,e.selection.head):B.single(0);return I(i,n.length),t.staticFacet(te)||(i=i.asSingle()),new we(t,n,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(we.tabSize)}get lineBreak(){return this.facet(we.lineSeparator)||"\n"}get readOnly(){return this.facet(oe)}phrase(e,...t){for(let t of this.facet(we.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let i of this.facet(ee))for(let s of i(this,t,n))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return ve.Space;if(function(e){if(ye)return ye.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||be.test(n)))return!0}return!1}(e))return ve.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return ve.Word;return ve.Other};var t}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),i=this.charCategorizer(e),s=e-n,o=e-n;for(;s>0;){let e=g(t,s,!1);if(i(t.slice(e,s))!=ve.Word)break;s=e}for(;o<r;){let e=g(t,o);if(i(t.slice(o,e))!=ve.Word)break;o=e}return s==o?null:B.range(s+n,o+n)}}function xe(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let i=t[e],s=r[e];if(void 0===s)r[e]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](s,i)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}we.allowMultipleSelections=te,we.tabSize=z.define({combine:e=>e.length?e[0]:4}),we.lineSeparator=ne,we.readOnly=oe,we.phrases=z.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),we.languageData=ee,we.changeFilter=re,we.transactionFilter=ie,we.transactionExtender=se,G.reconfigure=he.define();class ke{eq(e){return this==e}range(e,t=e){return Se.create(e,t,this)}}ke.prototype.startSide=ke.prototype.endSide=0,ke.prototype.point=!1,ke.prototype.mapMode=_.TrackDel;class Se{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Se(e,t,n)}}function _e(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Ae{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let i=n?this.to:this.from;for(let s=r,o=i.length;;){if(s==o)return s;let r=s+o>>1,a=i[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==s)return a>=0?s:o;a>=0?o=r:s=r+1}}between(e,t,n,r){for(let i=this.findIndex(t,-1e9,!0),s=this.findIndex(n,1e9,!1,i);i<s;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let n=[],r=[],i=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+e,d=this.to[a]+e;if(u==d){let e=t.mapPos(u,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(u,h.endSide),c<l))continue}else if(l=t.mapPos(u,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(s<0&&(s=l),h.point&&(o=Math.max(o,c-l)),n.push(h),r.push(l-s),i.push(c-s))}return{mapped:n.length?new Ae(r,i,n,o):null,pos:s}}}class Ce{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Ce(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=e,s=e.filter;if(0==t.length&&!s)return this;if(n&&(t=t.slice().sort(_e)),this.isEmpty)return t.length?Ce.of(t):this;let o=new Te(this,null,-1).goto(0),a=0,l=[],c=new Qe;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!s||r>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||r>o.to||i<o.from||s(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||l.push(Se.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Ce.empty:this.nextLayer.update({add:l,filter:s,filterFrom:r,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i],a=e.touchesRange(s,s+o.length);if(!1===a)r=Math.max(r,o.maxPoint),t.push(o),n.push(e.mapPos(s));else if(!0===a){let{mapped:i,pos:a}=o.map(s,e);i&&(r=Math.max(r,i.maxPoint),t.push(i),n.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new Ce(n,t,i||Ce.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],s=this.chunk[r];if(t>=i&&e<=i+s.length&&!1===s.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Me.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Me.from(e).goto(t)}static compare(e,t,n,r,i=-1){let s=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),o=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i)),a=$e(s,o,n),l=new Ee(s,a,i),c=new Ee(o,a,i);n.iterGaps(((e,t,n)=>Ze(l,e,c,t,n,r))),n.empty&&0==n.length&&Ze(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let i=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),s=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(i.length!=s.length)return!1;if(!i.length)return!0;let o=$e(i,s),a=new Ee(i,o,0).goto(n),l=new Ee(s,o,0).goto(n);for(;;){if(a.to!=l.to||!Be(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}static spans(e,t,n,r,i=-1){let s=new Ee(e,null,i).goto(t),o=t,a=s.openStart;for(;;){let e=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),i=s.pointFrom<t?n.length+1:Math.min(n.length,a);r.point(o,e,s.point,n,i,s.pointRank),a=Math.min(s.openEnd(e),n.length)}else e>o&&(r.span(o,e,s.active,a),a=s.openEnd(e));if(s.to>n)return a+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(e,t=!1){let n=new Qe;for(let r of e instanceof Se?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(_e(t,r)>0)return e.slice().sort(_e);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}}Ce.empty=new Ce([],[],null,-1),Ce.empty.nextLayer=Ce.empty;class Qe{finishChunk(e){this.chunks.push(new Ae(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Qe)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Ce.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Ce.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function $e(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let i=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let s=r.get(e.chunk[t]);null==s||(n?n.mapPos(s):s)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(s,s+e.chunk[t].length))||i.add(e.chunk[t])}return i}class Te{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Me{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let i=0;i<e.length;i++)for(let s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new Te(s,t,n,i));return 1==r.length?r[0]:new Me(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Pe(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Pe(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Pe(this.heap,0)}}}function Pe(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class Ee{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Me.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ie(this.active,e),Ie(this.activeTo,e),Ie(this.activeRank,e),this.minActive=ze(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:i}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=i;)t++;Re(this.active,t,n),Re(this.activeTo,t,r),Re(this.activeRank,t,i),e&&Re(e,t,this.cursor.from),this.minActive=ze(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Ie(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Ze(e,t,n,r,i,s){e.goto(t),n.goto(r);let o=r+i,a=r,l=r-t;for(;;){let t=e.to+l-n.to||e.endSide-n.endSide,r=t<0?e.to+l:n.to,i=Math.min(r,o);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&Be(e.activeForPoint(e.to),n.activeForPoint(n.to))||s.comparePoint(a,i,e.point,n.point):i>a&&!Be(e.active,n.active)&&s.compareRange(a,i,e.active,n.active),r>o)break;a=r,t<=0&&e.next(),t>=0&&n.next()}}function Be(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Ie(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Re(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function ze(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Ye(e,t,n=e.length){let r=0;for(let i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=g(e,i));return r}function Le(e,t,n,r){for(let r=0,i=0;;){if(i>=t)return r;if(r==e.length)break;i+=9==e.charCodeAt(r)?n-i%n:1,r=g(e,r)}return!0===r?-1:e.length}},6485:(e,t,n)=>{n.d(t,{p:()=>he,Nm:()=>Ue,tk:()=>Vn,SJ:()=>vi,lg:()=>Ze,l9:()=>le,S2:()=>Vr,Uw:()=>Or,qr:()=>Qr,HM:()=>vr,Sd:()=>pi,gB:()=>hi,v5:()=>xi,ZO:()=>Lr,HQ:()=>Li,AE:()=>Ir,bF:()=>ci,$f:()=>nr,Eu:()=>Ii,OO:()=>Te,Zs:()=>Nr,$1:()=>sr,mH:()=>Oi,hJ:()=>ri});for(var r=n(8120),i=n(8699),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=0;c<10;c++)s[48+c]=s[96+c]=String(c);for(c=1;c<=24;c++)s[c+111]="F"+c;for(c=65;c<=90;c++)s[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var h in s)o.hasOwnProperty(h)||(o[h]=s[h]);function u(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function d(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function p(e,t){if(!t.anchorNode)return!1;try{return d(e,t.anchorNode)}catch(e){return!1}}function m(e){return 3==e.nodeType?_(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function f(e,t,n,r){return!!n&&(O(e,t,n,r,-1)||O(e,t,n,r,1))}function g(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function O(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:v(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=g(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?v(e):0}}}function v(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function b(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function y(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class w{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?v(t):0),n,Math.min(e.focusOffset,n?v(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let x,k=null;function S(e){if(e.setActive)return e.setActive();if(k)return e.focus(k);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==k?{get preventScroll(){return k={preventScroll:!0},!0}}:void 0),!k){k=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],i=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function _(e,t,n=t){let r=x||(x=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function A(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,e.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function C(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function Q(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class ${constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new $(e.parentNode,g(e),t)}static after(e,t){return new $(e.parentNode,g(e)+1,t)}}const T=[];class M{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(n=i?i.nextSibling:r.firstChild)){let e=M.get(n);(!e||!e.parent&&e.canReuseDOM(s))&&s.reuseDOM(n)}s.sync(e,t),s.flags&=-8}if(n=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;n&&n!=s.dom;)n=P(n);else r.insertBefore(s.dom,n);i=s.dom}for(n=i?i.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=P(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==v(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!M.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,i=-1,s=-1,o=-1;for(let a=0,l=n,c=n;a<this.children.length;a++){let n=this.children[a],h=l+n.length;if(l<e&&h>t)return n.domBoundsAround(e,t,l);if(h>=e&&-1==r&&(r=a,i=l),l>t&&n.dom.parentNode==this.dom){s=a,o=c;break}c=h,l=h+n.breakAfter}return{from:i,to:o<0?n+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=T){this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...n);for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new E(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,i,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){this.parent=null}}function P(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}M.prototype.breakAfter=0;class E{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Z(e,t,n,r,i,s,o,a,l){let{children:c}=e,h=c.length?c[t]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(t==r&&h&&!o&&!d&&s.length<2&&h.merge(n,i,s.length?u:null,0==n,a,l))){if(r<c.length){let e=c[r];e&&(i<e.length||e.breakAfter&&(null==u?void 0:u.breakAfter))?(t==r&&(e=e.split(i),i=0),!d&&u&&e.merge(0,i,u,!0,0,l)?s[s.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,l),s.push(e))):(null==e?void 0:e.breakAfter)&&(u?u.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,n>0&&(!o&&s.length&&h.merge(n,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(n<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(n,h.length,null,!1,a,0),t++));t<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else{if(!c[t].become(s[0]))break;t++,s.shift(),a=s.length?0:l}!s.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||s.length)&&e.replaceChildren(t,r,s)}}function B(e,t,n,r,i,s){let o=e.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:h}=o.findPos(t,-1),u=t-n;for(let e of r)u+=e.length;e.length+=u,Z(e,c,h,a,l,r,0,i,s)}let I="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},R="undefined"!=typeof document?document:{documentElement:{style:{}}};const z=/Edge\/(\d+)/.exec(I.userAgent),Y=/MSIE \d/.test(I.userAgent),L=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(I.userAgent),D=!!(Y||L||z),X=!D&&/gecko\/(\d+)/i.test(I.userAgent),q=!D&&/Chrome\/(\d+)/.exec(I.userAgent),j="webkitFontSmoothing"in R.documentElement.style,N=!D&&/Apple Computer/.test(I.vendor),W=N&&(/Mobile\/\w+/.test(I.userAgent)||I.maxTouchPoints>2);var U={mac:W||/Mac/.test(I.platform),windows:/Win/.test(I.platform),linux:/Linux|X11/.test(I.platform),ie:D,ie_version:Y?R.documentMode||6:L?+L[1]:z?+z[1]:0,gecko:X,gecko_version:X?+(/Firefox\/(\d+)/.exec(I.userAgent)||[0,0])[1]:0,chrome:!!q,chrome_version:q?+q[1]:0,ios:W,android:/Android\b/.test(I.userAgent),webkit:j,safari:N,webkit_version:j?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=R.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class V extends M{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof V)||this.length-(t-e)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new V(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new $(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,s=t,o=0;0==t&&n<0||t==r&&n>=0?U.chrome||U.gecko||(t?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=_(e,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return U.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),o?b(l,o<0):l||null}(this.dom,e,t)}}class G extends M{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(C(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,i,s){return!(n&&(!(n instanceof G&&n.mark.eq(this.mark))||e&&i<=0||t<this.length&&s<=0)||(B(this,e,t,n?n.children:[],i-1,s-1),this.markDirty(),0))}split(e){let t=[],n=0,r=-1,i=0;for(let s of this.children){let o=n+s.length;o>e&&t.push(n<e?s.split(e-n):s),r<0&&n>=e&&(r=i),n=o,i++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new G(this.mark,t,s)}domAtPos(e){return J(this,e)}coordsAt(e,t){return ee(this,e,t)}}class H extends M{static create(e,t,n){return new H(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=H.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,n,r,i,s){return!(n&&(!(n instanceof H&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&s<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof H&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return r.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):r.xv.empty}domAtPos(e){return(this.length?0==e:this.side>0)?$.before(this.dom):$.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let s=this.side?this.side<0:e>0;for(let t=s?r.length-1:0;i=r[t],!(e>0?0==t:t==r.length-1||i.top<i.bottom);t+=s?-1:1);return b(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class F extends M{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof F&&e.side==this.side}split(){return new F(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?$.before(this.dom):$.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return r.xv.empty}get isHidden(){return!0}}function J(e,t){let n=e.dom,{children:r}=e,i=0;for(let e=0;i<r.length;i++){let s=r[i],o=e+s.length;if(!(o==e&&s.getSide()<=0)){if(t>e&&t<o&&s.dom.parentNode==n)return s.domAtPos(t-e);if(t<=e)break;e=o}}for(let e=i;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=i;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new $(n,0)}function K(e,t,n){let r,{children:i}=e;n>0&&t instanceof G&&i.length&&(r=i[i.length-1])instanceof G&&r.mark.eq(t.mark)?K(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function ee(e,t,n){let r=null,i=-1,s=null,o=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let h=t.children[l],u=c+h.length;u>=a&&(h.children.length?e(h,a-c):(!s||s.isHidden&&n>0)&&(u>a||c==u&&h.getSide()>0)?(s=h,o=a-c):(c<a||c==u&&h.getSide()<0&&!h.isHidden)&&(r=h,i=a-c)),c=u}}(e,t);let a=(n<0?r:s)||r||s;return a?a.coordsAt(Math.max(0,a==r?i:o),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=m(t);return n[n.length-1]||null}(e)}function te(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}V.prototype.children=H.prototype.children=F.prototype.children=T;const ne=Object.create(null);function re(e,t,n){if(e==t)return!0;e||(e=ne),t||(t=ne);let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(-1==i.indexOf(s)||e[s]!==t[s]))return!1;return!0}function ie(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,"style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function se(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class oe extends M{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,i,s){if(n){if(!(n instanceof oe))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),B(this,e,t,n?n.children:[],i,s),!0}split(e){let t=new oe;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){re(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){K(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=te(t,this.attrs||{})),n&&(this.attrs=te({class:n},this.attrs||{}))}domAtPos(e){return J(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(C(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ie(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&M.get(r)instanceof G;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=M.get(r))||void 0===n?void 0:n.isEditable)||U.ios&&this.children.some((e=>e instanceof V))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof V)||/[^ -~]/.test(n.text))return null;let r=m(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=ee(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return!1}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let i=e.children[n],s=r+i.length;if(s>=t){if(i instanceof oe)return i;if(s>t)break}r=s+i.breakAfter}return null}}class ae extends M{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,i,s){return!(n&&(!(n instanceof ae&&this.widget.compare(n.widget))||e>0&&i<=0||t<this.length&&s<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?$.before(this.dom):$.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new ae(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return T}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):r.xv.empty}domBoundsAround(){return null}become(e){return e instanceof ae&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class le{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}destroy(e){}}var ce=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(ce||(ce={}));class he extends r.uU{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new ue(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new pe(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:i,end:s}=me(e,r);t=(i?r?-3e8:-1:5e8)-1,n=1+(s?r?2e8:1:-6e8)}return new pe(e,t,n,r,e.widget||null,!0)}static line(e){return new de(e)}static set(e,t=!1){return r.Xs.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}he.none=r.Xs.empty;class ue extends he{constructor(e){let{start:t,end:n}=me(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof ue&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&re(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ue.prototype.point=!1;class de extends he{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof de&&this.spec.class==e.spec.class&&re(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}de.prototype.mapMode=r.gc.TrackBefore,de.prototype.point=!0;class pe extends he{constructor(e,t,n,i,s,o){super(t,n,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?r.gc.TrackBefore:r.gc.TrackAfter:r.gc.TrackDel}get type(){return this.startSide!=this.endSide?ce.WidgetRange:this.startSide<=0?ce.WidgetBefore:ce.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof pe&&((t=this.widget)==(n=e.widget)||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function me(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function fe(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}pe.prototype.point=!0;class ge{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ae&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new oe),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Oe(new F(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof ae||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Oe(new V(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,i,s){if(this.disallowBlockEffectsFor[s]&&n instanceof pe){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(n instanceof pe)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ae(n.widget||new ve("div"),o,n));else{let s=H.create(n.widget||new ve("span"),o,o?0:n.startSide),a=this.atCursorPos&&!s.isEditable&&i<=r.length&&(e<t||n.startSide>0),l=!s.isEditable&&(e<t||i>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),a&&(c.append(Oe(new F(1),r),i),i=r.length+Math.max(0,i-r.length)),c.append(Oe(s,r),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,n,i,s){let o=new ge(e,t,n,s);return o.openEnd=r.Xs.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Oe(e,t){for(let n of t)e=new G(n,[e],e.length);return e}class ve extends le{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const be=r.r$.define(),ye=r.r$.define(),we=r.r$.define(),xe=r.r$.define(),ke=r.r$.define(),Se=r.r$.define(),_e=r.r$.define(),Ae=r.r$.define({combine:e=>e.some((e=>e))}),Ce=r.r$.define({combine:e=>e.some((e=>e))});class Qe{constructor(e,t="nearest",n="nearest",r=5,i=5,s=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=s}map(e){return e.empty?this:new Qe(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Qe(r.jT.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const $e=r.Py.define({map:(e,t)=>e.map(t)});function Te(e,t,n){let r=e.facet(xe);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const Me=r.r$.define({combine:e=>!e.length||e[0]});let Pe=0;const Ee=r.r$.define();class Ze{constructor(e,t,n,r,i){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:i,decorations:s}=t||{};return new Ze(Pe++,e,n,r,(e=>{let t=[Ee.of(e)];return s&&t.push(ze.of((t=>{let n=t.plugin(e);return n?s(n):he.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return Ze.define((t=>new e(t)),t)}}class Be{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Te(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Te(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Te(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ie=r.r$.define(),Re=r.r$.define(),ze=r.r$.define(),Ye=r.r$.define(),Le=r.r$.define();function De(e,t,n){let i=e.state.facet(Le);if(!i.length)return i;let s=i.map((t=>t instanceof Function?t(e):t)),o=[];return r.Xs.spans(s,t,n,{point(){},span(e,t,n,r){let i=o;for(let s=n.length-1;s>=0;s--,r--){let o,a=n[s].spec.bidiIsolate;if(null!=a)if(r>0&&i.length&&(o=i[i.length-1]).to==e&&o.direction==a)o.to=t,i=o.inner;else{let n={from:e,to:t,direction:a,inner:[]};i.push(n),i=n.inner}}}}),o}const Xe=r.r$.define();function qe(e){let t=0,n=0,r=0,i=0;for(let s of e.state.facet(Xe)){let o=s(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(n=Math.max(n,o.right)),null!=o.top&&(r=Math.max(r,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:t,right:n,top:r,bottom:i}}const je=r.r$.define();class Ne{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Ne(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,i=0,s=0,o=0;;r++){let a=r==e.length?null:e[r],l=s-o,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],r=t[i+1],s=Math.max(o,e),a=Math.min(c,r);if(s<=a&&new Ne(s+l,a+l,s,a).addToSet(n),r>c)break;i+=2}if(!a)return n;new Ne(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),s=a.toA,o=a.toB}}}class We{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=r.as.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let i=[];this.changes.iterChangedRanges(((e,t,n,r)=>i.push(new Ne(e,t,n,r)))),this.changedRanges=i}static create(e,t,n){return new We(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var Ue=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Ue||(Ue={}));const Ve=Ue.LTR,Ge=Ue.RTL;function He(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const Fe=He("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Je=He("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ke=Object.create(null),et=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);Ke[t]=n,Ke[n]=-t}const tt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class nt{get dir(){return this.level%2?Ge:Ve}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,n,r){let i=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=t&&o.to>=t){if(o.level==n)return s;(i<0||(0!=r?r<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function rt(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!rt(r.inner,i.inner))return!1}return!0}const it=[];function st(e,t,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=t,c=0;l<n;){let t=!0,h=!1;if(c==s.length||l<s[c].from){let e=it[l];e!=a&&(t=!1,h=16==e)}let u=t||1!=a?null:[],d=t?r:r+1,p=l;e:for(;;)if(c<s.length&&p==s[c].from){if(h)break e;let m=s[c];if(!t)for(let e=m.to,t=c+1;;){if(e==n)break e;if(!(t<s.length&&s[t].from==e)){if(it[e]==a)break e;break}e=s[t++].to}c++,u?u.push(m):(m.from>l&&o.push(new nt(l,m.from,d)),ot(e,m.direction==Ve!=!(d%2)?r+1:r,i,m.inner,m.from,m.to,o),l=m.to),p=m.to}else{if(p==n||(t?it[p]!=a:it[p]==a))break;p++}u?st(e,l,p,r+1,i,u,o):l<p&&o.push(new nt(l,p,d)),l=p}else for(let l=n,c=s.length;l>t;){let n=!0,h=!1;if(!c||l>s[c-1].to){let e=it[l-1];e!=a&&(n=!1,h=16==e)}let u=n||1!=a?null:[],d=n?r:r+1,p=l;e:for(;;)if(c&&p==s[c-1].to){if(h)break e;let m=s[--c];if(!n)for(let e=m.from,n=c;;){if(e==t)break e;if(!n||s[n-1].to!=e){if(it[e-1]==a)break e;break}e=s[--n].from}u?u.push(m):(m.to<l&&o.push(new nt(m.to,l,d)),ot(e,m.direction==Ve!=!(d%2)?r+1:r,i,m.inner,m.from,m.to,o),l=m.from),p=m.from}else{if(p==t||(n?it[p-1]!=a:it[p-1]==a))break;p--}u?st(e,p,l,r+1,i,u,o):p<l&&o.push(new nt(p,l,d)),l=p}}function ot(e,t,n,r,i,s,o){let a=t%2?2:1;!function(e,t,n,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:t,l=o<r.length?r[o].from:n,c=o?256:i;for(let t=a,n=c,r=c;t<l;t++){let i=(s=e.charCodeAt(t))<=247?Fe[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?Je[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8203?256:64336<=s&&s<=65023?4:8204==s?256:1;512==i?i=n:8==i&&4==r&&(i=16),it[t]=4==i?2:i,7&i&&(r=i),n=i}for(let e=a,t=c,r=c;e<l;e++){let i=it[e];if(128==i)e<l-1&&t==it[e+1]&&24&t?i=it[e]=t:it[e]=256;else if(64==i){let i=e+1;for(;i<l&&64==it[i];)i++;let s=e&&8==t||i<n&&8==it[i]?1==r?1:8:256;for(let t=e;t<i;t++)it[t]=s;e=i-1}else 8==i&&1==r&&(it[e]=1);t=i,7&i&&(r=i)}}var s}(e,i,s,r,a),function(e,t,n,r,i){let s=1==i?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:t,h=o<r.length?r[o].from:n;for(let t,n,r,o=c;o<h;o++)if(n=Ke[t=e.charCodeAt(o)])if(n<0){for(let e=a-3;e>=0;e-=3)if(et[e+1]==-n){let t=et[e+2],n=2&t?i:4&t?1&t?s:i:0;n&&(it[o]=it[et[e]]=n),a=e;break}}else{if(189==et.length)break;et[a++]=o,et[a++]=t,et[a++]=l}else if(2==(r=it[o])||1==r){let e=r==i;l=e?0:1;for(let t=a-3;t>=0;t-=3){let n=et[t+2];if(2&n)break;if(e)et[t+2]|=2;else{if(4&n)break;et[t+2]|=4}}}}}(e,i,s,r,a),function(e,t,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=o;l<a;){let o=it[l];if(256==o){let o=l+1;for(;;)if(o==a){if(i==n.length)break;o=n[i++].to,a=i<n.length?n[i].from:t}else{if(256!=it[o])break;o++}let c=1==s,h=c==(1==(o<t?it[o]:r))?c?1:2:r;for(let t=o,r=i,s=r?n[r-1].to:e;t>l;)t==s&&(t=n[--r].from,s=r?n[r-1].to:e),it[--t]=h;l=o}else s=o,l++}}}(i,s,r,a),st(e,i,s,t,n,r,o)}function at(e){return[new nt(0,e,0)]}let lt="";function ct(e,t,n,i,s){var o;let a=i.head-e.from,l=-1;if(0==a){if(!s||!e.length)return null;t[0].level!=n&&(a=t[0].side(!1,n),l=0)}else if(a==e.length){if(s)return null;let e=t[t.length-1];e.level!=n&&(a=e.side(!0,n),l=t.length-1)}l<0&&(l=nt.find(t,a,null!==(o=i.bidiLevel)&&void 0!==o?o:-1,i.assoc));let c=t[l];a==c.side(s,n)&&(c=t[l+=s?1:-1],a=c.side(!s,n));let h=s==(c.dir==n),u=(0,r.cp)(e.text,a,h);if(lt=e.text.slice(Math.min(a,u),Math.max(a,u)),u!=c.side(s,n))return r.jT.cursor(u+e.from,h?-1:1,c.level);let d=l==(s?t.length-1:0)?null:t[l+(s?1:-1)];return d||c.level==n?d&&d.level<c.level?r.jT.cursor(d.side(!s,n)+e.from,s?1:-1,d.level):r.jT.cursor(u+e.from,s?-1:1,c.level):r.jT.cursor(s?e.to:e.from,s?-1:1,n)}class ht extends M{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new oe],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ne(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?i=this.domChanged.newSel.head:function(e,t){let n=!1;return t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(n=!0)})),n}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));let s=i>-1?function(e,t,n){let r=dt(e,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new Ne(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let t=i.parentNode;;t=t.parentNode){let n=M.get(t);if(n instanceof G)h.push({node:t,deco:n.mark});else{if(n instanceof oe||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:i,marks:h,line:t};if(t==e.contentDOM)return null;h.push({node:t,deco:new ue({inclusive:!0,attributes:se(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new Ne(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(U.ie||U.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,n){let i=new mt;return r.Xs.compare(e,t,n,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return n=Ne.extendWithRanges(n,o),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=U.chrome||U.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof ae&&e.widget instanceof ut&&i.push(e.dom);r.updateGaps(i)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let s,o,a,l,{fromA:c,toA:h,fromB:u,toB:d}=t;if(n&&n.range.fromB<d&&n.range.toB>u){let e=ge.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=ge.build(this.view.state.doc,n.range.toB,d,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,a=e.openStart,l=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),s=e.content.concat(r).concat(t.content)}else({content:s,breakAtStart:o,openStart:a,openEnd:l}=ge.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:p,off:m}=i.findPos(h,1),{i:f,off:g}=i.findPos(c,-1);Z(this,f,g,p,m,s,o,a,l)}n&&this.fixCompositionDOM(n)}compositionView(e){let t=new V(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new G(n,[t],t.length);let n=new oe;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=M.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let i=e.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],t(i>=0?e.marks[i].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&p(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||i))return;let s=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(o.anchor)),l=o.empty?a:this.moveToLine(this.domAtPos(o.head));if(U.gecko&&o.empty&&!this.hasComposition&&1==(c=a).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>a.node.insertBefore(e,a.node.childNodes[a.offset]||null))),a=l=new $(e,0),s=!0}var c;let h=this.view.observer.selectionRange;!s&&h.focusNode&&f(a.node,a.offset,h.anchorNode,h.anchorOffset)&&f(l.node,l.offset,h.focusNode,h.focusOffset)||(this.view.observer.ignore((()=>{U.android&&U.chrome&&this.dom.contains(h.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=u(this.view.root);if(e)if(o.empty){if(U.gecko){let e=(t=a.node,r=a.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=pt(a.node,a.offset,1==e?1:-1);t&&(a=new $(t.node,t.offset))}}e.collapse(a.node,a.offset),null!=o.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=o.bidiLevel)}else if(e.extend){e.collapse(a.node,a.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();o.anchor>o.head&&([a,l]=[l,a]),t.setEnd(l.node,l.offset),t.setStart(a.node,a.offset),e.removeAllRanges(),e.addRange(t)}var t,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(a,l)),this.impreciseAnchor=a.precise?null:new $(h.anchorNode,h.anchorOffset),this.impreciseHead=l.precise?null:new $(h.focusNode,h.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=u(e.root),{anchorNode:r,anchorOffset:i}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let s=oe.find(this,t.head);if(!s)return;let o=s.posAtStart;if(t.head==o||t.head==o+s.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&n.collapse(r,i)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=M.get(n.childNodes[r]);e instanceof oe&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=M.get(n.childNodes[r]);e instanceof oe&&(t=e.domAtPos(e.length))}return t?new $(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=M.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof oe)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],a=i-o.breakAfter,l=a-o.length;if(a<e)break;l<=e&&(l<e||o.covers(-1))&&(a>e||o.covers(1))&&(!n||o instanceof oe&&!(n instanceof oe&&t>=0))&&(n=o,r=l),i=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof oe))return null;for(;i.children.length;){let{i:e,off:t}=i.childPos(n,1);for(;;e++){if(e==i.children.length)return null;if((i=i.children[e]).length)break}n=t}if(!(i instanceof V))return null;let s=(0,r.cp)(i.text,n);if(s==n)return null;let o=_(i.dom,n,s).getClientRects();for(let e=0;e<o.length;e++){let t=o[e];if(e==o.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ue.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],h=e+c.length;if(h>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),s){let t=c.dom.lastChild,r=t?m(t):[];if(r.length){let t=r[r.length-1],s=a?t.right-n.left:n.right-t.left;s>o&&(o=s,this.minWidth=i,this.minWidthFrom=e,this.minWidthTo=h)}}}e=h+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Ue.RTL:Ue.LTR}measureTextSize(){for(let e of this.children)if(e instanceof oe){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=m(r.firstChild)[0];e=r.getBoundingClientRect().height,t=i?i.width/27:7,n=i?i.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new E(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let i=r==t.viewports.length?null:t.viewports[r],s=i?i.from-1:this.length;if(s>n){let r=(t.lineBlockAt(s).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(he.replace({widget:new ut(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!i)break;n=i.to+1}return he.set(e)}updateDeco(){let e=this.view.state.facet(ze).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let i=qe(this.view),s={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(e,t,n,r,i,s,o,a){let l=e.ownerDocument,c=l.defaultView||window;for(let h=e,u=!1;h&&!u;)if(1==h.nodeType){let e,d=h==l.body,p=1,m=1;if(d)e=y(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let t=h.getBoundingClientRect();p=t.width/h.offsetWidth,m=t.height/h.offsetHeight,e={left:t.left,right:t.left+h.clientWidth*p,top:t.top,bottom:t.top+h.clientHeight*m}}let f=0,g=0;if("nearest"==i)t.top<e.top?(g=-(e.top-t.top+o),n>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+g+o)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+o,n<0&&t.top-g<e.top&&(g=-(e.top+g-t.top+o)));else{let r=t.bottom-t.top,s=e.bottom-e.top;g=("center"==i&&r<=s?t.top+r/2-s/2:"start"==i||"center"==i&&n<0?t.top-o:t.bottom-s+o)-e.top}if("nearest"==r?t.left<e.left?(f=-(e.left-t.left+s),n>0&&t.right>e.right+f&&(f=t.right-e.right+f+s)):t.right>e.right&&(f=t.right-e.right+s,n<0&&t.left<e.left+f&&(f=-(e.left+f-t.left+s))):f=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==a?t.left-s:t.right-(e.right-e.left)+s)-e.left,f||g)if(d)c.scrollBy(f,g);else{let e=0,n=0;if(g){let e=h.scrollTop;h.scrollTop+=g/m,n=(h.scrollTop-e)*m}if(f){let t=h.scrollLeft;h.scrollLeft+=f/p,e=(h.scrollLeft-t)*p}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-f)<1&&(r="nearest"),n&&Math.abs(n-g)<1&&(i="nearest")}if(d)break;h=h.assignedSlot||h.parentNode}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ue.LTR)}}class ut extends le{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function dt(e,t){let n=e.observer.selectionRange,r=n.focusNode&&pt(n.focusNode,n.focusOffset,0);if(!r)return null;let i=t-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function pt(e,t,n){if(n<=0)for(let n=e,r=t;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r>0))break;n=n.childNodes[r-1],r=v(n)}if(n>=0)for(let r=e,i=t;;){if(3==r.nodeType)return{node:r,offset:i};if(!(1==r.nodeType&&i<r.childNodes.length&&n>=0))break;r=r.childNodes[i],i=0}return null}let mt=class{constructor(){this.changes=[]}compareRange(e,t){fe(e,t,this.changes)}comparePoint(e,t){fe(e,t,this.changes)}};function ft(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function gt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Ot(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function vt(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function bt(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function yt(e,t,n){let r,i,s,o,a,l,c,h,u=!1;for(let d=e.firstChild;d;d=d.nextSibling){let e=m(d);for(let p=0;p<e.length;p++){let m=e[p];i&&Ot(i,m)&&(m=vt(bt(m,i.bottom),i.top));let f=ft(t,m),g=gt(n,m);if(0==f&&0==g)return 3==d.nodeType?wt(d,t,n):yt(d,t,n);if(!r||o>g||o==g&&s>f){r=d,i=m,s=f,o=g;let a=g?n<m.top?-1:1:f?t<m.left?-1:1:0;u=!a||(a>0?p<e.length-1:p>0)}0==f?n>m.bottom&&(!c||c.bottom<m.bottom)?(a=d,c=m):n<m.top&&(!h||h.top>m.top)&&(l=d,h=m):c&&Ot(c,m)?c=bt(c,m.bottom):h&&Ot(h,m)&&(h=vt(h,m.top))}}if(c&&c.bottom>=n?(r=a,i=c):h&&h.top<=n&&(r=l,i=h),!r)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?wt(r,d,n):u&&"false"!=r.contentEditable?yt(r,d,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function wt(e,t,n){let r=e.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let r=_(e,a,a+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;o||(o=t-c.left);let h=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<s){let n=t>=(c.left+c.right)/2,r=n;if((U.chrome||U.gecko)&&_(e,a).getBoundingClientRect().left==c.right&&(r=!n),h<=0)return{node:e,offset:a+(r?1:0)};i=a+(r?1:0),s=h}}}return{node:e,offset:i>-1?i:o>0?e.nodeValue.length:0}}function xt(e,t,n,r=-1){var i,s;let o,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:h,y:u}=t,d=u-l;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,i=!1;o=e.elementAtHeight(d),o.type!=ce.Text;)for(;d=r>0?o.bottom+t:o.top-t,!(d>=0&&d<=c);){if(i)return n?null:0;i=!0,r=-r}u=l+d;let p=o.from;if(p<e.viewport.from)return 0==e.viewport.from?0:n?null:kt(e,a,o,h,u);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:kt(e,a,o,h,u);let m=e.dom.ownerDocument,f=e.root.elementFromPoint?e.root:m,g=f.elementFromPoint(h,u);g&&!e.contentDOM.contains(g)&&(g=null),g||(h=Math.max(a.left+1,Math.min(a.right-1,h)),g=f.elementFromPoint(h,u),g&&!e.contentDOM.contains(g)&&(g=null));let O,v=-1;if(g&&0!=(null===(i=e.docView.nearest(g))||void 0===i?void 0:i.isEditable))if(m.caretPositionFromPoint){let e=m.caretPositionFromPoint(h,u);e&&({offsetNode:O,offset:v}=e)}else if(m.caretRangeFromPoint){let t=m.caretRangeFromPoint(h,u);t&&(({startContainer:O,startOffset:v}=t),(!e.contentDOM.contains(O)||U.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return _(e,r-1,r).getBoundingClientRect().left>n}(O,v,h)||U.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return n-(1==e.nodeType?e.getBoundingClientRect():_(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(O,v,h))&&(O=void 0))}if(!O||!e.docView.dom.contains(O)){let t=oe.find(e.docView,p);if(!t)return d>o.top+o.height/2?o.to:o.from;({node:O,offset:v}=yt(t.dom,h,u))}let b=e.docView.nearest(O);if(!b)return null;if(b.isWidget&&1==(null===(s=b.dom)||void 0===s?void 0:s.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(O,v)+b.posAtStart}function kt(e,t,n,i,s){let o=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((s-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+(0,r.Gz)(a,o,e.state.tabSize)}function St(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type))for(let e of n.type)if(e.to>t||e.to==t&&(e.to==n.to||e.type==ce.Text))return e;return n}function _t(e,t,n,i){let s=e.state.doc.lineAt(t.head),o=e.bidiSpans(s),a=e.textDirectionAt(s.from);for(let l=t,c=null;;){let t=ct(s,o,a,l,n),h=lt;if(!t){if(s.number==(n?e.state.doc.lines:1))return l;h="\n",s=e.state.doc.line(s.number+(n?1:-1)),o=e.bidiSpans(s),t=r.jT.cursor(n?s.from:s.to)}if(c){if(!c(h))return l}else{if(!i)return t;c=i(h)}l=t}}function At(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,((e,i,s)=>{if(t>e&&t<i){let s=r||n||(t-e<i-t?-1:1);t=s<0?e:i,r=s}}));if(!r)return t}}function Ct(e,t,n){let i=At(e.state.facet(Ye).map((t=>t(e))),n.from,t.head>n.from?-1:1);return i==n.from?n:r.jT.cursor(i,i<n.from?1:-1)}class Qt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,U.safari&&e.contentDOM.addEventListener("input",(()=>null)),U.gecko&&function(e){tn.has(e)||(tn.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=M.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Tt(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let i=!t[e].handlers.length,s=n[e];s&&i!=!s.handlers.length&&(r.removeEventListener(e,this.handleEvent),s=null),s||r.addEventListener(e,this.handleEvent,{passive:i})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=e.keyCode&&Et.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),U.android&&U.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!U.ios||e.synthetic||e.altKey||e.metaKey||!((t=Mt.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||Pt.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(){let e=this.pendingIOSKey;return!!e&&(this.pendingIOSKey=void 0,A(this.view.contentDOM,e.key,e.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(U.safari&&!U.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function $t(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){Te(n.state,e)}}}function Tt(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let r in e.domEventHandlers){let i=e.domEventHandlers[r];i&&n(r).handlers.push($t(t.value,i))}if(e&&e.domEventObservers)for(let r in e.domEventObservers){let i=e.domEventObservers[r];i&&n(r).observers.push($t(t.value,i))}}for(let e in It)n(e).handlers.push(It[e]);for(let e in Rt)n(e).observers.push(Rt[e]);return t}const Mt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Pt="dthko",Et=[16,17,18,20,91,92,224,225];function Zt(e){return.7*Math.max(0,e)+8}class Bt{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(e.contentDOM),this.atoms=e.state.facet(Ye).map((t=>t(e)));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(r.yy.allowMultipleSelections)&&function(e,t){let n=e.state.facet(be);return n.length?n[0](t):U.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=u(e.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let e=0;e<i.length;e++){let n=i[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=Gt(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){var t,n,r;if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(n=this.startEvent,r=e,Math.max(Math.abs(n.clientX-r.clientX),Math.abs(n.clientY-r.clientY))<10))return;this.select(this.lastEvent=e);let i=0,s=0,o=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=qe(this.view);e.clientX-a.left<=o.left+6?i=-Zt(o.left-e.clientX):e.clientX+a.right>=o.right-6&&(i=Zt(e.clientX-o.right)),e.clientY-a.top<=o.top+6?s=-Zt(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-6&&(s=Zt(e.clientY-o.bottom)),this.setScrollSpeed(i,s)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let e=At(this.atoms,i.from,0);e!=i.from&&(s=r.jT.cursor(e,-1))}else{let e=At(this.atoms,i.from,-1),t=At(this.atoms,i.to,1);e==i.from&&t==i.to||(s=r.jT.range(i.from==i.anchor?e:t,i.from==i.head?e:t))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?r.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection)||n.main.assoc!=t.state.selection.main.assoc&&!1===this.dragging)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const It=Object.create(null),Rt=Object.create(null),zt=U.ie&&U.ie_version<15||U.ios&&U.webkit_version<604;function Yt(e,t){let n,{state:i}=e,s=1,o=i.toText(t),a=o.lines==i.selection.ranges.length;if(null!=Ft&&i.selection.ranges.every((e=>e.empty))&&Ft==o.toString()){let e=-1;n=i.changeByRange((n=>{let l=i.doc.lineAt(n.from);if(l.from==e)return{range:n};e=l.from;let c=i.toText((a?o.line(s++).text:t)+i.lineBreak);return{changes:{from:l.from,insert:c},range:r.jT.cursor(n.from+c.length)}}))}else n=a?i.changeByRange((e=>{let t=o.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:r.jT.cursor(e.from+t.length)}})):i.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Lt(e,t,n,i){if(1==i)return r.jT.cursor(t,n);if(2==i)return function(e,t,n=1){let i=e.charCategorizer(t),s=e.doc.lineAt(t),o=t-s.from;if(0==s.length)return r.jT.cursor(t);0==o?n=1:o==s.length&&(n=-1);let a=o,l=o;n<0?a=(0,r.cp)(s.text,o,!1):l=(0,r.cp)(s.text,o);let c=i(s.text.slice(a,l));for(;a>0;){let e=(0,r.cp)(s.text,a,!1);if(i(s.text.slice(e,a))!=c)break;a=e}for(;l<s.length;){let e=(0,r.cp)(s.text,l);if(i(s.text.slice(l,e))!=c)break;l=e}return r.jT.range(a+s.from,l+s.from)}(e.state,t,n);{let n=oe.find(e.docView,t),i=e.state.doc.lineAt(n?n.posAtEnd:t),s=n?n.posAtStart:i.from,o=n?n.posAtEnd:i.to;return o<e.state.doc.length&&o==i.to&&o++,r.jT.range(s,o)}}Rt.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},It.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&(e.inputState.lastEscPress=Date.now()),!1),Rt.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},Rt.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},It.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(we))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=jt(e,t),i=Gt(t),s=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),s=s.map(e.changes))},get(t,o,a){let l,c=jt(e,t),h=Lt(e,c.pos,c.bias,i);if(n.pos!=c.pos&&!o){let t=Lt(e,n.pos,n.bias,i),s=Math.min(t.from,h.from),o=Math.max(t.to,h.to);h=s<h.from?r.jT.range(s,o):r.jT.range(o,s)}return o?s.replaceRange(s.main.extend(h.from,h.to)):a&&1==i&&s.ranges.length>1&&(l=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:i,to:s}=e.ranges[n];if(i<=t&&s>=t)return r.jT.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(s,c.pos))?l:a?s.addRange(h):r.jT.create([h])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new Bt(e,t,n,r)),r&&e.observer.ignore((()=>S(e.contentDOM)));let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}return!1};let Dt=(e,t)=>e>=t.top&&e<=t.bottom,Xt=(e,t,n)=>Dt(t,n)&&e>=n.left&&e<=n.right;function qt(e,t,n,r){let i=oe.find(e.docView,t);if(!i)return 1;let s=t-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Xt(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&Xt(n,r,a)?1:o&&Dt(r,o)?-1:1}function jt(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:qt(e,n,t.clientX,t.clientY)}}const Nt=U.ie&&U.ie_version<=11;let Wt=null,Ut=0,Vt=0;function Gt(e){if(!Nt)return e.detail;let t=Wt,n=Vt;return Wt=e,Vt=Date.now(),Ut=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Ut+1)%3:1}function Ht(e,t,n,r){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=e.inputState,o=r&&s&&function(e,t){let n=e.state.facet(ye);return n.length?n[0](t):U.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=e.state.changes(o?[o,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}It.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.nearest(t.target);if(i&&i.isWidget){let e=i.posAtStart,t=e+i.length;(e>=n.to||t<=n.from)&&(n=r.jT.range(e,t))}}let{inputState:i}=e;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1},It.dragend=e=>(e.inputState.draggedContent=null,!1),It.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&Ht(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=s,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),s()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return Ht(e,t,n,!0),!0}return!1},It.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=zt?null:t.clipboardData;return n?(Yt(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),Yt(e,n.value)}),50)}(e),!1)};let Ft=null;It.copy=It.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let i=-1;for(let{from:r}of e.selection.ranges){let s=e.doc.lineAt(r);s.number>i&&(t.push(s.text),n.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),i=s.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}(e.state);if(!n&&!i)return!1;Ft=i?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=zt?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),!1)};const Jt=r.q6.define();function Kt(e,t){let n=[];for(let r of e.facet(_e)){let i=r(e,t);i&&n.push(i)}return n?e.update({effects:n,annotations:Jt.of(!0)}):null}function en(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=Kt(e.state,t);n?e.dispatch(n):e.update([])}}),10)}Rt.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),en(e)},Rt.blur=e=>{e.observer.clearSelectionRange(),en(e)},Rt.compositionstart=Rt.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},Rt.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,U.chrome&&U.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50)},Rt.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},It.beforeinput=(e,t)=>{var n;let r;if(U.chrome&&U.android&&(r=Mt.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return!1};const tn=new Set,nn=["pre-wrap","normal","pre-line","break-spaces"];class rn{constructor(e){this.lineWrapping=e,this.doc=r.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return nn.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,i,s){let o=nn.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<s.length;e++){let t=s[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class sn{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class on{constructor(e,t,n,r,i){this.from=e,this.length=t,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?ce.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof pe?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new on(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var an=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(an||(an={}));const ln=.001;class cn{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>ln&&(e.heightChanged=!0),this.height=t)}replace(e,t,n){return cn.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let i=this,s=n.doc;for(let o=r.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:c,toB:h}=r[o],u=i.lineAt(a,an.ByPosNoHeight,n.setDoc(t),0,0),d=u.to>=l?u:i.lineAt(l,an.ByPosNoHeight,n,0,0);for(h+=d.to-l,l=d.to;o>0&&u.from<=r[o-1].toA;)a=r[o-1].fromA,c=r[o-1].fromB,o--,a<u.from&&(u=i.lineAt(a,an.ByPosNoHeight,n,0,0));c+=u.from-a,a=u.from;let p=fn.build(n.setDoc(s),e,c,h);i=i.replace(a,l,p)}return i.updateHeight(n,0)}static empty(){return new un(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,i=0;for(;;)if(t==n)if(r>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,i-=t.size}}else if(r<i){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(i+=t.size)}let s=0;return null==e[t-1]?(s=1,t--):null==e[t]&&(s=1,n++),new pn(cn.of(e.slice(0,t)),s,cn.of(e.slice(n)))}}cn.prototype.size=1;class hn extends cn{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new on(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(e,t,n,r,i,s){e<=i+this.length&&t>=i&&s(this.blockAt(0,n,r,i))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class un extends hn{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new on(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof un||r instanceof dn&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof dn?r=new un(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):cn.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dn extends cn{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*s);n=t/s,this.length>s+1&&(o=(this.height-t)/(this.length-s-1))}else n=this.height/s;return{firstLine:r,lastLine:i,perLine:n,perChar:o}}blockAt(e,t,n,r){let{firstLine:i,lastLine:s,perLine:o,perChar:a}=this.heightMetrics(t,r);if(t.lineWrapping){let i=r+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),s=t.doc.lineAt(i),l=o+s.length*a,c=Math.max(n,e-l/2);return new on(s.from,s.length,c,l,0)}{let r=Math.max(0,Math.min(s-i,Math.floor((e-n)/o))),{from:a,length:l}=t.doc.line(i+r);return new on(a,l,n+o*r,o,0)}}lineAt(e,t,n,r,i){if(t==an.ByHeight)return this.blockAt(e,n,r,i);if(t==an.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new on(t,r-t,0,0,0)}let{firstLine:s,perLine:o,perChar:a}=this.heightMetrics(n,i),l=n.doc.lineAt(e),c=o+l.length*a,h=l.number-s,u=r+o*h+a*(l.from-i-h);return new on(l.from,l.length,Math.max(r,Math.min(u,r+this.height-c)),c,0)}forEachLine(e,t,n,r,i,s){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);for(let c=e,h=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-o;h+=a*n+l*(e-i-n)}let r=a+l*t.length;s(new on(t.from,t.length,h,r,0)),h+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof dn?n[n.length-1]=new dn(e.length+r):n.push(null,new dn(r-1))}if(e>0){let t=n[0];t instanceof dn?n[0]=new dn(e+t.length):n.unshift(new dn(e-1),null)}return cn.of(n)}decomposeLeft(e,t){t.push(new dn(e-1),null)}decomposeRight(e,t){t.push(null,new dn(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let i=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],s=Math.max(t,r.from),o=-1;for(r.from>t&&n.push(new dn(r.from-t-1).updateHeight(e,t));s<=i&&r.more;){let t=e.doc.lineAt(s).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==o?o=i:Math.abs(i-o)>=ln&&(o=-2);let a=new un(t,i);a.outdated=!1,n.push(a),s+=t+1}s<=i&&n.push(null,new dn(i-s).updateHeight(e,s));let a=cn.of(n);return(o<0||Math.abs(a.height-this.height)>=ln||Math.abs(o-this.heightMetrics(e,t).perLine)>=ln)&&(e.heightChanged=!0),a}return(n||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class pn extends cn{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}lineAt(e,t,n,r,i){let s=r+this.left.height,o=i+this.left.length+this.break,a=t==an.ByHeight?e<s:e<o,l=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let c=t==an.ByPosNoHeight?an.ByPosNoHeight:an.ByPos;return a?l.join(this.right.lineAt(o,c,n,s,o)):this.left.lineAt(o,c,n,r,i).join(l)}forEachLine(e,t,n,r,i,s){let o=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,s),t>=a&&this.right.forEachLine(e,t,n,o,a,s);else{let l=this.lineAt(a,an.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,s),l.to>=e&&l.from<=t&&s(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,o,a,s)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let i=[];e>0&&this.decomposeLeft(e,i);let s=i.length;for(let e of n)i.push(e);if(e>0&&mn(i,s-1),t<this.length){let e=i.length;this.decomposeRight(t,i),mn(i,e)}return cn.of(i)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?cn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:i,right:s}=this,o=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=o+s.length&&r.more?a=s=s.updateHeight(e,o,n,r):s.updateHeight(e,o,n),a?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mn(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof dn&&(r=e[t+1])instanceof dn&&e.splice(t-1,3,new dn(n.length+1+r.length))}class fn{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof un?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new un(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;n.block?this.addBlock(new hn(s,r,n)):(s||i||r>=5)&&this.addLineDeco(r,i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new un(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new dn(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof un)return e;let t=new un(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof un||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new un(0,-1));let n=e;for(let e of this.nodes)e instanceof un&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,i){let s=new fn(n,e);return r.Xs.spans(t,n,i,s,0),s.finish(n)}}class gn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&fe(e,t,this.changes,5)}}function On(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),a=Math.max(a,r.top),l=t==e.parentNode?r.bottom:Math.min(l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function vn(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class bn{constructor(e,t,n){this.from=e,this.to=t,this.size=n}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(e,t){return he.replace({widget:new yn(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class yn extends le{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wn{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=An,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ue.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Re).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new rn(t),this.stateDeco=e.facet(ze).filter((e=>"function"!=typeof e)),this.heightMap=cn.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle.setDoc(e.doc),[new Ne(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=he.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new xn(t,n))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?An:new Cn(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Qn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ze).filter((e=>"function"!=typeof e));let i=e.changedRanges,s=Ne.extendWithRanges(i,function(e,t,n){let i=new gn;return r.Xs.compare(e,t,n,i,0),i.changes}(n,this.stateDeco,e?e.changes:r.as.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||2&e.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ce)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Ue.RTL:Ue.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let e=a.width/t.offsetWidth,n=a.height/t.offsetHeight;(e>.995&&e<1.005||!isFinite(e)||Math.abs(a.width-t.offsetWidth)<1)&&(e=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(a.height-t.offsetHeight)<1)&&(n=1),this.scaleX==e&&this.scaleY==n||(this.scaleX=e,this.scaleY=n,c|=8,o=l=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Q(e.scrollDOM);let m=(this.printing?vn:On)(t,this.paddingTop),f=m.top-this.pixelViewport.top,g=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let v=a.width;if(this.contentDOMWidth==v&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let t=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(t)&&(o=!0),o||i.lineWrapping&&Math.abs(v-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:a}=e.docView.measureTextSize();o=n>0&&i.refresh(s,n,r,a,v/r,t),o&&(e.docView.minWidth=0,c|=8)}f>0&&g>0?h=Math.max(f,g):f<0&&g<0&&(h=Math.min(f,g)),i.heightChanged=!1;for(let n of this.viewports){let s=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(o?cn.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle,[new Ne(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new sn(n.from,s))}i.heightChanged&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(2&c||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,a=new xn(r.lineAt(s-1e3*n,an.ByHeight,i,0,0).from,r.lineAt(o+1e3*(1-n),an.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let n,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=r.lineAt(e,an.ByPos,i,0,0);n="center"==t.y?(o.top+o.bottom)/2-s/2:"start"==t.y||"nearest"==t.y&&e<a.from?o.top:o.bottom-s,a=new xn(r.lineAt(n-500,an.ByHeight,i,0,0).from,r.lineAt(n+s+500,an.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new xn(this.heightMap.lineAt(n,an.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,an.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,an.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(t,an.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(0==e||r<=s-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||i>=o+Math.max(10,Math.min(n,250)))&&r>s-2e3&&i<o+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new bn(t.mapPos(r.from),t.mapPos(r.to),r.size));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Ue.LTR&&!n)return[];let a=[],l=(i,o,c,h)=>{if(o-i<s)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>i&&e<o)return l(i,e-10,c,h),void l(e+10,o,c,h);let p=function(e,t){for(let n of e)if(t(n))return n}(e,(e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-i)<s&&Math.abs(e.to-o)<s&&!d.some((t=>e.from<t&&e.to>t))));if(!p){if(o<c.to&&t&&n&&t.visibleRanges.some((e=>e.from<=o&&e.to>=o))){let e=t.moveToLineBoundary(r.jT.cursor(o),!1,!0).head;e>i&&(o=e)}p=new bn(i,o,this.gapSize(c,i,o,h))}a.push(p)};for(let e of this.viewportLines){if(e.length<o)continue;let t=kn(e.from,e.to,this.stateDeco);if(t.total<o)continue;let r,s,a=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,o,l=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=a){let r=_n(t,a),i=((this.visibleBottom-this.visibleTop)/2+l)/e.height;n=r-i,o=r+i}else n=(this.visibleTop-e.top-l)/e.height,o=(this.visibleBottom-e.top+l)/e.height;r=Sn(t,n),s=Sn(t,o)}else{let e,n,o=t.total*this.heightOracle.charWidth,l=i*this.heightOracle.charWidth;if(null!=a){let r=_n(t,a),i=((this.pixelViewport.right-this.pixelViewport.left)/2+l)/o;e=r-i,n=r+i}else e=(this.pixelViewport.left-l)/o,n=(this.pixelViewport.right+l)/o;r=Sn(t,e),s=Sn(t,n)}r>e.from&&l(e.from,r,e,t),s<e.to&&l(s,e.to,e,t)}return a}gapSize(e,t,n,r){let i=_n(r,n)-_n(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(e){bn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=he.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];r.Xs.spans(e,this.viewport.from,this.viewport.to,{span(e,n){t.push({from:e,to:n})},point(){}},20);let n=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,n)=>e.from!=t[n].from||e.to!=t[n].to));return this.visibleRanges=t,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Qn(this.heightMap.lineAt(e,an.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Qn(this.heightMap.lineAt(this.scaler.fromDOM(e),an.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Qn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class xn{constructor(e,t){this.from=e,this.to=t}}function kn(e,t,n){let i=[],s=e,o=0;return r.Xs.spans(n,e,t,{span(){},point(e,t){e>s&&(i.push({from:s,to:e}),o+=e-s),s=t}},20),s<t&&(i.push({from:s,to:t}),o+=t-s),{total:o,ranges:i}}function Sn({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:i}=t[e],s=i-n;if(r<=s)return n+r;r-=s}}function _n(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}const An={toDOM:e=>e,fromDOM:e=>e,scale:1};class Cn{constructor(e,t,n){let r=0,i=0,s=0;this.viewports=n.map((({from:n,to:i})=>{let s=t.lineAt(n,an.ByPos,e,0,0).top,o=t.lineAt(i,an.ByPos,e,0,0).bottom;return r+=o-s,{from:n,to:i,top:s,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=s+(e.top-i)*this.scale,s=e.domBottom=e.domTop+(e.bottom-e.top),i=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}function Qn(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new on(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((e=>Qn(e,t))):e._content)}const $n=r.r$.define({combine:e=>e.join(" ")}),Tn=r.r$.define({combine:e=>e.indexOf(!0)>-1}),Mn=i.V.newName(),Pn=i.V.newName(),En=i.V.newName(),Zn={"&light":"."+Pn,"&dark":"."+En};function Bn(e,t,n){return new i.V(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const In=Bn("."+Mn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Zn),Rn="￿";class zn{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(r.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Rn}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==t)break;let s=M.get(r),o=M.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:Ln(r))||Ln(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(i=r.exec(t))&&(s=i.index,o=i[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=M.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Yn(e,n.node,n.offset)?t:0))}}function Yn(e,t,n){for(;;){if(!t||n<v(t))return!1;if(t==e)return!0;n=g(t)+1,t=t.parentNode}}function Ln(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Dn{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Xn{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=s||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=e.observer.selectionRange;return n&&(t.push(new Dn(n,r)),i==n&&s==r||t.push(new Dn(i,s))),t}(e),n=new zn(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,i=2==e.length?e[1].pos:n;return n>-1&&i>-1?r.jT.single(n+t,i+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=s&&s.node==t.focusNode&&s.offset==t.focusOffset||!d(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),i=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!d(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=r.jT.single(i,n)}}}function qn(e,t){let n,{newSel:i}=t,s=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:i,to:a}=t.bounds,l=s.from,c=null;(8===o||U.android&&t.text.length<a-i)&&(l=s.to,c="end");let h=function(e,t,n,r){let i=Math.min(e.length,t.length),s=0;for(;s<i&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==i&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;return"end"==r&&(n-=o+Math.max(0,s-Math.min(o,a))-s),o<s&&e.length<t.length?(s-=n<=s&&n>=o?s-n:0,a=s+(a-o),o=s):a<s&&(s-=n<=s&&n>=a?s-n:0,o=s+(o-a),a=s),{from:s,toA:o,toB:a}}(e.state.doc.sliceString(i,a,Rn),t.text,l-i,c);h&&(U.chrome&&13==o&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==Rn+Rn&&h.toB--,n={from:i+h.from,to:i+h.toA,insert:r.xv.of(t.text.slice(h.from,h.toB).split(Rn))})}else i&&(!e.hasFocus&&e.state.facet(Me)||i.main.eq(s))&&(i=null);if(!n&&!i)return!1;if(!n&&t.typeOver&&!s.empty&&i&&i.main.empty?n={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,s.to))}:(U.mac||U.android)&&n&&n.from==n.to&&n.from==s.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(i&&2==n.insert.length&&(i=r.jT.single(i.main.anchor-1,i.main.head-1)),n={from:s.from,to:s.to,insert:r.xv.of([" "])}):U.chrome&&n&&n.from==n.to&&n.from==s.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(i&&(i=r.jT.single(i.main.anchor-1,i.main.head-1)),n={from:s.from,to:s.to,insert:r.xv.of([" "])}),n){if(U.ios&&e.inputState.flushIOSKey())return!0;if(U.android&&(n.from==s.from&&n.to==s.to&&1==n.insert.length&&2==n.insert.lines&&A(e.contentDOM,"Enter",13)||(n.from==s.from-1&&n.to==s.to&&0==n.insert.length||8==o&&n.insert.length<n.to-n.from&&n.to>s.head)&&A(e.contentDOM,"Backspace",8)||n.from==s.from&&n.to==s.to+1&&0==n.insert.length&&A(e.contentDOM,"Delete",46)))return!0;let t,a=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let l=()=>t||(t=function(e,t,n){let i,s=e.state,o=s.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=o.from<t.from?s.sliceDoc(o.from,t.from):"",r=o.to>t.to?s.sliceDoc(t.to,o.to):"";i=s.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+r))}else{let a=s.changes(t),l=n&&n.main.to<=a.newLength?n.main:void 0;if(s.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c,h=e.state.sliceDoc(t.from,t.to),u=n&&dt(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);c={from:u.from,to:u.to-e}}else c=e.state.doc.lineAt(o.head);let d=o.to-t.to,p=o.to-o.from;i=s.changeByRange((n=>{if(n.from==o.from&&n.to==o.to)return{changes:a,range:l||n.map(a)};let i=n.to-d,u=i-h.length;if(n.to-n.from!=p||e.state.sliceDoc(u,i)!=h||n.to>=c.from&&n.from<=c.to)return{range:n};let m=s.changes({from:u,to:i,insert:t.insert}),f=n.to-o.to;return{changes:m,range:l?r.jT.range(Math.max(0,l.anchor+f),Math.max(0,l.head+f)):n.map(m)}}))}else i={changes:a,selection:l&&s.selection.replaceRange(l)}}let a="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:a,scrollIntoView:!0})}(e,n,i));return e.state.facet(Se).some((t=>t(e,n.from,n.to,a,l)))||e.dispatch(l()),!0}if(i&&!i.main.eq(s)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:n}),!0}return!1}const jn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Nn=U.ie&&U.ie_version<=11;class Wn{constructor(e){this.view=e,this.active=!1,this.selectionRange=new w,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(U.ie&&U.ie_version<=11||U.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Nn&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(Me)?n.root.activeElement!=this.dom:!p(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(U.ie&&U.ie_version<=11||U.android&&U.chrome)&&!n.state.selection.main.empty&&r.focusNode&&f(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=U.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,i=t.startOffset,s=t.endContainer,o=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return f(a.node,a.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}(this.view)||u(e.root);if(!t||this.selectionRange.eq(t))return!1;let n=p(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,v(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=v(n))}else{if(n==e)return!0;r=g(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,jn),Nn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Nn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&A(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&p(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Xn(this.view,e,t,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=qn(this.view,t);return this.view.state==n&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=Un(t,e.previousSibling||e.target.previousSibling,-1),r=Un(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Un(e,t,n){for(;t;){let r=M.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}class Vn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(e=>e.forEach((e=>t(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new wn(e.state||r.yy.create(e)),e.scrollTo&&e.scrollTo.is($e)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ee).map((e=>new Be(e)));for(let e of this.plugins)e.update(this);this.observer=new Wn(this),this.inputState=new Qt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ht(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=1==e.length&&e[0]instanceof r.YW?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,i=!1,s=this.state;for(let t of e){if(t.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=t.state}if(this.destroyed)return void(this.viewState.state=s);let o=this.hasFocus,a=0,l=null;e.some((e=>e.annotation(Jt)))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Kt(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(r.yy.phrases)!=this.state.facet(r.yy.phrases))return this.setState(s);t=We.create(this,s,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new Qe(e.empty?e:r.jT.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is($e)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=Fn.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(je)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet($n)!=t.state.facet($n)&&(this.viewState.mustMeasureContent=!0),(n||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(ke))try{e(t)}catch(e){Te(this.state,e,"update listener")}(l||h)&&Promise.resolve().then((()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!qn(this,h)&&c.force&&A(this.contentDOM,c.key,c.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new wn(e),this.plugins=e.facet(Ee).map((e=>new Be(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new ht(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ee),n=e.state.facet(Ee);if(t!=n){let r=[];for(let i of n){let n=t.indexOf(i);if(n<0)r.push(new Be(i));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(s<0)if(Q(n))i=-1,s=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);i=e.from,s=e.top}this.updateState=1;let o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&o||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map((e=>{try{return e.read(this)}catch(e){return Te(this.state,e),Hn}})),c=We.create(this,this.state,[]),h=!1;c.flags|=o,t?t.flags|=o:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),h=this.docView.update(c));for(let e=0;e<a.length;e++)if(l[e]!=Hn)try{let t=a[e];t.write&&t.write(l[e],this)}catch(e){Te(this.state,e)}if(h&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(ke))e(t)}get themeClasses(){return Mn+" "+(this.state.facet(Tn)?En:Pn)+" "+this.state.facet($n)}updateAttrs(){let e=Jn(this,Ie,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Me)?"true":"false",class:"cm-content",style:`${U.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Jn(this,Re,t);let n=this.observer.ignore((()=>{let n=ie(this.contentDOM,this.contentAttrs,t),r=ie(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)e.is(Vn.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(je);let e=this.state.facet(Vn.cspNonce);i.V.mount(this.root,this.styleModules.concat(In).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Ct(this,e,_t(this,e,t,n))}moveByGroup(e,t){return Ct(this,e,_t(this,e,t,(t=>function(e,t,n){let i=e.state.charCategorizer(t),s=i(n);return e=>{let t=i(e);return s==r.D0.Space&&(s=t),s==t}}(this,e.head,t))))}moveToLineBoundary(e,t,n=!0){return function(e,t,n,i){let s=St(e,t.head),o=i&&s.type==ce.Text&&(e.lineWrapping||s.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),i=e.textDirectionAt(s.from),a=e.posAtCoords({x:n==(i==Ue.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=a)return r.jT.cursor(a,n?-1:1)}return r.jT.cursor(n?s.to:s.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return Ct(this,e,function(e,t,n,i){let s=t.head,o=n?1:-1;if(s==(n?e.state.doc.length:0))return r.jT.cursor(s,t.assoc);let a,l=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),h=e.coordsAtPos(s,t.assoc||-1),u=e.documentTop;if(h)null==l&&(l=h.left-c.left),a=o<0?h.top:h.bottom;else{let t=e.viewState.lineBlockAt(s);null==l&&(l=Math.min(c.right-c.left,e.defaultCharacterWidth*(s-t.from))),a=(o<0?t.top:t.bottom)+u}let d=c.left+l,p=null!=i?i:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=a+(p+t)*o,i=xt(e,{x:d,y:n},!1,o);if(n<c.top||n>c.bottom||(o<0?i<s:i>s)){let t=e.docView.coordsForChar(i),s=!t||n<t.top?-1:1;return r.jT.cursor(i,s,void 0,l)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),xt(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),i=this.bidiSpans(r);return b(n,i[nt.find(i,e-r.from,-1,t)].dir==Ue.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ae)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Gn)return at(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||rt(r.isolates,t=De(this,e.from,e.to))))return r.order;t||(t=De(this,e.from,e.to));let r=function(e,t,n){if(!e)return[new nt(0,0,t==Ge?1:0)];if(t==Ve&&!n.length&&!tt.test(e))return at(e.length);if(n.length)for(;e.length>it.length;)it[it.length]=256;let r=[],i=t==Ve?0:1;return ot(e,i,i,n,0,e.length,r),r}(e.text,n,t);return this.bidiCache.push(new Fn(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||U.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{S(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return $e.of(new Qe("number"==typeof e?r.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return $e.of(new Qe(r.jT.cursor(n.from),"start","start",n.top-e,t,!0))}static domEventHandlers(e){return Ze.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return Ze.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=i.V.newName(),r=[$n.of(n),je.of(Bn(`.${n}`,e))];return t&&t.dark&&r.push(Tn.of(!0)),r}static baseTheme(e){return r.Wl.lowest(je.of(Bn("."+Mn,e,Zn)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&M.get(n)||M.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}Vn.styleModule=je,Vn.inputHandler=Se,Vn.focusChangeEffect=_e,Vn.perLineTextDirection=Ae,Vn.exceptionSink=xe,Vn.updateListener=ke,Vn.editable=Me,Vn.mouseSelectionStyle=we,Vn.dragMovesSelection=ye,Vn.clickAddsSelectionRange=be,Vn.decorations=ze,Vn.atomicRanges=Ye,Vn.bidiIsolatedRanges=Le,Vn.scrollMargins=Xe,Vn.darkTheme=Tn,Vn.cspNonce=r.r$.define({combine:e=>e.length?e[0]:""}),Vn.contentAttributes=Re,Vn.editorAttributes=Ie,Vn.lineWrapping=Vn.contentAttributes.of({class:"cm-lineWrapping"}),Vn.announce=r.Py.define();const Gn=4096,Hn={};class Fn{constructor(e,t,n,r,i,s){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=i,this.order=s}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],r=e.length?e[e.length-1].dir:Ue.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let s=e[i];s.dir!=r||t.touchesRange(s.from,s.to)||n.push(new Fn(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function Jn(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let t=r[i],s="function"==typeof t?t(e):t;s&&te(s,n)}return n}const Kn=U.mac?"mac":U.windows?"win":U.linux?"linux":"key";function er(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const tr=r.Wl.default(Vn.domEventHandlers({keydown:(e,t)=>lr(ir(t.state),e,t,"editor")})),nr=r.r$.define({enables:tr}),rr=new WeakMap;function ir(e){let t=e.facet(nr),n=rr.get(t);return n||rr.set(t,n=function(e,t=Kn){let n=Object.create(null),r=Object.create(null),i=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=(e,r,s,o,a)=>{var l,c;let h=n[e]||(n[e]=Object.create(null)),u=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,i,s,o,a=n[n.length-1];"Space"==a&&(a=" ");for(let e=0;e<n.length-1;++e){const a=n[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);"mac"==t?o=!0:i=!0}}return r&&(a="Alt-"+a),i&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}(e,t)));for(let t=1;t<u.length;t++){let n=u.slice(0,t).join(" ");i(n,!0),h[n]||(h[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=or={view:t,prefix:n,scope:e};return setTimeout((()=>{or==r&&(or=null)}),ar),!0}]})}let d=u.join(" ");i(d,!1);let p=h[d]||(h[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=h._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});s&&p.run.push(s),o&&(p.preventDefault=!0),a&&(p.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let t in e)e[t].run.push(r.any)}let i=r[t]||r.key;if(i)for(let t of e)s(t,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&s(t,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}function sr(e,t,n){return lr(ir(e.state),t,e,n)}let or=null;const ar=4e3;function lr(e,t,n,i){let c=function(e){var t=!(a&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||l&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:s)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),h=(0,r.gm)(c,0),u=(0,r.nZ)(h)==c.length&&" "!=c,d="",p=!1,m=!1,f=!1;or&&or.view==n&&or.scope==i&&(d=or.prefix+" ",Et.indexOf(t.keyCode)<0&&(m=!0,or=null));let g,O,v=new Set,b=e=>{if(e){for(let r of e.run)if(!v.has(r)&&(v.add(r),r(n,t)))return e.stopPropagation&&(f=!0),!0;e.preventDefault&&(e.stopPropagation&&(f=!0),m=!0)}return!1},y=e[i];return y&&(b(y[d+er(c,t,!u)])?p=!0:u&&(t.altKey||t.metaKey||t.ctrlKey)&&!(U.windows&&t.ctrlKey&&t.altKey)&&(g=s[t.keyCode])&&g!=c?(b(y[d+er(g,t,!0)])||t.shiftKey&&(O=o[t.keyCode])!=c&&O!=g&&b(y[d+er(O,t,!1)]))&&(p=!0):u&&t.shiftKey&&b(y[d+er(c,t,!0)])&&(p=!0),!p&&b(y._any)&&(p=!0)),m&&(p=!0),p&&f&&t.stopPropagation(),p}class cr{constructor(e,t,n,r,i){this.className=e,this.left=t,this.top=n,this.width=r,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=hr(e);return[new cr(t,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),s=e.textDirection==Ue.LTR,o=e.contentDOM,a=o.getBoundingClientRect(),l=hr(e),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),d=a.right-(h?parseInt(h.paddingRight):0),p=St(e,r),m=St(e,i),f=p.type==ce.Text?p:null,g=m.type==ce.Text?m:null;if(f&&(e.lineWrapping||p.widgetLineBreaks)&&(f=ur(e,r,f)),g&&(e.lineWrapping||m.widgetLineBreaks)&&(g=ur(e,i,g)),f&&g&&f.from==g.from)return v(b(n.from,n.to,f));{let t=f?b(n.from,null,f):y(p,!1),r=g?b(null,n.to,g):y(m,!0),i=[];return(f||p).to<(g||m).from-(f&&g?1:0)||p.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?i.push(O(u,t.bottom,d,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==ce.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),v(t).concat(i).concat(v(r))}function O(e,n,r,i){return new cr(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function v({top:e,bottom:t,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(O(n[i],e,n[i+1],t));return r}function b(t,n,r){let i=1e9,o=-1e9,a=[];function l(t,n,l,c,h){let p=e.coordsAtPos(t,t==r.to?-2:2),m=e.coordsAtPos(l,l==r.from?2:-2);p&&m&&(i=Math.min(p.top,m.top,i),o=Math.max(p.bottom,m.bottom,o),h==Ue.LTR?a.push(s&&n?u:p.left,s&&c?d:m.right):a.push(!s&&c?u:m.left,!s&&n?d:p.right))}let c=null!=t?t:r.from,h=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<h)for(let i=Math.max(r.from,c),s=Math.min(r.to,h);;){let r=e.state.doc.lineAt(i);for(let o of e.bidiSpans(r)){let e=o.from+r.from,a=o.to+r.from;if(e>=s)break;a>i&&l(Math.max(e,i),null==t&&e<=c,Math.min(a,s),null==n&&a>=h,o.dir)}if(i=r.to+1,i>=s)break}return 0==a.length&&l(c,null==t,h,null==n,e.textDirection),{top:i,bottom:o,horizontal:a}}function y(e,t){let n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function hr(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Ue.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function ur(e,t,n){let i=r.jT.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(i,!0,!0).from),type:ce.Text}}class dr{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(pr)!=e.state.facet(pr)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,n=e.facet(pr);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const pr=r.r$.define();function mr(e){return[Ze.define((t=>new dr(t,e))),pr.of(e)]}const fr=!U.ios,gr=r.r$.define({combine:e=>(0,r.BO)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Or(e={}){return[gr.of(e),yr,xr,Sr,Ce.of(!0)]}function vr(e){return e.facet(gr)}function br(e){return e.startState.facet(gr)!=e.state.facet(gr)}const yr=mr({above:!0,markers(e){let{state:t}=e,n=t.facet(gr),i=[];for(let s of t.selection.ranges){let o=s==t.selection.main;if(s.empty?!o||fr:n.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=s.empty?s:r.jT.cursor(s.head,s.head>s.anchor?-1:1);for(let r of cr.forRange(e,t,n))i.push(r)}}return i},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=br(e);return n&&wr(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){wr(t.state,e)},class:"cm-cursorLayer"});function wr(e,t){t.style.animationDuration=e.facet(gr).cursorBlinkRate+"ms"}const xr=mr({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:cr.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||br(e),class:"cm-selectionLayer"}),kr={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};fr&&(kr[".cm-line"].caretColor="transparent !important");const Sr=r.Wl.highest(Vn.theme(kr)),_r=r.Py.define({map:(e,t)=>null==e?null:t.mapPos(e)}),Ar=r.QQ.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(_r)?t.value:e),e))}),Cr=Ze.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Ar);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Ar)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Ar),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Ar)!=e&&this.view.dispatch({effects:_r.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Qr(){return[Ar,Cr]}function $r(e,t,n,r,i){t.lastIndex=0;for(let s,o=e.iterRange(n,r),a=n;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=t.exec(o.value);)i(a+s.index,s)}class Tr{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:i,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,i)=>r(i,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,i)=>{let s=n(e,t,r);s&&i(r,r+e[0].length,s)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,i)=>i(r,r+e[0].length,n)}this.boundary=i,this.maxLength=s}createDeco(e){let t=new r.f_,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}(e,this.maxLength))$r(e.state.doc,this.regexp,t,r,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,i,s,o)=>{o>e.view.viewport.from&&s<e.view.viewport.to&&(n=Math.min(s,n),r=Math.max(o,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let i of e.visibleRanges){let s=Math.max(i.from,n),o=Math.min(i.to,r);if(o>s){let n=e.state.doc.lineAt(s),r=n.to<o?e.state.doc.lineAt(o):n,a=Math.max(i.from,n.from),l=Math.min(i.to,r.to);if(this.boundary){for(;s>n.from;s--)if(this.boundary.test(n.text[s-1-n.from])){a=s;break}for(;o<r.to;o++)if(this.boundary.test(r.text[o-r.from])){l=o;break}}let c,h=[],u=(e,t,n)=>h.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=a-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,u);else $r(e.state.doc,this.regexp,a,l,((t,n)=>this.addMatch(n,e,t,u)));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const Mr=null!=/x/.unicode?"gu":"g",Pr=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Mr),Er={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zr=null;const Br=r.r$.define({combine(e){let t=(0,r.BO)(e,{render:null,specialChars:Pr,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Zr&&"undefined"!=typeof document&&document.body){let t=document.body.style;Zr=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Zr||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Mr)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Mr)),t}});function Ir(e={}){return[Br.of(e),Rr||(Rr=Ze.fromClass(class{constructor(e){this.view=e,this.decorations=he.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Br)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Tr({regexp:e.specialChars,decoration:(t,n,i)=>{let{doc:s}=n.state,o=(0,r.gm)(t[0],0);if(9==o){let e=s.lineAt(i),t=n.state.tabSize,o=(0,r.IS)(e.text,t,i-e.from);return he.replace({widget:new Yr((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=he.replace({widget:new zr(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Br);e.startState.facet(Br)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let Rr=null;class zr extends le{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Er[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Yr extends le{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Lr(){return Xr}const Dr=he.line({class:"cm-activeLine"}),Xr=Ze.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(Dr.range(i.from)),t=i.from)}return he.set(n)}},{decorations:e=>e.decorations}),qr=2e3;function jr(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),i=e.state.doc.lineAt(n),s=n-i.from,o=s>qr?-1:s==i.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,r.IS)(i.text,e.state.tabSize,n-i.from);return{line:i.number,col:o,off:s}}function Nr(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return Vn.mouseSelectionStyle.of(((e,n)=>t(n)?function(e,t){let n=jr(e,t),i=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),r=e.state.doc.lineAt(t);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(e.changes)}},get(t,s,o){let a=jr(e,t);if(!a)return i;let l=function(e,t,n){let i=Math.min(t.line,n.line),s=Math.max(t.line,n.line),o=[];if(t.off>qr||n.off>qr||t.col<0||n.col<0){let a=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let t=i;t<=s;t++){let n=e.doc.line(t);n.length<=l&&o.push(r.jT.range(n.from+a,n.to+l))}}else{let a=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let t=i;t<=s;t++){let n=e.doc.line(t),i=(0,r.Gz)(n.text,a,e.tabSize,!0);if(i<0)o.push(r.jT.cursor(n.to));else{let t=(0,r.Gz)(n.text,l,e.tabSize);o.push(r.jT.range(n.from+i,n.from+t))}}}return o}(e.state,n,a);return l.length?o?r.jT.create(l.concat(i.ranges)):r.jT.create(l):i}}:null}(e,n):null))}const Wr={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},Ur={style:"cursor: crosshair"};function Vr(e={}){let[t,n]=Wr[e.key||"Alt"],r=Ze.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,Vn.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?Ur:null}))]}const Gr="-10000px";class Hr{constructor(e,t,n){this.facet=t,this.createTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map(n)}update(e,t){var n;let r=e.state.facet(this.facet),i=r.filter((e=>e));if(r===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let s=[],o=t?[]:null;for(let n=0;n<i.length;n++){let r=i[n],a=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(a=e)}if(a<0)s[n]=this.createTooltipView(r),o&&(o[n]=!!r.above);else{let r=s[n]=this.tooltipViews[a];o&&(o[n]=t[a]),r.update&&r.update(e)}}}for(let e of this.tooltipViews)s.indexOf(e)<0&&(e.dom.remove(),null===(n=e.destroy)||void 0===n||n.call(e));return t&&(o.forEach(((e,n)=>t[n]=e)),t.length=o.length),this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function Fr(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const Jr=r.r$.define({combine:e=>{var t,n,r;return{position:U.ios?"absolute":(null===(t=e.find((e=>e.position)))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((e=>e.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((e=>e.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||Fr}}}),Kr=new WeakMap,ei=Ze.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(Jr);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Hr(e,ri,(e=>this.createTooltip(e))),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(Jr);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Gr,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),null===(e=t.destroy)||void 0===e||e.call(t);this.parent&&this.container.remove(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(U.gecko)r=e.offsetParent!=this.container.ownerDocument.body;else if(1!=this.view.scaleX||1!=this.view.scaleY)r=!0;else if(e.style.top==Gr&&"0px"==e.style.left){let t=e.getBoundingClientRect();r=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(r||"absolute"==this.position)if(this.parent){let e=this.parent.getBoundingClientRect();e.width&&e.height&&(t=e.width/this.parent.offsetWidth,n=e.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map(((e,t)=>{let n=this.manager.tooltipViews[t];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)})),size:this.manager.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),space:this.view.state.facet(Jr).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:s}=e,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=e.pos[a],d=e.size[a];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){h.style.top=Gr;continue}let p=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=p?7:0,f=d.right-d.left,g=null!==(t=Kr.get(c))&&void 0!==t?t:d.bottom-d.top,O=c.offset||ni,v=this.view.textDirection==Ue.LTR,b=d.width>r.right-r.left?v?r.left:r.right-d.width:v?Math.min(u.left-(p?14:0)+O.x,r.right-f):Math.max(r.left,u.left-f+(p?14:0)-O.x),y=this.above[a];!l.strictSide&&(y?u.top-(d.bottom-d.top)-O.y<r.top:u.bottom+(d.bottom-d.top)+O.y>r.bottom)&&y==r.bottom-u.bottom>u.top-r.top&&(y=this.above[a]=!y);let w=(y?u.top-r.top:r.bottom-u.bottom)-m;if(w<g&&!1!==c.resize){if(w<this.view.defaultLineHeight){h.style.top=Gr;continue}Kr.set(c,g),h.style.height=(g=w)/s+"px"}else h.style.height&&(h.style.height="");let x=y?u.top-g-m-O.y:u.bottom+m+O.y,k=b+f;if(!0!==c.overlap)for(let e of o)e.left<k&&e.right>b&&e.top<x+g&&e.bottom>x&&(x=y?e.top-g-2-m:e.bottom+m+2);if("absolute"==this.position?(h.style.top=(x-e.parent.top)/s+"px",h.style.left=(b-e.parent.left)/i+"px"):(h.style.top=x/s+"px",h.style.left=b/i+"px"),p){let e=u.left+(v?O.x:-O.x)-(b+14-7);p.style.left=e/i+"px"}!0!==c.overlap&&o.push({left:b,top:x,right:k,bottom:x+g}),h.classList.toggle("cm-tooltip-above",y),h.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=Gr}},{eventObservers:{scroll(){this.maybeMeasure()}}}),ti=Vn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ni={x:0,y:0},ri=r.r$.define({enables:[ei,ti]}),ii=r.r$.define();class si{static create(e){return new si(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Hr(e,ii,(e=>this.createHostedView(e)))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let r=n[e];if(void 0!==r)if(void 0===t)t=r;else if(t!==r)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const oi=ri.compute([ii],(e=>{let t=e.facet(ii).filter((e=>e));return 0===t.length?null:{pos:Math.min(...t.map((e=>e.pos))),end:Math.max(...t.filter((e=>null!=e.end)).map((e=>e.end))),create:si.create,above:t[0].above,arrow:t.some((e=>e.arrow))}}));class ai{constructor(e,t,n,r,i){this.view=e,this.source=t,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let r,i=1;if(n instanceof H)r=n.posAtStart;else{if(r=e.posAtCoords(t),null==r)return;let n=e.coordsAtPos(r);if(!n||t.y<n.top||t.y>n.bottom||t.x<n.left-e.defaultCharacterWidth||t.x>n.right+e.defaultCharacterWidth)return;let s=e.bidiSpans(e.state.doc.lineAt(r)).find((e=>e.from<=r&&e.to>=r)),o=s&&s.dir==Ue.RTL?-1:1;i=t.x<n.left?-o:o}let s=this.source(e,r,i);if(null==s?void 0:s.then){let t=this.pending={pos:r};s.then((n=>{this.pending==t&&(this.pending=null,n&&e.dispatch({effects:this.setHover.of(n)}))}),(t=>Te(e.state,t,"hover tooltip")))}else s&&e.dispatch({effects:this.setHover.of(s)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!li(this.lastMove.target)||this.pending){let{pos:r}=n||this.pending,i=null!==(t=null==n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,s){let o=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=e.posAtCoords({x:r,y:i},!1);return l>=t&&l<=n}(this.view,r,i,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!li(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function li(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function ci(e,t={}){let n=r.Py.define(),i=r.QQ.define({create:()=>null,update(e,i){if(e&&(t.hideOnChange&&(i.docChanged||i.selection)||t.hideOn&&t.hideOn(i,e)))return null;if(e&&i.docChanged){let t=i.changes.mapPos(e.pos,-1,r.gc.TrackDel);if(null==t)return null;let n=Object.assign(Object.create(null),e);n.pos=t,null!=e.end&&(n.end=i.changes.mapPos(e.end)),e=n}for(let t of i.effects)t.is(n)&&(e=t.value),t.is(ui)&&(e=null);return e},provide:e=>ii.from(e)});return[i,Ze.define((r=>new ai(r,e,i,n,t.hoverTime||300))),oi]}function hi(e,t){let n=e.plugin(ei);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const ui=r.Py.define(),di=r.r$.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function pi(e,t){let n=e.plugin(mi),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const mi=Ze.fromClass(class{constructor(e){this.input=e.state.facet(Oi),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(di);this.top=new fi(e,!0,t.topContainer),this.bottom=new fi(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(di);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new fi(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new fi(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Oi);if(n!=this.input){let t=n.filter((e=>e)),r=[],i=[],s=[],o=[];for(let n of t){let t,a=this.specs.indexOf(n);a<0?(t=n(e.view),o.push(t)):(t=this.panels[a],t.update&&t.update(e)),r.push(t),(t.top?i:s).push(t)}this.specs=t,this.panels=r,this.top.sync(i),this.bottom.sync(s);for(let e of o)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>Vn.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class fi{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=gi(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=gi(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function gi(e){let t=e.nextSibling;return e.remove(),t}const Oi=r.r$.define({enables:mi});class vi extends r.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}vi.prototype.elementClass="",vi.prototype.toDOM=void 0,vi.prototype.mapMode=r.gc.TrackBefore,vi.prototype.startSide=vi.prototype.endSide=-1,vi.prototype.point=!0;const bi=r.r$.define(),yi={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>r.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},wi=r.r$.define();function xi(e){return[Si(),wi.of(Object.assign(Object.assign({},yi),e))]}const ki=r.r$.define({combine:e=>e.some((e=>e))});function Si(e){let t=[_i];return e&&!1===e.fixed&&t.push(ki.of(!0)),t}const _i=Ze.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(wi).map((t=>new $i(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(ki),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ki)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=r.Xs.iter(this.view.state.facet(bi),this.view.viewport.from),i=[],s=this.gutters.map((e=>new Qi(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(e.type)){let t=!0;for(let r of e.type)if(r.type==ce.Text&&t){Ci(n,i,r.from);for(let e of s)e.line(this.view,r,i);t=!1}else if(r.widget)for(let e of s)e.widget(this.view,r)}else if(e.type==ce.Text){Ci(n,i,e.from);for(let t of s)t.line(this.view,e,i)}else if(e.widget)for(let t of s)t.widget(this.view,e);for(let e of s)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(wi),n=e.state.facet(wi),i=e.docChanged||e.heightChanged||e.viewportChanged||!r.Xs.eq(e.startState.facet(bi),e.state.facet(bi),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=t.indexOf(i);n<0?r.push(new $i(this.view,i)):(this.gutters[n].update(e),r.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),r.indexOf(e)<0&&e.destroy();for(let e of r)this.dom.appendChild(e.dom);this.gutters=r}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>Vn.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Ue.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function Ai(e){return Array.isArray(e)?e:[e]}function Ci(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Qi{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=r.Xs.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,i=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==r.elements.length){let t=new Ti(e,s,i,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,s,i,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];Ci(this.cursor,r,t.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);let s=this.gutter;(0!=r.length||s.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t);n&&this.addElement(e,t,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class $i{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,s=r.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let e=s.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=r.clientY;let o=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[n](e,o,r)&&r.preventDefault()}));this.markers=Ai(t.markers(e)),t.initialSpacer&&(this.spacer=new Ti(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ai(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!r.Xs.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Ti{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,s=0;;){let o=s,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(n+=" "+e);for(let e=s;e<this.markers.length;e++)if(this.markers[e].compare(a)){o=e,l=!0;break}}else o=this.markers.length;for(;s<o;){let e=this.markers[s++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&s++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Mi=r.r$.define(),Pi=r.r$.define({combine:e=>(0,r.BO)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],i=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||i(e,t,n):i}return n}})});class Ei extends vi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Zi(e,t){return e.state.facet(Pi).formatNumber(t,e.state)}const Bi=wi.compute([Pi],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Mi),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Ei(Zi(e,e.state.doc.lineAt(t.from).number)),widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Pi)!=e.state.facet(Pi),initialSpacer:e=>new Ei(Zi(e,Ri(e.state.doc.lines))),updateSpacer(e,t){let n=Zi(t.view,Ri(t.view.state.doc.lines));return n==e.number?e:new Ei(n)},domEventHandlers:e.facet(Pi).domEventHandlers})));function Ii(e={}){return[Pi.of(e),Si(),Bi]}function Ri(e){let t=9;for(;t<e;)t=10*t+9;return t}const zi=new class extends vi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Yi=bi.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(zi.range(i)))}return r.Xs.of(t)}));function Li(){return Yi}},1113:(e,t,n)=>{n.d(t,{Jq:()=>c,L3:()=>r,Lj:()=>h,_b:()=>Z,hr:()=>P,i9:()=>E,md:()=>o,mp:()=>m,vj:()=>p});const r=1024;let i=0;class s{constructor(e,t){this.from=e,this.to=t}}class o{constructor(e={}){this.id=i++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=c.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}o.closedBy=new o({deserialize:e=>e.split(" ")}),o.openedBy=new o({deserialize:e=>e.split(" ")}),o.group=new o({deserialize:e=>e.split(" ")}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class a{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[o.mounted.id]}}const l=Object.create(null);class c{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):l,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new c(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(o.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(o.group),r=-1;r<(n?n.length:0);r++){let i=t[r<0?e.name:n[r]];if(i)return i}}}}c.none=new c("",Object.create(null),0,8);class h{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let r=null;for(let t of e){let e=t(n);e&&(r||(r=Object.assign({},n.props)),r[e[0].id]=e[1])}t.push(r?new c(n.name,r,n.id,n.flags):n)}return new h(t)}}const u=new WeakMap,d=new WeakMap;var p;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class m{constructor(e,t,n,r,i){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=a.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C(this.topNode,e)}cursorAt(e,t=0,n=0){let r=u.get(this)||this.topNode,i=new C(r);return i.moveTo(e,t),u.set(this,i._tree),i}get topNode(){return new y(this,0,0,null)}resolve(e,t=0){let n=v(u.get(this)||this.topNode,e,t,!1);return u.set(this,n),n}resolveInner(e,t=0){let n=v(d.get(this)||this.topNode,e,t,!0);return d.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),i=null;for(let e=r instanceof y?r:r.context.parent;e;e=e.parent)if(e.index<0){let s=e.parent;(i||(i=[r])).push(s.resolve(t,n)),e=s}else{let s=a.get(e.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let o=new y(s.tree,s.overlay[0].from+e.from,-1,e);(i||(i=[r])).push(v(o,t,n,!1))}}return i?_(i):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:i=this.length}=e,s=e.mode||0,o=(s&p.IncludeAnonymous)>0;for(let e=this.cursor(s|p.IncludeAnonymous);;){let s=!1;if(e.from<=i&&e.to>=r&&(!o&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;s=!0}for(;s&&n&&(o||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;s=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:M(c.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new m(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new m(c.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:i,maxBufferLength:s=r,reused:a=[],minRepeatType:l=i.types.length}=e,c=Array.isArray(n)?new f(n,n.length):n,h=i.types,u=0,d=0;function p(e,t,n,r,f,w){let{id:x,start:k,end:S,size:_}=c,A=d;for(;_<0;){if(c.next(),-1==_){let t=a[x];return n.push(t),void r.push(k-e)}if(-3==_)return void(u=x);if(-4==_)return void(d=x);throw new RangeError(`Unrecognized record size: ${_}`)}let C,Q,$=h[x],T=k-e;if(S-k<=s&&(Q=function(e,t){let n=c.fork(),r=0,i=0,o=0,a=n.end-s,h={size:0,start:0,skip:0};e:for(let s=n.pos-e;n.pos>s;){let e=n.size;if(n.id==t&&e>=0){h.size=r,h.start=i,h.skip=o,o+=4,r+=4,n.next();continue}let c=n.pos-e;if(e<0||c<s||n.start<a)break;let u=n.id>=l?4:0,d=n.start;for(n.next();n.pos>c;){if(n.size<0){if(-3!=n.size)break e;u+=4}else n.id>=l&&(u+=4);n.next()}i=d,r+=e,o+=u}return(t<0||r==e)&&(h.size=r,h.start=i,h.skip=o),h.size>4?h:void 0}(c.pos-t,f))){let t=new Uint16Array(Q.size-Q.skip),n=c.pos-Q.size,r=t.length;for(;c.pos>n;)r=y(Q.start,t,r);C=new g(t,S-Q.start,i),T=Q.start-e}else{let e=c.pos-_;c.next();let t=[],n=[],r=x>=l?x:-1,i=0,a=S;for(;c.pos>e;)r>=0&&c.id==r&&c.size>=0?(c.end<=a-s&&(v(t,n,k,i,c.end,a,r,A),i=t.length,a=c.end),c.next()):w>2500?O(k,e,t,n):p(k,e,t,n,r,w+1);if(r>=0&&i>0&&i<t.length&&v(t,n,k,i,k,a,r,A),t.reverse(),n.reverse(),r>-1&&i>0){let e=function(e){return(t,n,r)=>{let i,s,a=0,l=t.length-1;if(l>=0&&(i=t[l])instanceof m){if(!l&&i.type==e&&i.length==r)return i;(s=i.prop(o.lookAhead))&&(a=n[l]+i.length+s)}return b(e,t,n,r,a)}}($);C=M($,t,n,0,t.length,0,S-k,e,e)}else C=b($,t,n,S-k,A-S)}n.push(C),r.push(T)}function O(e,t,n,r){let o=[],a=0,l=-1;for(;c.pos>t;){let{id:e,start:t,end:n,size:r}=c;if(r>4)c.next();else{if(l>-1&&t<l)break;l<0&&(l=n-s),o.push(e,t,n),a++,c.next()}}if(a){let t=new Uint16Array(4*a),s=o[o.length-2];for(let e=o.length-3,n=0;e>=0;e-=3)t[n++]=o[e],t[n++]=o[e+1]-s,t[n++]=o[e+2]-s,t[n++]=n;n.push(new g(t,o[2]-s,i)),r.push(s-e)}}function v(e,t,n,r,s,o,a,l){let c=[],h=[];for(;e.length>r;)c.push(e.pop()),h.push(t.pop()+n-s);e.push(b(i.types[a],c,h,o-s,l-o)),t.push(s-n)}function b(e,t,n,r,i=0,s){if(u){let e=[o.contextHash,u];s=s?[e].concat(s):[e]}if(i>25){let e=[o.lookAhead,i];s=s?[e].concat(s):[e]}return new m(e,t,n,r,s)}function y(e,t,n){let{id:r,start:i,end:s,size:o}=c;if(c.next(),o>=0&&r<l){let a=n;if(o>4){let r=c.pos-(o-4);for(;c.pos>r;)n=y(e,t,n)}t[--n]=a,t[--n]=s-e,t[--n]=i-e,t[--n]=r}else-3==o?u=r:-4==o&&(d=r);return n}let w=[],x=[];for(;c.pos>0;)p(e.start||0,e.bufferStart||0,w,x,-1,0);let k=null!==(t=e.length)&&void 0!==t?t:w.length?x[0]+w[0].length:0;return new m(h[e.topID],w.reverse(),x.reverse(),k)}(e)}}m.empty=new m(c.none,[],[],0);class f{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new f(this.buffer,this.index)}}class g{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return c.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;let s=[];for(;e<n;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}findChild(e,t,n,r,i){let{buffer:s}=this,o=-1;for(let a=e;a!=t&&!(O(i,r,s[a+1],s[a+2])&&(o=a,n>0));a=s[a+3]);return o}slice(e,t,n){let r=this.buffer,i=new Uint16Array(t-e),s=0;for(let o=e,a=0;o<t;){i[a++]=r[o++],i[a++]=r[o++]-n;let t=i[a++]=r[o++]-n;i[a++]=r[o++]-e,s=Math.max(s,t)}return new g(i,s,this.set)}}function O(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function v(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof y&&e.index<0?null:e.parent;if(!t)return e;e=t}let s=r?0:p.IgnoreOverlays;if(r)for(let r=e,o=r.parent;o;r=o,o=r.parent)r instanceof y&&r.index<0&&(null===(i=o.enter(t,n,s))||void 0===i?void 0:i.from)!=r.from&&(e=o);for(;;){let r=e.enter(t,n,s);if(!r)return e;e=r}}class b{cursor(e=0){return new C(this,e)}getChild(e,t=null,n=null){let r=w(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return w(this,e,t,n)}resolve(e,t=0){return v(this,e,t,!1)}resolveInner(e,t=0){return v(this,e,t,!0)}matchContext(e){return x(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class y extends b{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,i=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,c=t>0?o.length:-1;e!=c;e+=t){let c=o[e],h=l[e]+s.from;if(O(r,n,h,h+c.length))if(c instanceof g){if(i&p.ExcludeBuffers)continue;let o=c.findChild(0,c.buffer.length,t,n-h,r);if(o>-1)return new S(new k(s,c,e,h),null,o)}else if(i&p.IncludeAnonymous||!c.type.isAnonymous||Q(c)){let o;if(!(i&p.IgnoreMounts)&&(o=a.get(c))&&!o.overlay)return new y(o.tree,h,e,s);let l=new y(c,h,e,s);return i&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?c.children.length-1:0,t,n,r)}}if(i&p.IncludeAnonymous||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&p.IgnoreOverlays)&&(r=a.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new y(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function w(e,t,n,r){let i=e.cursor(),s=[];if(!i.firstChild())return s;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return s;for(;;){if(null!=r&&i.type.is(r))return s;if(i.type.is(t)&&s.push(i.node),!i.nextSibling())return null==r?s:[]}}function x(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class k{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class S extends b{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return i<0?null:new S(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new S(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new S(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new S(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let s=n.buffer[this.index+1];e.push(n.slice(r,i,s)),t.push(0)}return new m(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function _(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let i=e[r];(i.from>n.from||i.to<n.to)&&(n=i,t=r)}let r=n instanceof y&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new A(i,n)}class A{constructor(e,t){this.heads=e,this.node=t}get next(){return _(this.heads)}}class C{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof y)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof y?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,i=e<0?-1:n._tree.children.length;r!=i;r+=e){let e=n._tree.children[r];if(this.mode&p.IncludeAnonymous||e instanceof g||!e.type.isAnonymous||Q(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,i=this.stack.length;i>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,n=i+1;break e}r=this.stack[--i]}for(let e=n;e<this.stack.length;e++)t=new S(this.buffer,t,this.stack[e]);return this.bufferNode=new S(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return x(this.node,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return x(this.node,e,r);let s=n[t.buffer[this.stack[i]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function Q(e){return e.children.some((e=>e instanceof g||!e.type.isAnonymous||Q(e)))}const $=new WeakMap;function T(e,t){if(!e.isAnonymous||t instanceof g||t.type!=e)return 1;let n=$.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof m)){n=1;break}n+=T(e,r)}$.set(t,n)}return n}function M(e,t,n,r,i,s,o,a,l){let c=0;for(let n=r;n<i;n++)c+=T(e,t[n]);let h=Math.ceil(1.5*c/8),u=[],d=[];return function t(n,r,i,o,a){for(let c=i;c<o;){let i=c,p=r[c],m=T(e,n[c]);for(c++;c<o;c++){let t=T(e,n[c]);if(m+t>=h)break;m+=t}if(c==i+1){if(m>h){let e=n[i];t(e.children,e.positions,0,e.children.length,r[i]+a);continue}u.push(n[i])}else{let t=r[c-1]+n[c-1].length-p;u.push(M(e,n,r,i,c,p,t,null,l))}d.push(p+a-s)}}(t,n,r,i,0),(a||l)(u,d,o)}class P{constructor(){this.map=new WeakMap}setBuffer(e,t,n){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}getBuffer(e,t){let n=this.map.get(e);return n&&n.get(t)}set(e,t){e instanceof S?this.setBuffer(e.context.buffer,e.index,t):e instanceof y&&this.map.set(e.tree,t)}get(e){return e instanceof S?this.getBuffer(e.context.buffer,e.index):e instanceof y?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class E{constructor(e,t,n,r,i=!1,s=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new E(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],i=1,s=e.length?e[0]:null;for(let o=0,a=0,l=0;;o++){let c=o<t.length?t[o]:null,h=c?c.fromA:1e9;if(h-a>=n)for(;s&&s.from<h;){let t=s;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,n=Math.min(t.to,h)-l;t=e>=n?null:new E(e,n,t.tree,t.offset+l,o>0,!!c)}if(t&&r.push(t),s.to>h)break;s=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return r}}class Z{startParse(e,t,n){return"string"==typeof e&&(e=new B(e)),n=n?n.length?n.map((e=>new s(e.from,e.to))):[new s(0,0)]:[new s(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class B{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new o({perNode:!0})},5524:(e,t,n)=>{n.d(t,{Gv:()=>l,QR:()=>u,bW:()=>d,pJ:()=>$});var r=n(1113);let i=0;class s{constructor(e,t,n){this.set=e,this.base=t,this.modified=n,this.id=i++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new s([],null,[]);if(t.set.push(t),e)for(let n of e.set)t.set.push(n);return t}static defineModifier(){let e=new a;return t=>t.modified.indexOf(e)>-1?t:a.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let o=0;class a{constructor(){this.instances=[],this.id=o++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,i=n.modified,r.length==i.length&&r.every(((e,t)=>e==i[t])));var r,i}));if(n)return n;let r=[],i=new s(r,e,t);for(let e of t)e.instances.push(i);let o=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of o)r.push(a.get(t,e));return i}}function l(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],i=2,s=e;for(let t=0;;){if("..."==s&&t>0&&t+3==e.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);s=e.slice(t)}let o=n.length-1,a=n[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new h(r,i,o>0?n.slice(0,o):null);t[a]=l.sort(t[a])}}return c.add(t)}const c=new r.md;class h{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function u(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:i=null}=t||{};return{style:e=>{let t=i;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}function d(e,t,n,r=0,i=e.length){let s=new p(r,Array.isArray(t)?t:[t],n);s.highlightRange(e.cursor(),r,i,"",s.highlighters),s.flush(i)}h.empty=new h([],2,null);class p{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:o,from:a,to:l}=e;if(a>=n||l<=t)return;o.isTop&&(s=this.highlighters.filter((e=>!e.scope||e.scope(o))));let u=i,d=function(e){let t=e.type.prop(c);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||h.empty,p=function(e,t){let n=null;for(let r of e){let e=r.style(t);e&&(n=n?n+" "+e:e)}return n}(s,d.tags);if(p&&(u&&(u+=" "),u+=p,1==d.mode&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(t,a),u),d.opaque)return;let m=e.tree&&e.tree.prop(r.md.mounted);if(m&&m.overlay){let r=e.node.enter(m.overlay[0].from+a,1),o=this.highlighters.filter((e=>!e.scope||e.scope(m.tree.type))),c=e.firstChild();for(let h=0,d=a;;h++){let p=h<m.overlay.length?m.overlay[h]:null,f=p?p.from+a:l,g=Math.max(t,d),O=Math.min(n,f);if(g<O&&c)for(;e.from<O&&(this.highlightRange(e,g,O,i,s),this.startSpan(Math.min(O,e.to),u),!(e.to>=f)&&e.nextSibling()););if(!p||f>n)break;d=p.to+a,d>t&&(this.highlightRange(r.cursor(),Math.max(t,p.from+a),Math.min(n,d),"",o),this.startSpan(Math.min(n,d),u))}c&&e.parent()}else if(e.firstChild()){m&&(i="");do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),u)}}while(e.nextSibling());e.parent()}}}const m=s.define,f=m(),g=m(),O=m(g),v=m(g),b=m(),y=m(b),w=m(b),x=m(),k=m(x),S=m(),_=m(),A=m(),C=m(A),Q=m(),$={comment:f,lineComment:m(f),blockComment:m(f),docComment:m(f),name:g,variableName:m(g),typeName:O,tagName:m(O),propertyName:v,attributeName:m(v),className:m(g),labelName:m(g),namespace:m(g),macroName:m(g),literal:b,string:y,docString:m(y),character:m(y),attributeValue:m(y),number:w,integer:m(w),float:m(w),bool:m(b),regexp:m(b),escape:m(b),color:m(b),url:m(b),keyword:S,self:m(S),null:m(S),atom:m(S),unit:m(S),modifier:m(S),operatorKeyword:m(S),controlKeyword:m(S),definitionKeyword:m(S),moduleKeyword:m(S),operator:_,derefOperator:m(_),arithmeticOperator:m(_),logicOperator:m(_),bitwiseOperator:m(_),compareOperator:m(_),updateOperator:m(_),definitionOperator:m(_),typeOperator:m(_),controlOperator:m(_),punctuation:A,separator:m(A),bracket:C,angleBracket:m(C),squareBracket:m(C),paren:m(C),brace:m(C),content:x,heading:k,heading1:m(k),heading2:m(k),heading3:m(k),heading4:m(k),heading5:m(k),heading6:m(k),contentSeparator:m(x),list:m(x),quote:m(x),emphasis:m(x),strong:m(x),link:m(x),monospace:m(x),strikethrough:m(x),inserted:m(),deleted:m(),changed:m(),invalid:m(),meta:Q,documentMeta:m(Q),annotation:m(Q),processingInstruction:m(Q),definition:s.defineModifier(),constant:s.defineModifier(),function:s.defineModifier(),standard:s.defineModifier(),local:s.defineModifier(),special:s.defineModifier()};u([{tag:$.link,class:"tok-link"},{tag:$.heading,class:"tok-heading"},{tag:$.emphasis,class:"tok-emphasis"},{tag:$.strong,class:"tok-strong"},{tag:$.keyword,class:"tok-keyword"},{tag:$.atom,class:"tok-atom"},{tag:$.bool,class:"tok-bool"},{tag:$.url,class:"tok-url"},{tag:$.labelName,class:"tok-labelName"},{tag:$.inserted,class:"tok-inserted"},{tag:$.deleted,class:"tok-deleted"},{tag:$.literal,class:"tok-literal"},{tag:$.string,class:"tok-string"},{tag:$.number,class:"tok-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"tok-string2"},{tag:$.variableName,class:"tok-variableName"},{tag:$.local($.variableName),class:"tok-variableName tok-local"},{tag:$.definition($.variableName),class:"tok-variableName tok-definition"},{tag:$.special($.variableName),class:"tok-variableName2"},{tag:$.definition($.propertyName),class:"tok-propertyName tok-definition"},{tag:$.typeName,class:"tok-typeName"},{tag:$.namespace,class:"tok-namespace"},{tag:$.className,class:"tok-className"},{tag:$.macroName,class:"tok-macroName"},{tag:$.propertyName,class:"tok-propertyName"},{tag:$.operator,class:"tok-operator"},{tag:$.comment,class:"tok-comment"},{tag:$.meta,class:"tok-meta"},{tag:$.invalid,class:"tok-invalid"},{tag:$.punctuation,class:"tok-punctuation"}])},1226:(e,t,n)=>{n.d(t,{dV:()=>j});var r=n(8120),i=n(9119),s=n(6485),o=n(9892),a=n(5383);function l(e){var t=e.Pos;function n(e,n){var r=e.state.vim;if(!r||r.insertMode)return n.head;var i=r.sel.head;return i?r.visualBlock&&n.head.line!=i.line?void 0:n.from()!=n.anchor||n.empty()||n.head.line!=i.line||n.head.ch==i.ch?n.head:new t(n.head.line,n.head.ch-1):n.head}function r(e,t,n){if(t.line===n.line&&t.ch>=n.ch-1){var r=e.getLine(t.line).charCodeAt(t.ch);55296<=r&&r<=55551&&(n.ch+=1)}return{start:t,end:n}}var i=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=i.length,o=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function a(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",lt),D(t),e.on(t.getInputField(),"paste",f(t))}function l(t){t.setOption("disableInput",!1),t.off("cursorActivity",lt),e.off(t.getInputField(),"paste",f(t)),t.state.vim=null,Ve&&clearTimeout(Ve)}function c(t,n){this==e.keyMap.vim&&(t.options.$customCursor=null,e.rmClass(t.getWrapperElement(),"cm-fat-cursor")),n&&n.attach==h||l(t)}function h(t,r){this==e.keyMap.vim&&(t.curOp&&(t.curOp.selectionChanged=!0),t.options.$customCursor=n,e.addClass(t.getWrapperElement(),"cm-fat-cursor")),r&&r.attach==h||a(t)}function u(t,n){if(n){if(this[t])return this[t];var r=function(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var r=!1,i=0;i<t.length;i++){var s=t[i];s in d?t[i]=d[s]:r=!0,s in p&&(t[i]=p[s])}return!!r&&(Q(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}(t);if(!r)return!1;var i=q.findKey(n,r);return"function"==typeof i&&e.signal(n,"vim-keypress",r),i}}e.defineOption("vimMode",!1,(function(t,n,r){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&r!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")}));var d={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},p={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},m={};function f(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(oe(e.getCursor(),0,1)),re.enterInsertMode(e,{},t))}),t.onPasteFn}"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(p)).forEach((function(e){m[(p[e]||"").toLowerCase()]=m[e.toLowerCase()]=e}));var g=/[\d]/,O=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],v=[function(e){return/\S/.test(e)}];function b(e,t){for(var n=[],r=e;r<e+t;r++)n.push(String.fromCharCode(r));return n}var y,w=b(65,26),x=b(97,26),k=b(48,10),S=[].concat(w,x,k,["<",">"]),_=[].concat(w,x,k,["-",'"',".",":","_","/","+"]);try{y=new RegExp("^[\\p{Lu}]$","u")}catch(e){y=/^[A-Z]$/}function A(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function C(e){return/^[a-z]$/.test(e)}function Q(e){return y.test(e)}function $(e){return/^\s*$/.test(e)}function T(e){return-1!=".?!".indexOf(e)}function M(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}var P={};function E(e,t,n,r,i){if(void 0===t&&!i)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),P[e]={type:n,defaultValue:t,callback:i},r)for(var s=0;s<r.length;s++)P[r[s]]=P[e];t&&Z(e,t)}function Z(e,t,n,r){var i=P[e],s=(r=r||{}).scope;if(!i)return new Error("Unknown option: "+e);if("boolean"==i.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}i.callback?("local"!==s&&i.callback(t,void 0),"global"!==s&&n&&i.callback(t,n)):("local"!==s&&(i.value="boolean"==i.type?!!t:t),"global"!==s&&n&&(n.state.vim.options[e]={value:t}))}function B(e,t,n){var r=P[e],i=(n=n||{}).scope;if(!r)return new Error("Unknown option: "+e);if(r.callback){var s=t&&r.callback(void 0,t);return"global"!==i&&void 0!==s?s:"local"!==i?r.callback():void 0}return((s="global"!==i&&t&&t.state.vim.options[e])||"local"!==i&&r||{}).value}E("filetype",void 0,"string",["ft"],(function(e,t){if(void 0!==t){if(void 0===e)return"null"==(n=t.getOption("mode"))?"":n;var n=""==e?"null":e;t.setOption("mode",n)}})),E("textwidth",80,"number",["tw"],(function(e,t){if(void 0!==t){if(void 0===e)return t.getOption("textwidth");var n=Math.round(e);n>1&&t.setOption("textwidth",n)}}));var I,R,z=function(){var e=100,t=-1,n=0,r=0,i=new Array(e);function s(s,o){(t+=o)>n?t=n:t<r&&(t=r);var a=i[(e+t)%e];if(a&&!a.find()){var l,c=o>0?1:-1,h=s.getCursor();do{if((a=i[(e+(t+=c))%e])&&(l=a.find())&&!he(h,l))break}while(t<n&&t>r)}return a}return{cachedCursor:void 0,add:function(s,o,a){var l=i[t%e];function c(n){var r=++t%e,o=i[r];o&&o.clear(),i[r]=s.setBookmark(n)}if(l){var h=l.find();h&&!he(h,o)&&c(o)}else c(o);c(a),n=t,(r=t-e+1)<0&&(r=0)},find:function(e,n){var r=t,i=s(e,n);return t=r,i&&i.find()},move:s}},Y=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function L(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Y()}function D(e){return e.state.vim||(e.state.vim={inputState:new U,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function X(){for(var e in I={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:z(),macroModeState:new L,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new F({}),searchHistoryController:new J,exCommandHistoryController:new J},P){var t=P[e];t.value=t.defaultValue}}L.prototype={exitMacroRecordMode:function(){var e=I.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=I.registerController.getRegister(t);if(n){if(n.clear(),this.latestRegister=t,e.openDialog){var r=je("span",{class:"cm-vim-message"},"recording @"+t);this.onRecordingDone=e.openDialog(r,null,{bottom:!0})}this.isRecording=!0}}};var q={enterVimMode:a,leaveVimMode:l,buildKeyMap:function(){},getRegisterController:function(){return I.registerController},resetVimGlobalState_:X,getVimGlobalState_:function(){return I},maybeInitVimState_:D,suppressErrorLogging:!1,InsertModeKey:ht,map:function(e,t,n){rt.map(e,t,n)},unmap:function(e,t){return rt.unmap(e,t)},noremap:function(e,t,n){rt.map(e,t,n,!0)},mapclear:function(e){var t=i.length,n=s,r=i.slice(0,t-n);if(i=i.slice(t-n),e)for(var o=r.length-1;o>=0;o--){var a=r[o];if(e!==a.context)if(a.context)this._mapCommand(a);else{var l=["normal","insert","visual"];for(var c in l)if(l[c]!==e){var h={};for(var u in a)h[u]=a[u];h.context=l[c],this._mapCommand(h)}}}},setOption:Z,getOption:B,defineOption:E,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;nt[e]=n,rt.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var r=this.findKey(e,t,n);if("function"==typeof r)return r()},multiSelectHandleKey:function(e,t,n){var r=!1,i=q.maybeInitVimState_(e),s=i.visualBlock||i.wasInVisualBlock,o=e.isInMultiSelectMode();if(i.wasInVisualBlock&&!o?i.wasInVisualBlock=!1:o&&i.visualBlock&&(i.wasInVisualBlock=!0),"<Esc>"!=t||i.insertMode||i.visualMode||!o||"<Esc>"!=i.status)if(s||!o||e.inVirtualSelectionMode)r=q.handleKey(e,t,n);else{var a=ft(i),l=i.inputState.changeQueueList||[];e.operation((function(){e.curOp.isVimOp=!0;var s=0;e.forEachSelection((function(){e.state.vim.inputState.changeQueue=l[s];var i=e.getCursor("head"),o=e.getCursor("anchor"),c=ue(i,o)?0:-1,h=ue(i,o)?-1:0;i=oe(i,0,c),o=oe(o,0,h),e.state.vim.sel.head=i,e.state.vim.sel.anchor=o,r=q.handleKey(e,t,n),e.virtualSelection&&(l[s]=e.state.vim.inputState.changeQueue,e.state.vim=ft(a)),s++})),e.curOp.cursorActivity&&!r&&(e.curOp.cursorActivity=!1),e.state.vim=i,i.inputState.changeQueueList=l,i.inputState.changeQueue=null}),!0)}else V(e);return!r||i.visualMode||i.insert||i.visualMode==e.somethingSelected()||ct(e,i),r},findKey:function(e,t,n){var r,s=D(e);function o(){if("<Esc>"==t){if(s.visualMode)ke(e);else{if(!s.insertMode)return;it(e)}return V(e),!0}}return r=s.insertMode?function(){if(o())return!0;s.inputState.keyBuffer.push(t);var n=s.inputState.keyBuffer.join(""),r=1==t.length,a=K.matchCommand(n,i,s.inputState,"insert"),l=s.inputState.changeQueue;if("none"==a.type)return V(e),!1;if("partial"==a.type){if(R&&window.clearTimeout(R),R=r&&window.setTimeout((function(){s.insertMode&&s.inputState.keyBuffer.length&&V(e)}),B("insertModeEscKeysTimeout")),r){var c=e.listSelections();l&&l.removed.length==c.length||(l=s.inputState.changeQueue=new G),l.inserted+=t;for(var h=0;h<c.length;h++){var u=de(c[h].anchor,c[h].head),d=pe(c[h].anchor,c[h].head),p=e.getRange(u,e.state.overwrite?oe(d,0,1):d);l.removed[h]=(l.removed[h]||"")+p}}return!r}if(R&&window.clearTimeout(R),a.command&&l){for(c=e.listSelections(),h=0;h<c.length;h++){var m=c[h].head;e.replaceRange(l.removed[h]||"",oe(m,0,-l.inserted.length),m,"+input")}I.macroModeState.lastInsertModeChanges.changes.pop()}return a.command||V(e),a.command}():function(){if(function(){var r=I.macroModeState;if(r.isRecording){if("q"==t)return r.exitMacroRecordMode(),V(e),!0;"mapping"!=n&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,r=I.registerController.getRegister(n);r&&r.pushText(t)}}(r,t)}}()||o())return!0;s.inputState.keyBuffer.push(t);var r=s.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(r))return!0;var a=/^(\d*)(.*)$/.exec(r);if(!a)return V(e),!1;var l=s.visualMode?"visual":"normal",c=a[2]||a[1];s.inputState.operatorShortcut&&s.inputState.operatorShortcut.slice(-1)==c&&(c=s.inputState.operatorShortcut);var h=K.matchCommand(c,i,s.inputState,l);return"none"==h.type?(V(e),!1):"partial"==h.type||("clear"==h.type?(V(e),!0):(s.inputState.keyBuffer.length=0,(a=/^(\d*)(.*)$/.exec(r))[1]&&"0"!=a[1]&&s.inputState.pushRepeatDigit(a[1]),h.command))}(),!1===r?s.insertMode||1!==t.length?void 0:function(){return!0}:!0===r?function(){return!0}:function(){return e.operation((function(){e.curOp.isVimOp=!0;try{"keyToKey"==r.type?W(e,r.toKeys,r):K.processCommand(e,s,r)}catch(t){throw e.state.vim=void 0,D(e),q.suppressErrorLogging||console.log(t),t}return!0}))}},handleEx:function(e,t){rt.processCommand(e,t)},defineMotion:function(e,t){ee[e]=t},defineAction:function(e,t){re[e]=t},defineOperator:function(e,t){ne[e]=t},mapCommand:function(e,t,n,r,i){var s={keys:e,type:t};for(var o in s[t]=n,s[t+"Args"]=r,i)s[o]=i[o];st(s)},_mapCommand:st,defineRegister:function(e,t){var n=I.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,_.push(e)},exitVisualMode:ke,exitInsertMode:it},j=[],N=!1;function W(e,t,n){var r=N;if(n){if(-1!=j.indexOf(n))return;j.push(n),N=0!=n.noremap}try{for(var i,s=D(e),o=/<(?:[CSMA]-)*\w+>|./gi;i=o.exec(t);){var a=i[0],l=s.insertMode;if(!q.handleKey(e,a,"mapping")&&l&&s.insertMode){if("<"==a[0]){var c=a.toLowerCase().slice(1,-1),h=c.split("-");if("lt"==(c=h.pop()||""))a="<";else if("space"==c)a=" ";else if("cr"==c)a="\n";else{if(m.hasOwnProperty(c)){pt(e,a=m[c]);continue}a=a[0],o.lastIndex=i.index+1}}e.replaceSelection(a)}}}finally{j.pop(),N=!!j.length&&r}}function U(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}function V(t,n){t.state.vim.inputState=new U,e.signal(t,"vim-command-done",n)}function G(){this.removed=[],this.inserted=""}function H(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function F(e){this.registers=e,this.unnamedRegister=e['"']=new H,e["."]=new H,e[":"]=new H,e["/"]=new H,e["+"]=new H}function J(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}U.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},U.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},H.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(Y(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},F.prototype={pushText:function(e,t,n,r,i){if("_"!==e){r&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var s=this.isValidRegister(e)?this.getRegister(e):null;if(s)Q(e)?s.pushText(n,r):s.setText(n,r,i),"+"===e&&navigator.clipboard.writeText(n),this.unnamedRegister.setText(s.toString(),r);else{switch(t){case"yank":this.registers[0]=new H(n,r,i);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new H(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new H(n,r))}this.unnamedRegister.setText(n,r,i)}}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new H),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&M(e,_)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},J.prototype={nextMatch:function(e,t){var n=this.historyBuffer,r=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var i=this.iterator+r;t?i>=0:i<n.length;i+=r)for(var s=n[i],o=0;o<=s.length;o++)if(this.initialPrefix==s.substring(0,o))return this.iterator=i,s;return i>=n.length?(this.iterator=n.length,this.initialPrefix):i<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var K={matchCommand:function(e,t,n,r){var i,o=function(e,t,n,r){r.operator&&(n="operatorPending");for(var i,o=[],a=[],l=N?t.length-s:0;l<t.length;l++){var c=t[l];"insert"==n&&"insert"!=c.context||c.context&&c.context!=n||r.operator&&"action"==c.type||!(i=ae(e,c.keys))||("partial"==i&&o.push(c),"full"==i&&a.push(c))}return{partial:o.length&&o,full:a.length&&a}}(e,t,r,n);if(!o.full&&!o.partial)return{type:"none"};if(!o.full&&o.partial)return{type:"partial"};for(var a=0;a<o.full.length;a++){var l=o.full[a];i||(i=l)}if("<character>"==i.keys.slice(-11)){var c=function(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}(e);if(!c||c.length>1)return{type:"clear"};n.selectedCharacter=c}return{type:"full",command:i}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=se(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator)return r.motion="expandToLine",r.motionArgs={linewise:!0},void this.evalInput(e,t);V(e)}r.operator=n.operator,r.operatorArgs=se(n.operatorArgs),n.keys.length>1&&(r.operatorShortcut=n.keys),n.exitVisualBlock&&(t.visualBlock=!1,we(e)),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=se(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),s=!!i,o=se(n.actionArgs)||{};r.selectedCharacter&&(o.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),o.repeat=i||1,o.repeatIsExplicit=s,o.registerName=r.registerName,V(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,r,n),re[n.action](e,o,t)},processSearch:function(t,n,r){if(t.getSearchCursor){var i=r.searchArgs.forward,s=r.searchArgs.wholeWordOnly;Ye(t).setReversed(!i);var o=i?"/":"?",a=Ye(t).getQuery(),l=t.getScrollInfo();switch(r.searchArgs.querySrc){case"prompt":var c=I.macroModeState;c.isPlaying?p(d=c.replaySearchQueries.shift(),!0,!1):We(t,{onClose:function(e){t.scrollTo(l.left,l.top),p(e,!0,!0);var n=I.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,r=I.registerController.getRegister(n);r&&r.pushSearchQuery&&r.pushSearchQuery(t)}}(n,e)},prefix:o,desc:"(JavaScript regexp)",onKeyUp:function(n,r,s){var o,a,c,h=e.keyName(n);"Up"==h||"Down"==h?(o="Up"==h,a=n.target?n.target.selectionEnd:0,s(r=I.searchHistoryController.nextMatch(r,o)||""),a&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(a,n.target.value.length))):"Left"!=h&&"Right"!=h&&"Ctrl"!=h&&"Alt"!=h&&"Shift"!=h&&I.searchHistoryController.reset();try{c=Ue(t,r,!0,!0)}catch(n){}c?t.scrollIntoView(He(t,!i,c),30):(Fe(t),t.scrollTo(l.left,l.top))},onKeyDown:function(n,r,i){var s=e.keyName(n);"Esc"==s||"Ctrl-C"==s||"Ctrl-["==s||"Backspace"==s&&""==r?(I.searchHistoryController.pushInput(r),I.searchHistoryController.reset(),Ue(t,a),Fe(t),t.scrollTo(l.left,l.top),e.e_stop(n),V(t),i(),t.focus()):"Up"==s||"Down"==s?e.e_stop(n):"Ctrl-U"==s&&(e.e_stop(n),i(""))}});break;case"wordUnderCursor":var h=_e(t,{noSymbol:!0}),u=!0;if(h||(h=_e(t,{noSymbol:!1}),u=!1),!h)return Ne(t,"No word under cursor"),void V(t);var d=t.getLine(h.start.line).substring(h.start.ch,h.end.ch);d=u&&s?"\\b"+d+"\\b":d.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),I.jumpList.cachedCursor=t.getCursor(),t.setCursor(h.start),p(d,!0,!1)}}function p(e,i,s){I.searchHistoryController.pushInput(e),I.searchHistoryController.reset();try{Ue(t,e,i,s)}catch(n){return Ne(t,"Invalid regex: "+e),void V(t)}K.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:r.searchArgs.toJumplist}})}},processEx:function(t,n,r){function i(e){I.exCommandHistoryController.pushInput(e),I.exCommandHistoryController.reset(),rt.processCommand(t,e),t.state.vim&&V(t)}function s(n,r,i){var s,o,a=e.keyName(n);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==r)&&(I.exCommandHistoryController.pushInput(r),I.exCommandHistoryController.reset(),e.e_stop(n),V(t),i(),t.focus()),"Up"==a||"Down"==a?(e.e_stop(n),s="Up"==a,o=n.target?n.target.selectionEnd:0,i(r=I.exCommandHistoryController.nextMatch(r,s)||""),o&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(o,n.target.value.length))):"Ctrl-U"==a?(e.e_stop(n),i("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&I.exCommandHistoryController.reset()}"keyToEx"==r.type?rt.processCommand(t,r.exArgs.input):n.visualMode?We(t,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:s,selectValueOnOpen:!1}):We(t,{onClose:i,prefix:":",onKeyDown:s})},evalInput:function(e,n){var i,s,o,a=n.inputState,l=a.motion,c=a.motionArgs||{},h=a.operator,u=a.operatorArgs||{},d=a.registerName,p=n.sel,m=ce(n.visualMode?ie(e,p.head):e.getCursor("head")),f=ce(n.visualMode?ie(e,p.anchor):e.getCursor("anchor")),g=ce(m),O=ce(f);if(h&&this.recordLastEdit(n,a),(o=void 0!==a.repeatOverride?a.repeatOverride:a.getRepeat())>0&&c.explicitRepeat?c.repeatIsExplicit=!0:(c.noRepeat||!c.explicitRepeat&&0===o)&&(o=1,c.repeatIsExplicit=!1),a.selectedCharacter&&(c.selectedCharacter=u.selectedCharacter=a.selectedCharacter),c.repeat=o,V(e),l){var v=ee[l](e,m,c,n,a);if(n.lastMotion=ee[l],!v)return;if(c.toJumplist){var b=I.jumpList,y=b.cachedCursor;y?(Ae(e,y,v),delete b.cachedCursor):Ae(e,m,v)}v instanceof Array?(s=v[0],i=v[1]):i=v,i||(i=ce(m)),n.visualMode?(n.visualBlock&&i.ch===1/0||(i=ie(e,i,g)),s&&(s=ie(e,s)),s=s||O,p.anchor=s,p.head=i,we(e),Ee(e,n,"<",ue(s,i)?s:i),Ee(e,n,">",ue(s,i)?i:s)):h||(i=ie(e,i,g),e.setCursor(i.line,i.ch))}if(h){if(u.lastSel){s=O;var w=u.lastSel,x=Math.abs(w.head.line-w.anchor.line),k=Math.abs(w.head.ch-w.anchor.ch);i=w.visualLine?new t(O.line+x,O.ch):w.visualBlock?new t(O.line+x,O.ch+k):w.head.line==w.anchor.line?new t(O.line,O.ch+k):new t(O.line+x,O.ch),n.visualMode=!0,n.visualLine=w.visualLine,n.visualBlock=w.visualBlock,p=n.sel={anchor:s,head:i},we(e)}else n.visualMode&&(u.lastSel={anchor:ce(p.anchor),head:ce(p.head),visualBlock:n.visualBlock,visualLine:n.visualLine});var S,_,A,C,Q;if(n.visualMode){if(S=de(p.head,p.anchor),_=pe(p.head,p.anchor),A=n.visualLine||u.linewise,C=n.visualBlock?"block":A?"line":"char",Q=xe(e,{anchor:(E=r(e,S,_)).start,head:E.end},C),A){var T=Q.ranges;if("block"==C)for(var M=0;M<T.length;M++)T[M].head.ch=fe(e,T[M].head.line);else"line"==C&&(T[0].head=new t(T[0].head.line+1,0))}}else{if(S=ce(s||O),ue(_=ce(i||g),S)){var P=S;S=_,_=P}(A=c.linewise||u.linewise)?function(e,t,n){t.ch=0,n.ch=0,n.line++}(0,S,_):c.forward&&function(e,t,n){var r=e.getRange(t,n);if(/\n\s*$/.test(r)){var i=r.split("\n");i.pop();for(var s=i.pop();i.length>0&&s&&$(s);s=i.pop())n.line--,n.ch=0;s?(n.line--,n.ch=fe(e,n.line)):n.ch=0}}(e,S,_),C="char";var E,Z=!c.inclusive||A;Q=xe(e,{anchor:(E=r(e,S,_)).start,head:E.end},C,Z)}e.setSelections(Q.ranges,Q.primary),n.lastMotion=null,u.repeat=o,u.registerName=d,u.linewise=A;var B=ne[h](e,u,Q.ranges,O,i);n.visualMode&&ke(e,null!=B),B&&e.setCursor(B)}},recordLastEdit:function(e,t,n){var r=I.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!1,r.lastInsertModeChanges.visualBlock=e.visualBlock?e.sel.head.line-e.sel.anchor.line:0)}},ee={moveToTopLine:function(e,n,r){var i=Je(e).top+r.repeat-1;return new t(i,Se(e.getLine(i)))},moveToMiddleLine:function(e){var n=Je(e),r=Math.floor(.5*(n.top+n.bottom));return new t(r,Se(e.getLine(r)))},moveToBottomLine:function(e,n,r){var i=Je(e).bottom-r.repeat+1;return new t(i,Se(e.getLine(i)))},expandToLine:function(e,n,r){return new t(n.line+r.repeat-1,1/0)},findNext:function(e,t,n){var r=Ye(e),i=r.getQuery();if(i){var s=!n.forward;return s=r.isReversed()?!s:s,Ge(e,i),He(e,s,i,n.repeat)}},findAndSelectNextInclusive:function(n,r,i,s,o){var a=Ye(n),l=a.getQuery();if(l){var c=!i.forward,h=function(e,n,r,i,s){return void 0===i&&(i=1),e.operation((function(){var o=e.getCursor(),a=e.getSearchCursor(r,o),l=a.find(!n);!s.visualMode&&l&&he(a.from(),o)&&a.find(!n);for(var c=0;c<i;c++)if(!(l=a.find(n))&&!(a=e.getSearchCursor(r,n?new t(e.lastLine()):new t(e.firstLine(),0))).find(n))return;return[a.from(),a.to()]}))}(n,c=a.isReversed()?!c:c,l,i.repeat,s);if(h){if(o.operator)return h;var u=h[0],d=new t(h[1].line,h[1].ch-1);if(s.visualMode){(s.visualLine||s.visualBlock)&&(s.visualLine=!1,s.visualBlock=!1,e.signal(n,"vim-mode-change",{mode:"visual",subMode:""}));var p=s.sel.anchor;if(p)return a.isReversed()?i.forward?[p,u]:[p,d]:i.forward?[p,d]:[p,u]}else s.visualMode=!0,s.visualLine=!1,s.visualBlock=!1,e.signal(n,"vim-mode-change",{mode:"visual",subMode:""});return c?[d,u]:[u,d]}}},goToMark:function(e,t,n,r){var i=Ke(e,r,n.selectedCharacter);return i?n.linewise?{line:i.line,ch:Se(e.getLine(i.line))}:i:null},moveToOtherHighlightedEnd:function(e,n,r,i){if(i.visualBlock&&r.sameLine){var s=i.sel;return[ie(e,new t(s.anchor.line,s.head.ch)),ie(e,new t(s.head.line,s.anchor.ch))]}return[i.sel.head,i.sel.anchor]},jumpToMark:function(e,n,r,i){for(var s=n,o=0;o<r.repeat;o++){var a=s;for(var l in i.marks)if(C(l)){var c=i.marks[l].find();if(!((r.forward?ue(c,a):ue(a,c))||r.linewise&&c.line==a.line)){var h=he(a,s),u=r.forward?me(a,c,s):me(s,c,a);(h||u)&&(s=c)}}}return r.linewise&&(s=new t(s.line,Se(e.getLine(s.line)))),s},moveByCharacters:function(e,n,r){var i=n,s=r.repeat,o=r.forward?i.ch+s:i.ch-s;return new t(i.line,o)},moveByLines:function(e,n,r,i){var s=n,o=s.ch;switch(i.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:o=i.lastHPos;break;default:i.lastHPos=o}var a=r.repeat+(r.repeatOffset||0),l=r.forward?s.line+a:s.line-a,c=e.firstLine(),h=e.lastLine(),u=e.findPosV(s,r.forward?a:-a,"line",i.lastHSPos);return(r.forward?u.line>l:u.line<l)&&(l=u.line,o=u.ch),l<c&&s.line==c?this.moveToStartOfLine(e,n,r,i):l>h&&s.line==h?Me(e,n,r,i,!0):(r.toFirstChar&&(o=Se(e.getLine(l)),i.lastHPos=o),i.lastHSPos=e.charCoords(new t(l,o),"div").left,new t(l,o))},moveByDisplayLines:function(e,n,r,i){var s=n;switch(i.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:i.lastHSPos=e.charCoords(s,"div").left}var o=r.repeat;if((l=e.findPosV(s,r.forward?o:-o,"line",i.lastHSPos)).hitSide)if(r.forward)var a={top:e.charCoords(l,"div").top+8,left:i.lastHSPos},l=e.coordsChar(a,"div");else{var c=e.charCoords(new t(e.firstLine(),0),"div");c.left=i.lastHSPos,l=e.coordsChar(c,"div")}return i.lastHPos=l.ch,l},moveByPage:function(e,t,n){var r=t,i=n.repeat;return e.findPosV(r,n.forward?i:-i,"page")},moveByParagraph:function(e,t,n){var r=n.forward?1:-1;return Be(e,t,n.repeat,r)},moveBySentence:function(e,n,r){var i=r.forward?1:-1;return function(e,n,r,i){function s(e,t){if(t.pos+t.dir<0||t.pos+t.dir>=t.line.length){if(t.ln+=t.dir,!A(e,t.ln))return t.line=null,t.ln=null,void(t.pos=null);t.line=e.getLine(t.ln),t.pos=t.dir>0?0:t.line.length-1}else t.pos+=t.dir}function o(e,t,n,r){var i=""===(c=e.getLine(t)),o={line:c,ln:t,pos:n,dir:r},a={ln:o.ln,pos:o.pos},l=""===o.line;for(s(e,o);null!==o.line;){if(a.ln=o.ln,a.pos=o.pos,""===o.line&&!l)return{ln:o.ln,pos:o.pos};if(i&&""!==o.line&&!$(o.line[o.pos]))return{ln:o.ln,pos:o.pos};!T(o.line[o.pos])||i||o.pos!==o.line.length-1&&!$(o.line[o.pos+1])||(i=!0),s(e,o)}var c=e.getLine(a.ln);a.pos=0;for(var h=c.length-1;h>=0;--h)if(!$(c[h])){a.pos=h;break}return a}function a(e,t,n,r){var i={line:e.getLine(t),ln:t,pos:n,dir:r},o={ln:i.ln,pos:null},a=""===i.line;for(s(e,i);null!==i.line;){if(""===i.line&&!a)return null!==o.pos?o:{ln:i.ln,pos:i.pos};if(T(i.line[i.pos])&&null!==o.pos&&(i.ln!==o.ln||i.pos+1!==o.pos))return o;""===i.line||$(i.line[i.pos])||(a=!1,o={ln:i.ln,pos:i.pos}),s(e,i)}var l=e.getLine(o.ln);o.pos=0;for(var c=0;c<l.length;++c)if(!$(l[c])){o.pos=c;break}return o}for(var l={ln:n.line,pos:n.ch};r>0;)l=i<0?a(e,l.ln,l.pos,i):o(e,l.ln,l.pos,i),r--;return new t(l.ln,l.pos)}(e,n,r.repeat,i)},moveByScroll:function(e,t,n,r){var i,s=e.getScrollInfo(),o=n.repeat;o||(o=s.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(t,"local");if(n.repeat=o,!(i=ee.moveByDisplayLines(e,t,n,r)))return null;var l=e.charCoords(i,"local");return e.scrollTo(null,s.top+l.top-a.top),i},moveByWords:function(e,n,r){return function(e,n,r,i,s,o){var a=ce(n),l=[];(i&&!s||!i&&s)&&r++;for(var c=!(i&&s),h=0;h<r;h++){var u=Te(e,n,i,o,c);if(!u){var d=fe(e,e.lastLine());l.push(i?{line:e.lastLine(),from:d,to:d}:{line:0,from:0,to:0});break}l.push(u),n=new t(u.line,i?u.to-1:u.from)}var p=l.length!=r,m=l[0],f=l.pop();return i&&!s?(p||m.from==a.ch&&m.line==a.line||(f=l.pop()),new t(f.line,f.from)):i&&s?new t(f.line,f.to-1):!i&&s?(p||m.to==a.ch&&m.line==a.line||(f=l.pop()),new t(f.line,f.to)):new t(f.line,f.from)}(e,n,r.repeat,!!r.forward,!!r.wordEnd,!!r.bigWord)},moveTillCharacter:function(e,t,n){var r=Pe(e,n.repeat,n.forward,n.selectedCharacter,t),i=n.forward?-1:1;return Ce(i,n),r?(r.ch+=i,r):null},moveToCharacter:function(e,t,n){var r=n.repeat;return Ce(0,n),Pe(e,r,n.forward,n.selectedCharacter,t)||t},moveToSymbol:function(e,n,r){return function(e,n,r,i){var s=ce(e.getCursor()),o=r?1:-1,a=r?e.lineCount():-1,l=s.ch,c=s.line,h=e.getLine(c),u={lineText:h,nextCh:h.charAt(l),lastCh:null,index:l,symb:i,reverseSymb:(r?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:r,depth:0,curMoveThrough:!1},d=Qe[i];if(!d)return s;var p=$e[d].init,m=$e[d].isComplete;for(p&&p(u);c!==a&&n;){if(u.index+=o,u.nextCh=u.lineText.charAt(u.index),!u.nextCh){if(c+=o,u.lineText=e.getLine(c)||"",o>0)u.index=0;else{var f=u.lineText.length;u.index=f>0?f-1:0}u.nextCh=u.lineText.charAt(u.index)}m(u)&&(s.line=c,s.ch=u.index,n--)}return u.nextCh||u.curMoveThrough?new t(c,u.index):s}(e,r.repeat,r.forward,r.selectedCharacter)||n},moveToColumn:function(e,n,r,i){var s=r.repeat;return i.lastHPos=s-1,i.lastHSPos=e.charCoords(n,"div").left,function(e,n){var r=e.getCursor().line;return ie(e,new t(r,n-1))}(e,s)},moveToEol:function(e,t,n,r){return Me(e,t,n,r,!1)},moveToFirstNonWhiteSpaceCharacter:function(e,n){var r=n;return new t(r.line,Se(e.getLine(r.line)))},moveToMatchedSymbol:function(e,n){for(var r,i=n,s=i.line,o=i.ch,a=e.getLine(s);o<a.length;o++)if((r=a.charAt(o))&&-1!="()[]{}".indexOf(r)){var l=e.getTokenTypeAt(new t(s,o+1));if("string"!==l&&"comment"!==l)break}if(o<a.length){var c="<"===o||">"===o?/[(){}[\]<>]/:/[(){}[\]]/;return e.findMatchingBracket(new t(s,o),{bracketRegex:c}).to}return i},moveToStartOfLine:function(e,n){return new t(n.line,0)},moveToLineOrEdgeOfDocument:function(e,n,r){var i=r.forward?e.lastLine():e.firstLine();return r.repeatIsExplicit&&(i=r.repeat-e.getOption("firstLineNumber")),new t(i,Se(e.getLine(i)))},moveToStartOfDisplayLine:function(e){return e.execCommand("goLineLeft"),e.getCursor()},moveToEndOfDisplayLine:function(e){e.execCommand("goLineRight");var t=e.getCursor();return"before"==t.sticky&&t.ch--,t},textObjectManipulation:function(n,r,i,s){var o=i.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var a,l,c=!i.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"}[o]){if(l=!0,!(a=Re(n,r,o,c))){var h=n.getSearchCursor(new RegExp("\\"+o,"g"),r);h.find()&&(a=Re(n,h.from(),o,c))}}else if({"'":!0,'"':!0,"`":!0}[o])l=!0,a=function(e,n,r,i){var s,o,a,l,c=ce(n),h=e.getLine(c.line).split(""),u=h.indexOf(r);if(c.ch<u)c.ch=u;else if(u<c.ch&&h[c.ch]==r){var d=/string/.test(e.getTokenTypeAt(oe(n,0,1))),p=/string/.test(e.getTokenTypeAt(n));d&&!p||(o=c.ch,--c.ch)}if(h[c.ch]!=r||o)for(a=c.ch;a>-1&&!s;a--)h[a]==r&&(s=a+1);else s=c.ch+1;if(s&&!o)for(a=s,l=h.length;a<l&&!o;a++)h[a]==r&&(o=a);return s&&o?(i&&(--s,++o),{start:new t(c.line,s),end:new t(c.line,o)}):{start:c,end:c}}(n,r,o,c);else if("W"===o||"w"===o)for(var u=i.repeat||1;u-- >0;){var d=_e(n,{inclusive:c,innerWord:!c,bigWord:"W"===o,noSymbol:"W"===o,multiline:!0},a&&a.end);d&&(a||(a=d),a.end=d.end)}else if("p"===o)if(a=Be(n,r,i.repeat,0,c),i.linewise=!0,s.visualMode)s.visualLine||(s.visualLine=!0);else{var p=s.inputState.operatorArgs;p&&(p.linewise=!0),a.end.line--}else if("t"===o)a=function(t,n,r){var i=n;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:i,end:i};var s=e.findMatchingTag(t,n)||e.findEnclosingTag(t,n);return s&&s.open&&s.close?r?{start:s.open.from,end:s.close.to}:{start:s.open.to,end:s.close.from}:{start:i,end:i}}(n,r,c);else if("s"===o){var m=n.getLine(r.line);r.ch>0&&T(m[r.ch])&&(r.ch-=1);var f=Ie(n,r,i.repeat,1,c),g=Ie(n,r,i.repeat,-1,c);$(n.getLine(g.line)[g.ch])&&$(n.getLine(f.line)[f.ch-1])&&(g={line:g.line,ch:g.ch+1}),a={start:g,end:f}}return a?n.state.vim.visualMode?function(e,n,r,i){var s,o=e.state.vim.sel,a=i?n:o.head,l=i?n:o.anchor;return ue(r,n)&&(s=r,r=n,n=s),ue(a,l)?(a=de(n,a),l=pe(l,r)):(l=de(n,l),-1==(a=oe(a=pe(a,r),0,-1)).ch&&a.line!=e.firstLine()&&(a=new t(a.line-1,fe(e,a.line-1)))),[l,a]}(n,a.start,a.end,l):[a.start,a.end]:null},repeatLastCharacterSearch:function(e,t,n){var r=I.lastCharacterSearch,i=n.repeat,s=n.forward===r.forward,o=(r.increment?1:0)*(s?-1:1);e.moveH(-o,"char"),n.inclusive=!!s;var a=Pe(e,i,s,r.selectedCharacter);return a?(a.ch+=o,a):(e.moveH(o,"char"),t)}};function te(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n}var ne={change:function(e,n,r){var i,s,o=e.state.vim,a=r[0].anchor,l=r[0].head;if(o.visualMode)if(n.fullLine)l.ch=Number.MAX_VALUE,l.line--,e.setSelection(a,l),s=e.getSelection(),e.replaceSelection(""),i=a;else{s=e.getSelection();var c=te("",r.length);e.replaceSelections(c),i=de(r[0].head,r[0].anchor)}else{s=e.getRange(a,l);var h=o.lastEditInputState||{};if("moveByWords"==h.motion&&!$(s)){var u=/\s+$/.exec(s);u&&h.motionArgs&&h.motionArgs.forward&&(l=oe(l,0,-u[0].length),s=s.slice(0,-u[0].length))}n.linewise&&(a=new t(a.line,Se(e.getLine(a.line))),l.line>a.line&&(l=new t(l.line-1,Number.MAX_VALUE))),e.replaceRange("",a,l),i=a}I.registerController.pushText(n.registerName,"change",s,n.linewise,r.length>1),re.enterInsertMode(e,{head:i},e.state.vim)},delete:function(e,n,r){var i,s,o=e.state.vim;if(o.visualBlock){s=e.getSelection();var a=te("",r.length);e.replaceSelections(a),i=de(r[0].head,r[0].anchor)}else{var l=r[0].anchor,c=r[0].head;n.linewise&&c.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==c.line-1&&(l.line==e.firstLine()?l.ch=0:l=new t(l.line-1,fe(e,l.line-1))),s=e.getRange(l,c),e.replaceRange("",l,c),i=l,n.linewise&&(i=ee.moveToFirstNonWhiteSpaceCharacter(e,l))}return I.registerController.pushText(n.registerName,"delete",s,n.linewise,o.visualBlock),ie(e,i)},indent:function(e,t,n){var r=e.state.vim;if(e.indentMore)for(var i=r.visualMode?t.repeat:1,s=0;s<i;s++)t.indentRight?e.indentMore():e.indentLess();else{var o=n[0].anchor.line,a=r.visualBlock?n[n.length-1].anchor.line:n[0].head.line;i=r.visualMode?t.repeat:1,t.linewise&&a--;for(var l=o;l<=a;l++)for(s=0;s<i;s++)e.indentLine(l,t.indentRight)}return ee.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},indentAuto:function(e,t,n){return e.execCommand("indentAuto"),ee.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},hardWrap:function(e,n,r,i,s){if(e.hardWrap){var o=r[0].anchor.line,a=r[0].head.line;n.linewise&&a--;var l=e.hardWrap({from:o,to:a});return l>o&&n.linewise&&l--,n.keepCursor?i:new t(l,0)}},changeCase:function(e,t,n,r,i){for(var s=e.getSelections(),o=[],a=t.toLower,l=0;l<s.length;l++){var c=s[l],h="";if(!0===a)h=c.toLowerCase();else if(!1===a)h=c.toUpperCase();else for(var u=0;u<c.length;u++){var d=c.charAt(u);h+=Q(d)?d.toLowerCase():d.toUpperCase()}o.push(h)}return e.replaceSelections(o),t.shouldMoveCursor?i:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?ee.moveToFirstNonWhiteSpaceCharacter(e,r):t.linewise?r:de(n[0].anchor,n[0].head)},yank:function(e,t,n,r){var i=e.state.vim,s=e.getSelection(),o=i.visualMode?de(i.sel.anchor,i.sel.head,n[0].head,n[0].anchor):r;return I.registerController.pushText(t.registerName,"yank",s,t.linewise,i.visualBlock),o}},re={jumpListWalk:function(e,t,n){if(!n.visualMode){var r=t.repeat,i=t.forward,s=I.jumpList.move(e,i?r:-r),o=s?s.find():void 0;o=o||e.getCursor(),e.setCursor(o)}},scroll:function(e,t,n){if(!n.visualMode){var r=t.repeat||1,i=e.defaultTextHeight(),s=e.getScrollInfo().top,o=i*r,a=t.forward?s+o:s-o,l=ce(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)a>c.top?(l.line+=(a-c.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,a);else{var h=a+e.getScrollInfo().clientHeight;h<c.bottom?(l.line-=(c.bottom-h)/i,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,n){var r=e.getCursor().line,i=e.charCoords(new t(r,0),"local"),s=e.getScrollInfo().clientHeight,o=i.top;switch(n.position){case"center":o=i.bottom-s/2;break;case"bottom":var a=new t(r,e.getLine(r).length-1);o=o-s+(e.charCoords(a,"local").bottom-o)}e.scrollTo(null,o)},replayMacro:function(e,t,n){var r=t.selectedCharacter,i=t.repeat,s=I.macroModeState;for("@"==r?r=s.latestRegister:s.latestRegister=r;i--;)ot(e,n,s,r)},enterMacroRecordMode:function(e,t){var n=I.macroModeState,r=t.selectedCharacter;I.registerController.isValidRegister(r)&&n.enterMacroRecordMode(e,r)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(n,i,s){if(!n.getOption("readOnly")){s.insertMode=!0,s.insertModeRepeat=i&&i.repeat||1;var o=i?i.insertAt:null,a=s.sel,l=i.head||n.getCursor("head"),c=n.listSelections().length;if("eol"==o)l=new t(l.line,fe(n,l.line));else if("bol"==o)l=new t(l.line,0);else if("charAfter"==o)l=r(n,l,oe(l,0,1)).end;else if("firstNonBlank"==o)l=r(n,l,ee.moveToFirstNonWhiteSpaceCharacter(n,l)).end;else if("startOfSelectedArea"==o){if(!s.visualMode)return;s.visualBlock?(l=new t(Math.min(a.head.line,a.anchor.line),Math.min(a.head.ch,a.anchor.ch)),c=Math.abs(a.head.line-a.anchor.line)+1):l=a.head.line<a.anchor.line?a.head:new t(a.anchor.line,0)}else if("endOfSelectedArea"==o){if(!s.visualMode)return;s.visualBlock?(l=new t(Math.min(a.head.line,a.anchor.line),Math.max(a.head.ch,a.anchor.ch)+1),c=Math.abs(a.head.line-a.anchor.line)+1):l=a.head.line>=a.anchor.line?oe(a.head,0,1):new t(a.anchor.line,0)}else if("inplace"==o){if(s.visualMode)return}else"lastEdit"==o&&(l=et(n)||l);n.setOption("disableInput",!1),i&&i.replace?(n.toggleOverwrite(!0),n.setOption("keyMap","vim-replace"),e.signal(n,"vim-mode-change",{mode:"replace"})):(n.toggleOverwrite(!1),n.setOption("keyMap","vim-insert"),e.signal(n,"vim-mode-change",{mode:"insert"})),I.macroModeState.isPlaying||(n.on("change",at),s.insertEnd&&s.insertEnd.clear(),s.insertEnd=n.setBookmark(l,{insertLeft:!0}),e.on(n.getInputField(),"keydown",ut)),s.visualMode&&ke(n),be(n,l,c)}},toggleVisualMode:function(n,i,s){var o,a=i.repeat,l=n.getCursor();if(s.visualMode)s.visualLine^i.linewise||s.visualBlock^i.blockwise?(s.visualLine=!!i.linewise,s.visualBlock=!!i.blockwise,e.signal(n,"vim-mode-change",{mode:"visual",subMode:s.visualLine?"linewise":s.visualBlock?"blockwise":""}),we(n)):ke(n);else{s.visualMode=!0,s.visualLine=!!i.linewise,s.visualBlock=!!i.blockwise;var c=r(n,l,o=ie(n,new t(l.line,l.ch+a-1)));s.sel={anchor:c.start,head:c.end},e.signal(n,"vim-mode-change",{mode:"visual",subMode:s.visualLine?"linewise":s.visualBlock?"blockwise":""}),we(n),Ee(n,s,"<",de(l,o)),Ee(n,s,">",pe(l,o))}},reselectLastSelection:function(t,n,r){var i=r.lastSelection;if(r.visualMode&&ye(t,r),i){var s=i.anchorMark.find(),o=i.headMark.find();if(!s||!o)return;r.sel={anchor:s,head:o},r.visualMode=!0,r.visualLine=i.visualLine,r.visualBlock=i.visualBlock,we(t),Ee(t,r,"<",de(s,o)),Ee(t,r,">",pe(s,o)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""})}},joinLines:function(e,n,r){var i,s;if(r.visualMode){if(i=e.getCursor("anchor"),ue(s=e.getCursor("head"),i)){var o=s;s=i,i=o}s.ch=fe(e,s.line)-1}else{var a=Math.max(n.repeat,2);i=e.getCursor(),s=ie(e,new t(i.line+a-1,1/0))}for(var l=0,c=i.line;c<s.line;c++){l=fe(e,i.line);var h="",u=0;if(!n.keepSpaces){var d=e.getLine(i.line+1);-1==(u=d.search(/\S/))?u=d.length:h=" "}e.replaceRange(h,new t(i.line,l),new t(i.line+1,u))}var p=ie(e,new t(i.line,l));r.visualMode&&ke(e,!1),e.setCursor(p)},newLineAndEnterInsertMode:function(n,r,i){i.insertMode=!0;var s=ce(n.getCursor());s.line!==n.firstLine()||r.after?(s.line=r.after?s.line:s.line-1,s.ch=fe(n,s.line),n.setCursor(s),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(n)):(n.replaceRange("\n",new t(n.firstLine(),0)),n.setCursor(n.firstLine(),0)),this.enterInsertMode(n,{repeat:r.repeat},i)},paste:function(e,t,n){var r=I.registerController.getRegister(t.registerName);if("+"===t.registerName)navigator.clipboard.readText().then((i=>{this.continuePaste(e,t,n,i,r)}));else{var i=r.toString();this.continuePaste(e,t,n,i,r)}},continuePaste:function(e,n,r,i,s){var o=ce(e.getCursor());if(i){if(n.matchIndent){var a=e.getOption("tabSize"),l=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*a+1*n},c=e.getLine(e.getCursor().line),h=l(c.match(/^\s*/)[0]),u=i.replace(/\n$/,""),d=i!==u,p=l(i.match(/^\s*/)[0]);i=u.replace(/^\s*/gm,(function(t){var n=h+(l(t)-p);if(n<0)return"";if(e.getOption("indentWithTabs")){var r=Math.floor(n/a);return Array(r+1).join("\t")}return Array(n+1).join(" ")})),i+=d?"\n":""}n.repeat>1&&(i=Array(n.repeat+1).join(i));var m,f=s.linewise,g=s.blockwise;if(g){i=i.split("\n"),f&&i.pop();for(var O=0;O<i.length;O++)i[O]=""==i[O]?" ":i[O];o.ch+=n.after?1:0,o.ch=Math.min(fe(e,o.line),o.ch)}else f?r.visualMode?i=r.visualLine?i.slice(0,-1):"\n"+i.slice(0,i.length-1)+"\n":n.after?(i="\n"+i.slice(0,i.length-1),o.ch=fe(e,o.line)):o.ch=0:o.ch+=n.after?1:0;if(r.visualMode){var v;r.lastPastedText=i;var b=function(e,n){var r=n.lastSelection;return n.visualMode?function(){var t=e.listSelections(),n=t[0],r=t[t.length-1];return[ue(n.anchor,n.head)?n.anchor:n.head,ue(r.anchor,r.head)?r.head:r.anchor]}():function(){var n=e.getCursor(),i=e.getCursor(),s=r.visualBlock;if(s){var o=s.width,a=s.height;i=new t(n.line+a,n.ch+o);for(var l=[],c=n.line;c<i.line;c++){var h={anchor:new t(c,n.ch),head:new t(c,i.ch)};l.push(h)}e.setSelections(l)}else{var u=r.anchorMark.find(),d=r.headMark.find(),p=d.line-u.line,m=d.ch-u.ch;i={line:i.line+p,ch:p?i.ch:m+i.ch},r.visualLine&&(n=new t(n.line,0),i=new t(i.line,fe(e,i.line))),e.setSelection(n,i)}return[n,i]}()}(e,r),y=b[0],w=b[1],x=e.getSelection(),k=e.listSelections(),S=new Array(k.length).join("1").split("1");r.lastSelection&&(v=r.lastSelection.headMark.find()),I.registerController.unnamedRegister.setText(x),g?(e.replaceSelections(S),w=new t(y.line+i.length-1,y.ch),e.setCursor(y),ve(e,w),e.replaceSelections(i),m=y):r.visualBlock?(e.replaceSelections(S),e.setCursor(y),e.replaceRange(i,y,y),m=y):(e.replaceRange(i,y,w),m=e.posFromIndex(e.indexFromPos(y)+i.length-1)),v&&(r.lastSelection.headMark=e.setBookmark(v)),f&&(m.ch=0)}else if(g){for(e.setCursor(o),O=0;O<i.length;O++)(_=o.line+O)>e.lastLine()&&e.replaceRange("\n",new t(_,0)),fe(e,_)<o.ch&&Oe(e,_,o.ch);e.setCursor(o),ve(e,new t(o.line+i.length-1,o.ch)),e.replaceSelections(i),m=o}else if(e.replaceRange(i,o),f){var _=n.after?o.line+1:o.line;m=new t(_,Se(e.getLine(_)))}else m=ce(o),/\n/.test(i)||(m.ch+=i.length-(n.after?1:0));r.visualMode&&ke(e,!1),e.setCursor(m)}},undo:function(t,n){t.operation((function(){le(t,e.commands.undo,n.repeat)(),t.setCursor(ie(t,t.getCursor("start")))}))},redo:function(t,n){le(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},insertRegister:function(e,t,n){var r=t.selectedCharacter,i=I.registerController.getRegister(r),s=i&&i.toString();s&&e.replaceSelection(s)},oneNormalCommand:function(t,n,r){it(t,!0),r.insertModeReturn=!0,e.on(t,"vim-command-done",(function n(){r.visualMode||(r.insertModeReturn&&(r.insertModeReturn=!1,r.insertMode||re.enterInsertMode(t,{},r)),e.off(t,"vim-command-done",n))}))},setMark:function(e,t,n){Ee(e,n,t.selectedCharacter,e.getCursor())},replace:function(n,i,s){var o,a,l=i.selectedCharacter,c=n.getCursor(),h=n.listSelections();if(s.visualMode)c=n.getCursor("start"),a=n.getCursor("end");else{var u=n.getLine(c.line);(o=c.ch+i.repeat)>u.length&&(o=u.length),a=new t(c.line,o)}var d=r(n,c,a);if(c=d.start,a=d.end,"\n"==l)s.visualMode||n.replaceRange("",c,a),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(n);else{var p=n.getRange(c,a);if(p=(p=p.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l)).replace(/[^\n]/g,l),s.visualBlock){var m=new Array(n.getOption("tabSize")+1).join(" ");p=(p=(p=n.getSelection()).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l)).replace(/\t/g,m).replace(/[^\n]/g,l).split("\n"),n.replaceSelections(p)}else n.replaceRange(p,c,a);s.visualMode?(c=ue(h[0].anchor,h[0].head)?h[0].anchor:h[0].head,n.setCursor(c),ke(n,!1)):n.setCursor(oe(a,0,-1))}},incrementNumberToken:function(e,n){for(var r,i,s,o,a=e.getCursor(),l=e.getLine(a.line),c=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;null!==(r=c.exec(l))&&(s=(i=r.index)+r[0].length,!(a.ch<s)););if((n.backtrack||!(s<=a.ch))&&r){var h=r[2]||r[4],u=r[3]||r[5],d=n.increase?1:-1,p={"0b":2,0:8,"":10,"0x":16}[h.toLowerCase()];o=(parseInt(r[1]+u,p)+d*n.repeat).toString(p);var m=h?new Array(u.length-o.length+1+r[1].length).join("0"):"";o="-"===o.charAt(0)?"-"+h+m+o.substr(1):h+m+o;var f=new t(a.line,i),g=new t(a.line,s);e.replaceRange(o,f,g),e.setCursor(new t(a.line,i+o.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var r=t.repeat;r&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,dt(e,n,r,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:it};function ie(e,n,r){var i=e.state.vim,s=i.insertMode||i.visualMode,o=Math.min(Math.max(e.firstLine(),n.line),e.lastLine()),a=e.getLine(o),l=a.length-1+Number(!!s),c=Math.min(Math.max(0,n.ch),l),h=a.charCodeAt(c);if(56320<=h&&h<=57343){var u=1;r&&r.line==o&&r.ch>c&&(u=-1),(c+=u)>l&&(c-=2)}return new t(o,c)}function se(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function oe(e,n,r){return"object"==typeof n&&(r=n.ch,n=n.line),new t(e.line+n,e.ch+r)}function ae(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,r=e.slice(0,n),i=t.slice(0,n);return r==i&&e.length>n?"full":0==i.indexOf(r)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function le(e,t,n){return function(){for(var r=0;r<n;r++)t(e)}}function ce(e){return new t(e.line,e.ch)}function he(e,t){return e.ch==t.ch&&e.line==t.line}function ue(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function de(e,t){return arguments.length>2&&(t=de.apply(void 0,Array.prototype.slice.call(arguments,1))),ue(e,t)?e:t}function pe(e,t){return arguments.length>2&&(t=pe.apply(void 0,Array.prototype.slice.call(arguments,1))),ue(e,t)?t:e}function me(e,t,n){var r=ue(e,t),i=ue(t,n);return r&&i}function fe(e,t){return e.getLine(t).length}function ge(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Oe(e,n,r){var i=fe(e,n),s=new Array(r-i+1).join(" ");e.setCursor(new t(n,i)),e.replaceRange(s,e.getCursor())}function ve(e,n){var r=[],i=e.listSelections(),s=ce(e.clipPos(n)),o=!he(n,s),a=function(e,t,n){for(var r=0;r<e.length;r++){var i=he(e[r].anchor,t),s=he(e[r].head,t);if(i||s)return r}return-1}(i,e.getCursor("head")),l=he(i[a].head,i[a].anchor),c=i.length-1,h=c-a>a?c:0,u=i[h].anchor,d=Math.min(u.line,s.line),p=Math.max(u.line,s.line),m=u.ch,f=s.ch,g=i[h].head.ch-m,O=f-m;g>0&&O<=0?(m++,o||f--):g<0&&O>=0?(m--,l||f++):g<0&&-1==O&&(m--,f++);for(var v=d;v<=p;v++){var b={anchor:new t(v,m),head:new t(v,f)};r.push(b)}return e.setSelections(r),n.ch=f,u.ch=m,u}function be(e,t,n){for(var r=[],i=0;i<n;i++){var s=oe(t,i,0);r.push({anchor:s,head:s})}e.setSelections(r,0)}function ye(e,t){var n=t.sel.anchor,r=t.sel.head;t.lastPastedText&&(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(r),anchor:ce(n),head:ce(r),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function we(e,t,n){var r=e.state.vim,i=xe(e,t=t||r.sel,n=n||r.visualLine?"line":r.visualBlock?"block":"char");e.setSelections(i.ranges,i.primary)}function xe(e,n,r,i){var s=ce(n.head),o=ce(n.anchor);if("char"==r){var a=i||ue(n.head,n.anchor)?0:1,l=ue(n.head,n.anchor)?1:0;return s=oe(n.head,0,a),{ranges:[{anchor:o=oe(n.anchor,0,l),head:s}],primary:0}}if("line"==r){if(ue(n.head,n.anchor))s.ch=0,o.ch=fe(e,o.line);else{o.ch=0;var c=e.lastLine();s.line>c&&(s.line=c),s.ch=fe(e,s.line)}return{ranges:[{anchor:o,head:s}],primary:0}}if("block"==r){var h=Math.min(o.line,s.line),u=o.ch,d=Math.max(o.line,s.line),p=s.ch;u<p?p+=1:u+=1;for(var m=d-h+1,f=s.line==h?0:m-1,g=[],O=0;O<m;O++)g.push({anchor:new t(h+O,u),head:new t(h+O,p)});return{ranges:g,primary:f}}}function ke(t,n){var r=t.state.vim;!1!==n&&t.setCursor(ie(t,r.sel.head)),ye(t,r),r.visualMode=!1,r.visualLine=!1,r.visualBlock=!1,r.insertMode||e.signal(t,"vim-mode-change",{mode:"normal"})}function Se(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function _e(e,{inclusive:n,innerWord:r,bigWord:i,noSymbol:s,multiline:o},a){var l,c=a||function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=de(t,e.getCursor("anchor"))),t}(e),h=e.getLine(c.line),u=h,d=c.line,p=d,m=c.ch,f=s?O[0]:v[0];if(r&&/\s/.test(h.charAt(m)))f=function(e){return/\s/.test(e)};else{for(;!f(h.charAt(m));)if(++m>=h.length){if(!o)return null;m--,l=Te(e,c,!0,i,!0);break}i?f=v[0]:(f=O[0])(h.charAt(m))||(f=O[1])}for(var g=m,b=m;f(h.charAt(b))&&b>=0;)b--;if(b++,l)g=l.to,p=l.line,(u=e.getLine(p))||0!=g||g++;else for(;f(h.charAt(g))&&g<h.length;)g++;if(n){var y=g,w=c.ch<=b&&/\s/.test(h.charAt(c.ch));if(!w)for(;/\s/.test(u.charAt(g))&&g<u.length;)g++;if(y==g||w){for(var x=b;/\s/.test(h.charAt(b-1))&&b>0;)b--;b||w||(b=x)}}return{start:new t(d,b),end:new t(p,g)}}function Ae(e,t,n){he(t,n)||I.jumpList.add(e,t,n)}function Ce(e,t){I.lastCharacterSearch.increment=e,I.lastCharacterSearch.forward=t.forward,I.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var Qe={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},$e={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/^#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function Te(e,t,n,r,i){var s=t.line,o=t.ch,a=e.getLine(s),l=n?1:-1,c=r?v:O;if(i&&""==a){if(s+=l,a=e.getLine(s),!A(e,s))return null;o=n?0:a.length}for(;;){if(i&&""==a)return{from:0,to:0,line:s};for(var h=l>0?a.length:-1,u=h,d=h;o!=h;){for(var p=!1,m=0;m<c.length&&!p;++m)if(c[m](a.charAt(o))){for(u=o;o!=h&&c[m](a.charAt(o));)o+=l;if(p=u!=(d=o),u==t.ch&&s==t.line&&d==u+l)continue;return{from:Math.min(u,d+1),to:Math.max(u,d),line:s}}p||(o+=l)}if(!A(e,s+=l))return null;a=e.getLine(s),o=l>0?0:a.length}}function Me(e,n,r,i,s){var o=new t(n.line+r.repeat-1,1/0),a=e.clipPos(o);return a.ch--,s||(i.lastHPos=1/0,i.lastHSPos=e.charCoords(a,"div").left),o}function Pe(e,n,r,i,s){for(var o,a=s||e.getCursor(),l=a.ch,c=0;c<n;c++){if(-1==(o=Ze(l,e.getLine(a.line),i,r,!0)))return null;l=o}return new t(e.getCursor().line,o)}function Ee(e,t,n,r){M(n,S)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}function Ze(e,t,n,r,i){var s;return r?-1==(s=t.indexOf(n,e+1))||i||(s-=1):-1==(s=t.lastIndexOf(n,e-1))||i||(s+=1),s}function Be(e,n,r,i,s){var o,a=n.line,l=e.firstLine(),c=e.lastLine(),h=a;function u(t){return!e.getLine(t)}function d(e,t,n){return n?u(e)!=u(e+t):!u(e)&&u(e+t)}if(i){for(;l<=h&&h<=c&&r>0;)d(h,i)&&r--,h+=i;return new t(h,0)}var p=e.state.vim;if(p.visualLine&&d(a,1,!0)){var m=p.sel.anchor;d(m.line,-1,!0)&&(s&&m.line==a||(a+=1))}var f=u(a);for(h=a;h<=c&&r;h++)d(h,1,!0)&&(s&&u(h)==f||r--);for(o=new t(h,0),h>c&&!f?f=!0:s=!1,h=a;h>l&&(s&&u(h)!=f&&h!=a||!d(h,-1,!0));h--);return{start:new t(h,0),end:o}}function Ie(e,n,r,i,s){function o(e){e.pos+e.dir<0||e.pos+e.dir>=e.line.length?e.line=null:e.pos+=e.dir}function a(e,t,n,r){var i={line:e.getLine(t),ln:t,pos:n,dir:r};if(""===i.line)return{ln:i.ln,pos:i.pos};var a=i.pos;for(o(i);null!==i.line;){if(a=i.pos,T(i.line[i.pos])){if(s){for(o(i);null!==i.line&&$(i.line[i.pos]);)a=i.pos,o(i);return{ln:i.ln,pos:a+1}}return{ln:i.ln,pos:i.pos+1}}o(i)}return{ln:i.ln,pos:a+1}}function l(e,t,n,r){var i=e.getLine(t),a={line:i,ln:t,pos:n,dir:r};if(""===a.line)return{ln:a.ln,pos:a.pos};var l=a.pos;for(o(a);null!==a.line;){if($(a.line[a.pos])||T(a.line[a.pos])){if(T(a.line[a.pos]))return s&&$(a.line[a.pos+1])?{ln:a.ln,pos:a.pos+1}:{ln:a.ln,pos:l}}else l=a.pos;o(a)}return a.line=i,s&&$(a.line[a.pos])?{ln:a.ln,pos:a.pos}:{ln:a.ln,pos:l}}for(var c={ln:n.line,pos:n.ch};r>0;)c=i<0?l(e,c.ln,c.pos,i):a(e,c.ln,c.pos,i),r--;return new t(c.ln,c.pos)}function Re(e,n,r,i){var s,o,a=n,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[r],c={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[r],h=e.getLine(a.line).charAt(a.ch)===c?1:0;if(s=e.scanForBracket(new t(a.line,a.ch+h),-1,void 0,{bracketRegex:l}),o=e.scanForBracket(new t(a.line,a.ch+h),1,void 0,{bracketRegex:l}),!s||!o)return null;if(s=s.pos,o=o.pos,s.line==o.line&&s.ch>o.ch||s.line>o.line){var u=s;s=o,o=u}return i?o.ch+=1:s.ch+=1,{start:s,end:o}}function ze(){}function Ye(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new ze)}function Le(e,t){var n=De(e,t)||[];if(!n.length)return[];var r=[];if(0===n[0]){for(var i=0;i<n.length;i++)"number"==typeof n[i]&&r.push(e.substring(n[i]+1,n[i+1]));return r}}function De(e,t){t||(t="/");for(var n=!1,r=[],i=0;i<e.length;i++){var s=e.charAt(i);n||s!=t||r.push(i),n=!n&&"\\"==s}return r}E("pcre",!0,"boolean"),ze.prototype={getQuery:function(){return I.query},setQuery:function(e){I.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return I.isReversed},setReversed:function(e){I.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Xe={"\\n":"\n","\\r":"\r","\\t":"\t"},qe={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t","\\&":"&"};function je(e){"string"==typeof e&&(e=document.createElement(e));for(var t,n=1;n<arguments.length;n++)if(t=arguments[n])if("object"!=typeof t&&(t=document.createTextNode(t)),t.nodeType)e.appendChild(t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("$"===r[0]?e.style[r.slice(1)]=t[r]:e.setAttribute(r,t[r]));return e}function Ne(e,t){var n=je("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},t);e.openNotification?e.openNotification(n,{bottom:!0,duration:5e3}):alert(n.innerText)}function We(e,t){var n,r,i=(n=t.prefix,r=t.desc,je("div",{$display:"flex"},je("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},n,je("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),r&&je("span",{$color:"#888"},r)));if(e.openDialog)e.openDialog(i,t.onClose,{onKeyDown:t.onKeyDown,onKeyUp:t.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:t.value});else{var s="";"string"!=typeof t.prefix&&t.prefix&&(s+=t.prefix.textContent),t.desc&&(s+=" "+t.desc),t.onClose(prompt(s,""))}}function Ue(e,t,n,r){if(t){var i=Ye(e),s=function(e,t,n){if(I.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var r,i,s=De(e,"/");return s.length?(r=e.substring(0,s[0]),i=-1!=e.substring(s[0]).indexOf("i")):r=e,r?(B("pcre")||(r=function(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",s=e.charAt(r+1)||"",o=s&&-1!="|(){".indexOf(s);t?("\\"===i&&o||n.push(i),t=!1):"\\"===i?(t=!0,s&&-1!="}".indexOf(s)&&(o=!0),o&&"\\"!==s||n.push(i)):(n.push(i),o&&"\\"!==s&&n.push("\\"))}return n.join("")}(r)),n&&(t=/^[^A-Z]*$/.test(r)),new RegExp(r,t||i?"im":"m")):null}(t,!!n,!!r);if(s)return Ge(e,s),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}(s,i.getQuery())||i.setQuery(s),s}}var Ve=0;function Ge(e,t){clearTimeout(Ve),Ve=setTimeout((function(){if(e.state.vim){var n=Ye(e),r=n.getOverlay();r&&t==r.query||(r&&e.removeOverlay(r),r=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var r=n.match(e,!1);if(r)return 0==r[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+r[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(r),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(r))}}),50)}function He(e,n,r,i){return void 0===i&&(i=1),e.operation((function(){for(var s=e.getCursor(),o=e.getSearchCursor(r,s),a=0;a<i;a++){var l=o.find(n);if(0==a&&l&&he(o.from(),s)){var c=n?o.from():o.to();(l=o.find(n))&&!l[0]&&he(o.from(),c)&&e.getLine(c.line).length==c.ch&&(l=o.find(n))}if(!l&&!(o=e.getSearchCursor(r,n?new t(e.lastLine()):new t(e.firstLine(),0))).find(n))return}return o.from()}))}function Fe(e){var t=Ye(e);e.removeOverlay(Ye(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function Je(e){var t=e.getScrollInfo(),n=e.coordsChar({left:0,top:6+t.top},"local"),r=t.clientHeight-10+t.top,i=e.coordsChar({left:0,top:r},"local");return{top:n.line,bottom:i.line}}function Ke(e,n,r){if("'"==r||"`"==r)return I.jumpList.find(e,-1)||new t(0,0);if("."==r)return et(e);var i=n.marks[r];return i&&i.find()}function et(e){if(e.getLastEditEnd)return e.getLastEditEnd();for(var t=e.doc.history.done,n=t.length;n--;)if(t[n].changes)return ce(t[n].changes[0].to)}var tt=function(){this.buildCommandMap_()};tt.prototype={processCommand:function(e,t,n){var r=this;e.operation((function(){e.curOp.isVimOp=!0,r._processCommand(e,t,n)}))},_processCommand:function(t,n,r){var i=t.state.vim,s=I.registerController.getRegister(":"),o=s.toString(),a=new e.StringStream(n);s.setText(n);var l,c,h=r||{};h.input=n;try{this.parseInput_(t,a,h)}catch(e){throw Ne(t,e.toString()),e}if(i.visualMode&&ke(t),h.commandName){if(l=this.matchCommand_(h.commandName)){if(c=l.name,l.excludeFromCommandHistory&&s.setText(o),this.parseCommandArgs_(a,h,l),"exToKey"==l.type){for(var u=0;u<l.toKeys.length;u++)q.handleKey(t,l.toKeys[u],"mapping");return}if("exToEx"==l.type)return void this.processCommand(t,l.toInput)}}else void 0!==h.line&&(c="move");if(c)try{nt[c](t,h),l&&l.possiblyAsync||!h.callback||h.callback()}catch(e){throw Ne(t,e.toString()),e}else Ne(t,'Not an editor command ":'+n+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t))),null==n.line?e.state.vim.visualMode?(n.selectionLine=Ke(e,e.state.vim,"<")?.line,n.selectionLineEnd=Ke(e,e.state.vim,">")?.line):n.selectionLine=e.getCursor().line:(n.selectionLine=n.line,n.selectionLineEnd=n.lineEnd);var r=t.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return n.commandName=r?r[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var r=t.next(),i=Ke(e,e.state.vim,r);if(!i)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,i.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var r=parseInt(n[2],10);"-"==n[1]?t-=r:t+=r}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=ge(t.argString).split(r);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(0===r.name.indexOf(e))return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<o.length;e++){var t=o[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(e,t,n,r){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var s=e.substring(1);":"!=t&&":"==t.charAt(0)?this.commandMap_[s]={name:s,type:"exToEx",toInput:t.substring(1),user:!0}:this.commandMap_[s]={name:s,type:"exToKey",toKeys:t,user:!0}}else if(":"!=t&&":"==t.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:t.substring(1)}};n&&(o.context=n),i.unshift(o)}else o={keys:e,type:"keyToKey",toKeys:t,noremap:!!r},n&&(o.context=n),i.unshift(o)},unmap:function(e,t){if(":"!=e&&":"==e.charAt(0)){if(t)throw Error("Mode not supported for ex mappings");var n=e.substring(1);if(this.commandMap_[n]&&this.commandMap_[n].user)return delete this.commandMap_[n],!0}else for(var r=e,s=0;s<i.length;s++)if(r==i[s].keys&&i[s].context===t)return i.splice(s,1),!0}};var nt={colorscheme:function(e,t){!t.args||t.args.length<1?Ne(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n,r){var i=t.args;!i||i.length<2?e&&Ne(e,"Invalid mapping: "+t.input):rt.map(i[0],i[1],n,r)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},omap:function(e,t){this.map(e,t,"operatorPending")},noremap:function(e,t){this.map(e,t,void 0,!0)},inoremap:function(e,t){this.map(e,t,"insert",!0)},nnoremap:function(e,t){this.map(e,t,"normal",!0)},vnoremap:function(e,t){this.map(e,t,"visual",!0)},onoremap:function(e,t){this.map(e,t,"operatorPending",!0)},unmap:function(e,t,n){var r=t.args;(!r||r.length<1||!rt.unmap(r[0],n))&&e&&Ne(e,"No such mapping: "+t.input)},mapclear:function(e,t){q.mapclear()},imapclear:function(e,t){q.mapclear("insert")},nmapclear:function(e,t){q.mapclear("normal")},vmapclear:function(e,t){q.mapclear("visual")},omapclear:function(e,t){q.mapclear("operatorPending")},move:function(e,t){K.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,r=t.setCfg||{};if(!n||n.length<1)e&&Ne(e,"Invalid mapping: "+t.input);else{var i=n[0].split("="),s=i[0],o=i[1],a=!1,l=!1;if("?"==s.charAt(s.length-1)){if(o)throw Error("Trailing characters: "+t.argString);s=s.substring(0,s.length-1),a=!0}else"!"==s.charAt(s.length-1)&&(s=s.substring(0,s.length-1),l=!0);void 0===o&&"no"==s.substring(0,2)&&(s=s.substring(2),o=!1);var c=P[s]&&"boolean"==P[s].type;if(c&&(l?o=!B(s,e,r):null==o&&(o=!0)),!c&&void 0===o||a){var h=B(s,e,r);h instanceof Error?Ne(e,h.message):Ne(e,!0===h||!1===h?" "+(h?"":"no")+s:"  "+s+"="+h)}else{var u=Z(s,o,e,r);u instanceof Error&&Ne(e,u.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,r=I.registerController.registers,i="----------Registers----------\n\n";if(n){n=n.join("");for(var s=0;s<n.length;s++)o=n.charAt(s),I.registerController.isValidRegister(o)&&(i+='"'+o+"    "+(r[o]||new H).toString()+"\n")}else for(var o in r){var a=r[o].toString();a.length&&(i+='"'+o+"    "+a+"\n")}Ne(e,i)},sort:function(n,r){var i,s,o,a,l,c=function(){if(r.argString){var t=new e.StringStream(r.argString);if(t.eat("!")&&(i=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var n=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!n&&!t.eol())return"Invalid arguments";if(n[1]){s=-1!=n[1].indexOf("i"),o=-1!=n[1].indexOf("u");var c=-1!=n[1].indexOf("d")||-1!=n[1].indexOf("n")&&1,h=-1!=n[1].indexOf("x")&&1,u=-1!=n[1].indexOf("o")&&1;if(c+h+u>1)return"Invalid arguments";a=(c?"decimal":h&&"hex")||u&&"octal"}n[2]&&(l=new RegExp(n[2].substr(1,n[2].length-2),s?"i":""))}}();if(c)Ne(n,c+": "+r.argString);else{var h=r.line||n.firstLine(),u=r.lineEnd||r.line||n.lastLine();if(h!=u){var d=new t(h,0),p=new t(u,fe(n,u)),m=n.getRange(d,p).split("\n"),f=l||("decimal"==a?/(-?)([\d]+)/:"hex"==a?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==a?/([0-7]+)/:null),g="decimal"==a?10:"hex"==a?16:"octal"==a?8:null,O=[],v=[];if(a||l)for(var b=0;b<m.length;b++){var y=l?m[b].match(l):null;y&&""!=y[0]?O.push(y):!l&&f.exec(m[b])?O.push(m[b]):v.push(m[b])}else v=m;if(O.sort(l?function(e,t){var n;return i&&(n=e,e=t,t=n),s&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}:k),l)for(b=0;b<O.length;b++)O[b]=O[b].input;else a||v.sort(k);if(m=i?O.concat(v):v.concat(O),o){var w,x=m;for(m=[],b=0;b<x.length;b++)x[b]!=w&&m.push(x[b]),w=x[b]}n.replaceRange(m.join("\n"),d,p)}}function k(e,t){var n;i&&(n=e,e=t,t=n),s&&(e=e.toLowerCase(),t=t.toLowerCase());var r=a&&f.exec(e),o=a&&f.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),g))-(o=parseInt((o[1]+o[2]).toLowerCase(),g)):e<t?-1:1}},vglobal:function(e,t){this.global(e,t)},normal:function(e,t){var n=t.argString;if(n&&"!"==n[0]&&(n=n.slice(1),N=!0),n=n.trimStart()){var r=t.line;if("number"==typeof r)for(var i=isNaN(t.lineEnd)?r:t.lineEnd,s=r;s<=i;s++)e.setCursor(s,0),W(e,t.argString.trimStart()),e.state.vim.insertMode&&it(e,!0);else W(e,t.argString.trimStart()),e.state.vim.insertMode&&it(e,!0)}else Ne(e,"Argument is required.")},global:function(e,t){var n=t.argString;if(n){var r="v"===t.commandName[0];"!"===n[0]&&"g"===t.commandName[0]&&(r=!0,n=n.slice(1));var i,s=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),a=function(e){return Le(e,"/")}(n),l=n;if(a.length&&(l=a[0],i=a.slice(1,a.length).join("/")),l)try{Ue(e,l,!0,!0)}catch(t){return void Ne(e,"Invalid regex: "+l)}for(var c=Ye(e).getQuery(),h=[],u=s;u<=o;u++){var d=e.getLine(u);c.test(d)!==r&&h.push(i?e.getLineHandle(u):d)}if(i){var p=0,m=function(){if(p<h.length){var t=h[p++],n=e.getLineNumber(t);if(null==n)return void m();var r=n+1+i;rt.processCommand(e,r,{callback:m})}else e.releaseLineHandles&&e.releaseLineHandles()};m()}else Ne(e,h.join("\n"))}else Ne(e,"Regular Expression missing from global")},substitute:function(n,r){if(!n.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,s,o,a,l=r.argString,c=l?Le(l,l[0]):[],h="",u=!1,d=!1;if(c.length)i=c[0],B("pcre")&&""!==i&&(i=new RegExp(i).source),void 0!==(h=c[1])&&(h=B("pcre")?function(t){for(var n=new e.StringStream(t),r=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)r.push(n.next());var i=!1;for(var s in qe)if(n.match(s,!0)){i=!0,r.push(qe[s]);break}i||r.push(n.next())}return r.join("")}(h.replace(/([^\\])&/g,"$1$$&")):function(e){for(var t,n=!1,r=[],i=-1;i<e.length;i++){var s=e.charAt(i)||"",o=e.charAt(i+1)||"";Xe[s+o]?(r.push(Xe[s+o]),i++):n?(r.push(s),n=!1):"\\"===s?(n=!0,t=o,g.test(t)||"$"===o?r.push("$"):"/"!==o&&"\\"!==o&&r.push("\\")):("$"===s&&r.push("$"),r.push(s),"/"===o&&r.push("\\"))}return r.join("")}(h),I.lastSubstituteReplacePart=h),s=c[2]?c[2].split(" "):[];else if(l&&l.length)return void Ne(n,"Substitutions should be of the form :s/pattern/replace/");if(s&&(o=s[0],a=parseInt(s[1]),o&&(-1!=o.indexOf("c")&&(u=!0),-1!=o.indexOf("g")&&(d=!0),i=B("pcre")?i+"/"+o:i.replace(/\//g,"\\/")+"/"+o)),i)try{Ue(n,i,!0,!0)}catch(e){return void Ne(n,"Invalid regex: "+i)}if(void 0!==(h=h||I.lastSubstituteReplacePart)){var p=Ye(n).getQuery(),m=void 0!==r.line?r.line:n.getCursor().line,f=r.lineEnd||m;m==n.firstLine()&&f==n.lastLine()&&(f=1/0),a&&(f=(m=f)+a-1);var O=ie(n,new t(m,0)),v=n.getSearchCursor(p,O);!function(t,n,r,i,s,o,a,l,c){t.state.vim.exMode=!0;var h,u,d,p=!1;function m(){t.operation((function(){for(;!p;)f(),g();O()}))}function f(){var e=t.getRange(o.from(),o.to()).replace(a,l),n=o.to().line;o.replace(e),u=o.to().line,s+=u-n,d=u<n}function g(){for(;l=void 0,c=void 0,l=h&&ce(o.to()),(c=o.findNext())&&!c[0]&&l&&he(o.from(),l)&&(c=o.findNext()),c&&(e=o.from(),n=i,a=s,"number"!=typeof e&&(e=e.line),n instanceof Array?M(e,n):"number"==typeof a?e>=n&&e<=a:e==n);)if(r||o.from().line!=u||d)return t.scrollIntoView(o.from(),30),t.setSelection(o.from(),o.to()),h=o.from(),void(p=!1);var e,n,a,l,c;p=!0}function O(e){if(e&&e(),t.focus(),h){t.setCursor(h);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=h.ch}c&&c()}if(g(),!p)return n?void We(t,{prefix:je("span","replace with ",je("strong",l)," (y/n/a/q/l)"),onKeyDown:function(n,r,i){switch(e.e_stop(n),e.keyName(n)){case"Y":f(),g();break;case"N":g();break;case"A":var s=c;c=void 0,t.operation(m),c=s;break;case"L":f();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":O(i)}return p&&O(i),!0}}):(m(),void(c&&c()));Ne(t,"No matches for "+a.source)}(n,u,d,m,f,v,p,h,r.callback)}else Ne(n,"No previous substitute regular expression")},startinsert:function(e,t){W(e,"!"==t.argString?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){Fe(e)},yank:function(e){var t=ce(e.getCursor()).line,n=e.getLine(t);I.registerController.pushText("0","yank",n,!0,!0)},delete:function(e,n){var r=n.selectionLine,i=isNaN(n.selectionLineEnd)?r:n.selectionLineEnd;ne.delete(e,{linewise:!0},[{anchor:new t(r,0),head:new t(i+1,0)}])},join:function(e,n){var r=n.selectionLine,i=isNaN(n.selectionLineEnd)?r:n.selectionLineEnd;e.setCursor(new t(r,0)),re.joinLines(e,{repeat:i-r},e.state.vim)},delmarks:function(t,n){if(n.argString&&ge(n.argString))for(var r=t.state.vim,i=new e.StringStream(ge(n.argString));!i.eol();){i.eatSpace();var s=i.pos;if(!i.match(/[a-zA-Z]/,!1))return void Ne(t,"Invalid argument: "+n.argString.substring(s));var o=i.next();if(i.match("-",!0)){if(!i.match(/[a-zA-Z]/,!1))return void Ne(t,"Invalid argument: "+n.argString.substring(s));var a=o,l=i.next();if(!(C(a)&&C(l)||Q(a)&&Q(l)))return void Ne(t,"Invalid argument: "+a+"-");var c=a.charCodeAt(0),h=l.charCodeAt(0);if(c>=h)return void Ne(t,"Invalid argument: "+n.argString.substring(s));for(var u=0;u<=h-c;u++){var d=String.fromCharCode(c+u);delete r.marks[d]}}else delete r.marks[o]}else Ne(t,"Argument required")}},rt=new tt;function it(t,n){var r=t.state.vim,i=I.macroModeState,s=I.registerController.getRegister("."),o=i.isPlaying,a=i.lastInsertModeChanges;o||(t.off("change",at),r.insertEnd&&r.insertEnd.clear(),r.insertEnd=null,e.off(t.getInputField(),"keydown",ut)),!o&&r.insertModeRepeat>1&&(dt(t,r,r.insertModeRepeat-1,!0),r.lastEditInputState.repeatOverride=r.insertModeRepeat),delete r.insertModeRepeat,r.insertMode=!1,n||t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),s.setText(a.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),i.isRecording&&function(e){if(!e.isPlaying){var t=e.latestRegister,n=I.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}(i)}function st(e){i.unshift(e)}function ot(e,t,n,r){var i=I.registerController.getRegister(r);if(":"==r)return i.keyBuffer[0]&&rt.processCommand(e,i.keyBuffer[0]),void(n.isPlaying=!1);var s=i.keyBuffer,o=0;n.isPlaying=!0,n.replaySearchQueries=i.searchQueries.slice(0);for(var a=0;a<s.length;a++)for(var l,c,h=s[a];h;)if(c=(l=/<\w+-.+?>|<\w+>|./.exec(h))[0],h=h.substring(l.index+c.length),q.handleKey(e,c,"macro"),t.insertMode){var u=i.insertModeChanges[o++].changes;I.macroModeState.lastInsertModeChanges.changes=u,mt(e,u,1),it(e)}n.isPlaying=!1}function at(e,t){var n=I.macroModeState,r=n.lastInsertModeChanges;if(!n.isPlaying)for(var i=e.state.vim;t;){if(r.expectCursorActivityForChange=!0,r.ignoreCount>1)r.ignoreCount--;else if("+input"==t.origin||"paste"==t.origin||void 0===t.origin){var s=e.listSelections().length;s>1&&(r.ignoreCount=s);var o=t.text.join("\n");if(r.maybeReset&&(r.changes=[],r.maybeReset=!1),o)if(e.state.overwrite&&!/\n/.test(o))r.changes.push([o]);else{if(o.length>1){var a=i&&i.insertEnd&&i.insertEnd.find(),l=e.getCursor();if(a&&a.line==l.line){var c=a.ch-l.ch;c>0&&c<o.length&&(r.changes.push([o,c]),o="")}}o&&r.changes.push(o)}}t=t.next}}function lt(e){var t=e.state.vim;if(t.insertMode){var n=I.macroModeState;if(n.isPlaying)return;var r=n.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!1:(r.maybeReset=!0,t.insertEnd&&t.insertEnd.clear(),t.insertEnd=e.setBookmark(e.getCursor(),{insertLeft:!0}))}else e.curOp.isVimOp||ct(e,t)}function ct(t,n){var r=t.getCursor("anchor"),i=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?ke(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var s=ue(i,r)?0:-1,o=ue(i,r)?-1:0;i=oe(i,0,s),r=oe(r,0,o),n.sel={anchor:r,head:i},Ee(t,n,"<",de(i,r)),Ee(t,n,">",pe(i,r))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}function ht(e){this.keyName=e}function ut(t){var n=I.macroModeState.lastInsertModeChanges,r=e.keyName(t);r&&(-1==r.indexOf("Delete")&&-1==r.indexOf("Backspace")||e.lookupKey(r,"vim-insert",(function(){return n.maybeReset&&(n.changes=[],n.maybeReset=!1),n.changes.push(new ht(r)),!0})))}function dt(e,t,n,r){var i=I.macroModeState;i.isPlaying=!0;var s=!!t.lastEditActionCommand,o=t.inputState;function a(){s?K.processAction(e,t,t.lastEditActionCommand):K.evalInput(e,t)}function l(n){if(i.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var r=i.lastInsertModeChanges;mt(e,r.changes,n)}}if(t.inputState=t.lastEditInputState,s&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)a(),l(1);else r||a(),l(n);t.inputState=o,t.insertMode&&!r&&it(e),i.isPlaying=!1}function pt(t,n){e.lookupKey(n,"vim-insert",(function(n){return"string"==typeof n?e.commands[n](t):n(t),!0}))}function mt(e,t,n){var r=e.getCursor("head"),i=I.macroModeState.lastInsertModeChanges.visualBlock;i&&(be(e,r,i+1),n=e.listSelections().length,e.setCursor(r));for(var s=0;s<n;s++){i&&e.setCursor(oe(r,s,0));for(var o=0;o<t.length;o++){var a=t[o];if(a instanceof ht)pt(e,a.keyName);else if("string"==typeof a)e.replaceSelection(a);else{var l=e.getCursor(),c=oe(l,0,a[0].length-(a[1]||0));e.replaceRange(a[0],l,a[1]?l:c),e.setCursor(c)}}}i&&e.setCursor(oe(r,0,1))}function ft(e){var t=new e.constructor;return Object.keys(e).forEach((function(n){if("insertEnd"!=n){var r=e[n];Array.isArray(r)?r=r.slice():r&&"object"==typeof r&&r.constructor!=Object&&(r=ft(r)),t[n]=r}})),e.sel&&(t.sel={head:e.sel.head&&ce(e.sel.head),anchor:e.sel.anchor&&ce(e.sel.anchor)}),t}return e.keyMap.vim={attach:h,detach:c,call:u},E("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:h,detach:c,call:u},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:h,detach:c},X(),q}function c(e,t){var n=t.ch,r=t.line+1;r<1&&(r=1,n=0),r>e.lines&&(r=e.lines,n=Number.MAX_VALUE);var i=e.line(r);return Math.min(i.from+Math.max(0,n),i.to)}function h(e,t){let n=e.lineAt(t);return{line:n.number-1,ch:t-n.from}}class u{constructor(e,t){this.line=e,this.ch=t}}function d(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||[]).concat(n)}}function p(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else{var r=e._handlers,i=r&&r[t];if(i){var s=i.indexOf(n);s>-1&&(r[t]=i.slice(0,s).concat(i.slice(s+1)))}}}function m(e,t,...n){var r,i=null===(r=e._handlers)||void 0===r?void 0:r[t];if(i)for(var s=0;s<i.length;++s)i[s](...n)}function f(e,...t){if(e)for(var n=0;n<e.length;++n)e[n](...t)}var g={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},O={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let v;try{v=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch(e){v=/[\w]/}function b(e,t){var n=e.cm6,r="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(r="input.type.compose.start")),t.annotations)try{t.annotations.some((function(e){"input"==e.value&&(e.value=r)}))}catch(e){console.error(e)}else t.userEvent=r;return n.dispatch(t)}function y(e,t){var n;e.curOp&&(e.curOp.$changeStart=void 0),(t?a.Yw:a.KX)(e.cm6);let r=null===(n=e.curOp)||void 0===n?void 0:n.$changeStart;null!=r&&e.cm6.dispatch({selection:{anchor:r}})}class w{constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(e,t,n){return function(e,t,n,r){r||(r={}),k(e,void 0);var i=x(0,t,r.bottom),s=!1;function o(t){if("string"==typeof t)a.value=t;else{if(s)return;s=!0,_(e,i),e.state.dialog||e.focus(),r.onClose&&r.onClose(i)}}S(e,i);var a=i.getElementsByTagName("input")[0];return a&&(r.value&&(a.value=r.value,!1!==r.selectValueOnOpen&&a.select()),r.onInput&&w.on(a,"input",(function(e){r.onInput(e,a.value,o)})),r.onKeyUp&&w.on(a,"keyup",(function(e){r.onKeyUp(e,a.value,o)})),w.on(a,"keydown",(function(e){r&&r.onKeyDown&&r.onKeyDown(e,a.value,o)||(13==e.keyCode&&n(a.value),(27==e.keyCode||!1!==r.closeOnEnter&&13==e.keyCode)&&(a.blur(),w.e_stop(e),o()))})),!1!==r.closeOnBlur&&w.on(a,"blur",(function(){setTimeout((function(){document.activeElement!==a&&o()}))})),a.focus()),o}(this,e,t,n)}openNotification(e,t){return function(e,t,n){k(e,a);var r,i=x(0,t,n&&n.bottom),s=!1,o=n&&void 0!==n.duration?n.duration:5e3;function a(){s||(s=!0,clearTimeout(r),i.remove(),_(e,i))}return i.onclick=function(e){e.preventDefault(),a()},S(e,i),o&&(r=setTimeout(a,o)),a}(this,e,t)}on(e,t){d(this,e,t)}off(e,t){p(this,e,t)}signal(e,t,n){m(this,e,t,n)}indexFromPos(e){return c(this.cm6.state.doc,e)}posFromIndex(e){return h(this.cm6.state.doc,e)}foldCode(e){let t=this.cm6,n=t.state.selection.ranges,s=c(this.cm6.state.doc,e),o=r.jT.create([r.jT.range(s,s)],0).ranges;t.state.selection.ranges=o,(0,i.wf)(t),t.state.selection.ranges=n}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,t){"object"==typeof e&&(t=e.ch,e=e.line);var n=c(this.cm6.state.doc,{line:e,ch:t});this.cm6.dispatch({selection:{anchor:n}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var t=this.cm6.state.selection.main,n="head"!=e&&e?"anchor"==e?t.anchor:"start"==e?t.from:"end"==e?t.to:null:t.head;if(null==n)throw new Error("Invalid cursor type");return this.posFromIndex(n)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map((t=>({anchor:h(e,t.anchor),head:h(e,t.head)})))}setSelections(e,t){var n=this.cm6.state.doc,i=e.map((e=>r.jT.range(c(n,e.anchor),c(n,e.head))));this.cm6.dispatch({selection:r.jT.create(i,t)})}setSelection(e,t,n){var i=this.cm6.state.doc,s=[r.jT.range(c(i,e),c(i,t))];this.cm6.dispatch({selection:r.jT.create(s,0)}),n&&"*mouse"==n.origin&&this.onBeforeEndOperation()}getLine(e){var t=this.cm6.state.doc;return e<0||e>=t.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new u(e,0))}}getLineNumber(e){var t=this.$lineHandleChanges;if(!t)return null;for(var n=e.index,i=0;i<t.length;i++)if(null==(n=t[i].changes.mapPos(n,1,r.gc.TrackAfter)))return null;var s=this.posFromIndex(n);return 0==s.ch?s.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,t){var n=this.cm6.state.doc;return this.cm6.state.sliceDoc(c(n,e),c(n,t))}replaceRange(e,t,n){n||(n=t);var r=this.cm6.state.doc;b(this,{changes:{from:c(r,t),to:c(r,n),insert:e}})}replaceSelection(e){b(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){b(this,{changes:this.cm6.state.selection.ranges.map(((t,n)=>({from:t.from,to:t.to,insert:e[n]||""})))})}getSelection(){return this.getSelections().join("\n")}getSelections(){var e=this.cm6;return e.state.selection.ranges.map((t=>e.state.sliceDoc(t.from,t.to)))}somethingSelected(){return this.cm6.state.selection.ranges.some((e=>!e.empty))}getInputField(){return this.cm6.contentDOM}clipPos(e){var t=this.cm6.state.doc,n=e.ch,r=e.line+1;r<1&&(r=1,n=0),r>t.lines&&(r=t.lines,n=Number.MAX_VALUE);var i=t.line(r);return n=Math.min(Math.max(0,n),i.to-i.from),new u(r-1,n)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var t=this.cm6;return t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e},selection:r.jT.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e){var t=this.cm6.state,n=c(t.doc,e),r=(0,i.Um)(t,n+1,-1);return r&&r.end||(r=(0,i.Um)(t,n,1))&&r.end?{to:h(t.doc,r.end.from)}:{to:void 0}}scanForBracket(e,t,n,r){return function(e,t,n,r,i){for(var s=i&&i.maxScanLineLength||1e4,o=i&&i.maxScanLines||1e3,a=[],l=function(e){return e&&e.bracketRegex||/[(){}[\]]/}(i),c=n>0?Math.min(t.line+o,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-o),h=t.line;h!=c;h+=n){var d=e.getLine(h);if(d){var p=n>0?0:d.length-1,m=n>0?d.length:-1;if(!(d.length>s))for(h==t.line&&(p=t.ch-(n<0?1:0));p!=m;p+=n){var f=d.charAt(p);if(l.test(f)){var g=A[f];if(g&&">"==g.charAt(1)==n>0)a.push(f);else{if(!a.length)return{pos:new u(h,p),ch:f};a.pop()}}}}}return h-n!=(n>0?e.lastLine():e.firstLine())&&null}(this,e,t,0,r)}indentLine(e,t){t?this.indentMore():this.indentLess()}indentMore(){(0,a.at)(this.cm6)}indentLess(){(0,a.xi)(this.cm6)}execCommand(e){if("indentAuto"==e)w.commands.indentAuto(this);else if("goLineLeft"==e)(0,a.Kd)(this.cm6);else if("goLineRight"==e){(0,a.Bx)(this.cm6);let e=this.cm6.state,t=e.selection.main.head;t<e.doc.length&&"\n"!==e.sliceDoc(t,t+1)&&(0,a.kU)(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,t){var n=(null==t?void 0:t.insertLeft)?1:-1,r=this.indexFromPos(e);return new Q(this,r,n)}addOverlay({query:e}){let t=new o.Jb({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(t.valid){t.forVim=!0,this.cm6Query=t;let e=o.ql.of(t);return this.cm6.dispatch({effects:e}),t}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let t=o.ql.of(this.cm6Query);this.cm6.dispatch({effects:t})}getSearchCursor(e,t){var n=this,r=null,i=null;null==t.ch&&(t.ch=Number.MAX_VALUE);var s=c(n.cm6.state.doc,t),a=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,(function(e,t){return t||"\\"+e}));function l(t,n=0,r=t.length){return new o.Zg(t,a,{ignoreCase:e.ignoreCase},n,r)}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){var t=n.cm6.state.doc;if(e){let e=r?r.from==r.to?r.to-1:r.from:s;r=function(e,t){var r=n.cm6.state.doc;for(let e=1;;e++){let n=Math.max(0,t-1e4*e),i=l(r,n,t),s=null;for(;!i.next().done;)s=i.value;if(s&&(0==n||s.from>n+10))return s;if(0==n)return null}}(0,e)}else{let e=r?r.from==r.to?r.to+1:r.to:s;r=function(e){var t=n.cm6.state.doc;if(e>t.length)return null;let r=l(t,e).next();return r.done?null:r.value}(e)}return i=r&&{from:h(t,r.from),to:h(t,r.to),match:r.match},r&&r.match},from:function(){return null==i?void 0:i.from},to:function(){return null==i?void 0:i.to},replace:function(e){r&&(b(n,{changes:{from:r.from,to:r.to,insert:e}}),r.to=r.from+e.length,i&&(i.to=h(n.cm6.state.doc,r.to)))}}}findPosV(e,t,n,i){let{cm6:s}=this;const o=s.state.doc;let a="page"==n?s.dom.clientHeight:0;const l=c(o,e);let u=r.jT.range(l,l,i),d=Math.round(Math.abs(t));for(let e=0;e<d;e++)"page"==n?u=s.moveVertically(u,t>0,a):"line"==n&&(u=s.moveVertically(u,t>0));let p=h(o,u.head);return(t<0&&0==u.head&&0!=i&&0==e.line&&0!=e.ch||t>0&&u.head==o.length&&p.ch!=i&&e.line==p.line)&&(p.hitSide=!0),p}charCoords(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=c(this.cm6.state.doc,e),i=this.cm6.coordsAtPos(r),s=-n.top;return{left:((null==i?void 0:i.left)||0)-n.left,top:((null==i?void 0:i.top)||0)+s,bottom:((null==i?void 0:i.bottom)||0)+s}}coordsChar(e,t){var n=this.cm6.contentDOM.getBoundingClientRect(),r=this.cm6.posAtCoords({x:e.left+n.left,y:e.top+n.top})||0;return h(this.cm6.state.doc,r)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,t){null!=e&&(this.cm6.scrollDOM.scrollLeft=e),null!=t&&(this.cm6.scrollDOM.scrollTop=t)}scrollIntoView(e,t){if(e){var n=this.indexFromPos(e);this.cm6.dispatch({effects:s.tk.scrollIntoView(n)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,t){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=t+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let t in this.marks)this.marks[t].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map((t=>t.map(e.changes))));var t=this.curOp=this.curOp||{};e.changes.iterChanges(((e,n,r,i,s)=>{(null==t.$changeStart||t.$changeStart>r)&&(t.$changeStart=r),this.$lastChangeEndOffset=i;var o={text:s.toJSON()};t.lastChange?t.lastChange.next=t.lastChange=o:t.lastChange=t.change=o}),!0),t.changeHandlers||(t.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var t=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return t}onBeforeEndOperation(){var e=this.curOp,t=!1;e&&(e.change&&f(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(f(e.cursorActivityHandlers,this,null),e.isVimOp&&(t=!0)),this.curOp=null),t&&this.scrollIntoView()}moveH(e,t){if("char"==t){var n=this.getCursor();this.setCursor(n.line,n.ch+e)}}setOption(e,t){switch(e){case"keyMap":this.state.keyMap=t;break;case"textwidth":this.state.textwidth=t}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return"\t"==this.cm6.state.facet(i.c);case"indentUnit":return this.cm6.state.facet(i.c).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var t,n=this.indexFromPos(e),r=(0,i.l)(this.cm6.state,n),s=null==r?void 0:r.resolve(n),o=(null===(t=null==s?void 0:s.type)||void 0===t?void 0:t.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(e){var t=this.cm6.state.doc,n=this.cm6.state.selection,i=n.ranges.map((e=>{if(e.empty){var n=e.to<t.length?t.sliceString(e.from,e.to+1):"";if(n&&!/\n/.test(n))return r.jT.range(e.from,e.to+1)}return e}));this.cm6.dispatch({selection:r.jT.create(i,n.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var t=this.cm6.state.selection;this.virtualSelection=r.jT.create(t.ranges,t.mainIndex);for(var n=0;n<this.virtualSelection.ranges.length;n++){var i=this.virtualSelection.ranges[n];i&&(this.cm6.dispatch({selection:r.jT.create([i])}),e(),this.virtualSelection.ranges[n]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return function(e,t){for(var n=t.column||e.getOption("textwidth")||80,r=0!=t.allowMerge,i=Math.min(t.from,t.to),s=Math.max(t.from,t.to);i<=s;){var o=e.getLine(i);if(o.length>n){if(c=m(o,n,5)){var a=/^\s*/.exec(o)[0];e.replaceRange("\n"+a,new u(i,c.start),new u(i,c.end))}s++}else if(r&&/\S/.test(o)&&i!=s){var l=e.getLine(i+1);if(l&&/\S/.test(l)){var c,h=o.replace(/\s+$/,""),d=l.replace(/^\s+/,""),p=h+" "+d;(c=m(p,n,5))&&c.start>h.length||p.length<n?(e.replaceRange(" ",new u(i,h.length),new u(i+1,l.length-d.length)),i--,s--):h.length<o.length&&e.replaceRange("",new u(i,h.length),new u(i,o.length))}}i++}return i;function m(e,t,n){if(!(e.length<t)){var r=e.slice(0,t),i=e.slice(t),s=/^(?:(\s+)|(\S+)(\s+))/.exec(i),o=/(?:(\s+)|(\s+)(\S+))$/.exec(r),a=0,l=0;return o&&!o[2]&&(a=t-o[1].length,l=t),s&&!s[2]&&(a||(a=t),l=t+s[1].length),a?{start:a,end:l}:o&&o[2]&&o.index>n?{start:o.index,end:o.index+o[2].length}:s&&s[2]?{start:a=t+s[2].length,end:a+s[3].length}:void 0}}}(this,e)}}function x(e,t,n){var r=document.createElement("div");return r.appendChild(t),r}function k(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}function S(e,t){var n=e.state.dialog;e.state.dialog=t,t&&n!==t&&(n&&n.contains(document.activeElement)&&e.focus(),n&&n.parentElement?n.parentElement.replaceChild(t,n):n&&n.remove(),w.signal(e,"dialog"))}function _(e,t){e.state.dialog==t&&(e.state.dialog=null,w.signal(e,"dialog"))}w.isMac="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),w.Pos=u,w.StringStream=i.gY,w.commands={cursorCharLeft:function(e){(0,a.lv)(e.cm6)},redo:function(e){y(e,!1)},undo:function(e){y(e,!0)},newlineAndIndent:function(e){(0,a.xx)({state:e.cm6.state,dispatch:t=>b(e,t)})},indentAuto:function(e){(0,a.wA)(e.cm6)}},w.defineOption=function(e,t,n){},w.isWordChar=function(e){return v.test(e)},w.keys={},w.keyMap={},w.addClass=function(){},w.rmClass=function(){},w.e_preventDefault=function(e){e.preventDefault()},w.e_stop=function(e){var t,n;null===(t=null==e?void 0:e.stopPropagation)||void 0===t||t.call(e),null===(n=null==e?void 0:e.preventDefault)||void 0===n||n.call(e)},w.keyName=function(e){var t=e.key;if(!O[t]){"Escape"==t&&(t="Esc")," "==t&&(t="Space"),t.length>1&&(t=t.replace(/Numpad|Arrow/,"")),1==t.length&&(t=t.toUpperCase());var n="";return e.ctrlKey&&(n+="Ctrl-"),e.altKey&&(n+="Alt-"),(n||t.length>1)&&e.shiftKey&&(n+="Shift-"),n+t}},w.vimKey=function(e){var t=e.key;if(!O[t]){t.length>1&&"n"==t[0]&&(t=t.replace("Numpad","")),t=g[t]||t;var n="";return e.ctrlKey&&(n+="C-"),e.altKey&&(n+="A-"),e.metaKey&&(n+="M-"),w.isMac&&e.altKey&&!e.metaKey&&!e.ctrlKey&&(n=n.slice(2)),(n||t.length>1)&&e.shiftKey&&(n+="S-"),(n+=t).length>1&&(n="<"+n+">"),n}},w.lookupKey=function(e,t,n){var r=w.keys[e];r&&n(r)},w.on=d,w.off=p,w.signal=m,w.findMatchingTag=function(e,t){},w.findEnclosingTag=function(e,t){var n,r,s=e.cm6.state,o=e.indexFromPos(t);o<s.doc.length&&"<"==s.sliceDoc(o,o+1)&&o++;for(var a=(0,i.l)(s,o),l=(null==a?void 0:a.resolve(o))||null;l;){if("OpenTag"==(null===(n=l.firstChild)||void 0===n?void 0:n.type.name)&&"CloseTag"==(null===(r=l.lastChild)||void 0===r?void 0:r.type.name))return{open:C(s.doc,l.firstChild),close:C(s.doc,l.lastChild)};l=l.parent}};var A={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function C(e,t){return{from:h(e,t.from),to:h(e,t.to)}}class Q{constructor(e,t,n){this.cm=e,this.id=e.$mid++,this.offset=t,this.assoc=n,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return null==this.offset?null:this.cm.posFromIndex(this.offset)}update(e){null!=this.offset&&(this.offset=e.mapPos(this.offset,this.assoc,r.gc.TrackDel))}}let $=s.HM||function(){let e={cursorBlinkRate:1200};return function(){return e}}();class T{constructor(e,t,n,r,i,s,o,a,l,c){this.left=e,this.top=t,this.height=n,this.fontFamily=r,this.fontSize=i,this.fontWeight=s,this.color=o,this.className=a,this.letter=l,this.partial=c}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class M{constructor(e,t){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=t,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let e=$(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=e+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),function(e){return $(e.startState)!=$(e.state)}(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,t=[];for(let n of e.selection.ranges){let r=n==e.selection.main,i=Z(this.cm,this.view,n,r);i&&t.push(i)}return{cursors:t}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some(((e,t)=>!e.eq(this.cursors[t])))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const t of e)this.cursorLayer.appendChild(t.draw())}else e.forEach(((e,n)=>e.adjust(t[n])));this.cursors=e}}destroy(){this.cursorLayer.remove()}}const P={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},E=r.Wl.highest(s.tk.theme(P));function Z(e,t,n,r){var i,o;let a=n.head,l=!1,c=1,h=e.state.vim;if(h&&(!h.insertMode||e.state.overwrite)){if(l=!0,h.visualBlock&&!r)return null;n.anchor<n.head&&a--,e.state.overwrite?c=.2:h.status&&(c=.5)}if(l){let e=a<t.state.doc.length&&t.state.sliceDoc(a,a+1);e&&/[\uDC00-\uDFFF]/.test(e)&&a>1&&(a--,e=t.state.sliceDoc(a,a+1));let n=t.coordsAtPos(a,1);if(!n)return null;let l=function(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==s.Nm.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}(t),h=t.domAtPos(a),d=h?h.node:t.contentDOM;for(;h&&h.node instanceof HTMLElement;)d=h.node,h={node:h.node.childNodes[h.offset],offset:0};if(!(d instanceof HTMLElement)){if(!d.parentNode)return null;d=d.parentNode}let p=getComputedStyle(d),m=n.left,f=null===(o=(i=t).coordsForChar)||void 0===o?void 0:o.call(i,a);if(f&&(m=f.left),e&&"\n"!=e&&"\r"!=e)if("\t"==e){e=" ";var u=t.coordsAtPos(a+1,-1);u&&(m=u.left-(u.left-n.left)/parseInt(p.tabSize))}else/[\uD800-\uDBFF]/.test(e)&&a<t.state.doc.length-1&&(e+=t.state.sliceDoc(a+1,a+2));else e=" ";let g=n.bottom-n.top;return new T(m-l.left,n.top-l.top+g*(1-c),g*c,p.fontFamily,p.fontSize,p.fontWeight,p.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",e,1!=c)}return null}var B="undefined"!=typeof navigator&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const I=l(w),R=s.tk.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),z=s.lg.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=s.p.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=e;const t=this.cm=new w(e);I.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new M(e,t),this.updateClass(),this.cm.on("vim-command-done",(()=>{t.state.vim&&(t.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()})),this.cm.on("vim-mode-change",(e=>{t.state.vim.mode=e.mode,e.subMode&&(t.state.vim.mode+=" block"),t.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()})),this.cm.on("dialog",(()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:L.of(!!this.cm.state.dialog)})})),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=e=>{I.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var t;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions)for(let n of e.transactions)for(let e of n.effects)if(e.is(o.ql))if(null===(t=e.value)||void 0===t?void 0:t.forVim){let t=e.value.create();this.highlight(t)}else this.highlight(null);this.blockCursor.update(e)}updateClass(){const e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,t=this.cm.state.vim;if(!e||!t)return;let n=this.cm.state.dialog;if(n)n.parentElement!=e&&(e.textContent="",e.appendChild(n));else{e.textContent="";var r=(t.mode||"normal").toUpperCase();t.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,e.appendChild(this.statusButton)}this.dom.textContent=t.status,e.appendChild(this.dom)}destroy(){I.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=s.p.none;let{view:t}=this,n=new r.f_;for(let r=0,i=t.visibleRanges,s=i.length;r<s;r++){let{from:o,to:a}=i[r];for(;r<s-1&&a>i[r+1].from-500;)a=i[++r].to;e.highlight(t.state,o,a,((e,t)=>{n.add(e,t,Y)}))}return this.decorations=n.finish()}handleKey(e,t){const n=w.vimKey(e),r=this.cm;if(!n)return;let i=r.state.vim;if(!i)return;if("<Esc>"==n&&!i.insertMode&&!i.visualMode&&this.query){const e=i.searchState_;e&&(r.removeOverlay(e.getOverlay()),e.setOverlay(null))}if("<C-c>"===n&&!w.isMac&&r.somethingSelected())return this.waitForCopy=!0,!0;i.status=(i.status||"")+n;let s=I.multiSelectHandleKey(r,n,"user");return i=r.state.vim,!s&&i.insertMode&&r.state.overwrite&&(e.key&&1==e.key.length&&!/\n/.test(e.key)?(s=!0,r.overWriteSelection(e.key)):"Backspace"==e.key&&(s=!0,w.commands.cursorCharLeft(r))),s&&(w.signal(this.cm,"vim-keypress",n),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!s}},{eventHandlers:{copy:function(e,t){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then((()=>{var e=this.cm,t=e.state.vim;t&&(t.insertMode?e.setSelection(e.getCursor(),e.getCursor()):e.operation((()=>{e.curOp&&(e.curOp.isVimOp=!0),I.handleKey(e,"<Esc>","user")})))})))},compositionstart:function(e,t){this.useNextTextInput=!0},keypress:function(e,t){"Dead"==this.lastKeydown&&this.handleKey(e,t)},keydown:function(e,t){this.lastKeydown=e.key,"Unidentified"==this.lastKeydown||"Process"==this.lastKeydown||"Dead"==this.lastKeydown?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,t))}},provide:()=>[s.tk.inputHandler.of(((e,t,n,r)=>{var i,s,o=function(e){return e.cm||null}(e);if(!o)return!1;var a=null===(i=o.state)||void 0===i?void 0:i.vim,l=o.state.vimPlugin;if(a&&!a.insertMode&&!(null===(s=o.curOp)||void 0===s?void 0:s.isVimOp)){if("\0\0"===r)return!0;if(1==r.length&&l.useNextTextInput)return l.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),function(e){var t=e.scrollDOM.parentElement;if(t){if(B)return e.contentDOM.textContent="\0\0",void e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));var n=e.scrollDOM.nextSibling,r=window.getSelection(),i=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};e.scrollDOM.remove(),t.insertBefore(e.scrollDOM,n);try{i&&r&&(r.setPosition(i.anchorNode,i.anchorOffset),i.focusNode&&r.extend(i.focusNode,i.focusOffset))}catch(e){console.error(e)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}(e),!0}return!1}))],decorations:e=>e.decorations}),Y=s.p.mark({class:"cm-searchMatch"}),L=r.Py.define(),D=r.QQ.define({create:()=>!1,update(e,t){for(let n of t.effects)n.is(L)&&(e=n.value);return e},provide:e=>s.mH.from(e,(e=>e?X:null))});function X(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.dialog&&t.appendChild(n.state.dialog),{top:!1,dom:t}}function q(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.statusbar=t,n.state.vimPlugin.updateStatus(),{dom:t}}function j(e={}){return[R,z,E,e.status?s.mH.of(q):D]}},3358:(e,t,n)=>{n.d(t,{Xy:()=>M});var r=n(6485),i=n(8120),s=n(9119),o=n(5383),a=n(9892),l=n(4790),c=n(8580);class h{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class u{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=e,s=n.facet(x).markerFilter;s&&(i=s(i));let o=r.p.set(i.map((e=>e.from==e.to||e.from==e.to-1&&n.doc.lineAt(e.from).to==e.from?r.p.widget({widget:new _(e),diagnostic:e}).range(e.from):r.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity+(e.markClass?" "+e.markClass:"")},diagnostic:e}).range(e.from,e.to))),!0);return new u(o,t,d(o))}}function d(e,t=null,n=0){let r=null;return e.between(n,1e9,((e,n,{spec:i})=>{if(!t||i.diagnostic==t)return r=new h(e,n,i.diagnostic),!1})),r}const p=i.Py.define(),m=i.Py.define(),f=i.Py.define(),g=i.QQ.define({create:()=>new u(r.p.none,null,null),update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=d(n,e.selected.diagnostic,i)||d(n,null,i)}e=new u(n,e.panel,r)}for(let n of t.effects)n.is(p)?e=u.init(n.value,e.panel,t.state):n.is(m)?e=new u(e.diagnostics,n.value?C.open:null,e.selected):n.is(f)&&(e=new u(e.diagnostics,e.panel,n.value));return e},provide:e=>[r.mH.from(e,(e=>e.panel)),r.tk.decorations.from(e,(e=>e.diagnostics))]}),O=r.p.mark({class:"cm-lintRange cm-lintRange-active"});function v(e,t,n){let{diagnostics:r}=e.state.field(g),i=[],s=2e8,o=0;r.between(t-(n<0?1:0),t+(n>0?1:0),((e,r,{spec:a})=>{t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(a.diagnostic),s=Math.min(e,s),o=Math.max(r,o))}));let a=e.state.facet(x).tooltipFilter;return a&&(i=a(i)),i.length?{pos:s,end:o,above:e.state.doc.lineAt(s).to<o,create:()=>({dom:b(e,i)})}:null}function b(e,t){return(0,c.Z)("ul",{class:"cm-tooltip-lint"},t.map((t=>S(e,t,!1))))}const y=e=>{let t=e.state.field(g,!1);return!(!t||!t.panel||(e.dispatch({effects:m.of(!1)}),0))},w=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(g,!1);var n,s;t&&t.panel||e.dispatch({effects:(n=e.state,s=[m.of(!0)],n.field(g,!1)?s:s.concat(i.Py.appendConfig.of(T)))});let o=(0,r.Sd)(e,C.open);return o&&o.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(g,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)||(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],x=i.r$.define({combine:e=>Object.assign({sources:e.map((e=>e.source))},(0,i.BO)(e.map((e=>e.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))});function k(e){let t=[];if(e)e:for(let{name:n}of e){for(let e=0;e<n.length;e++){let r=n[e];if(/[a-zA-Z]/.test(r)&&!t.some((e=>e.toLowerCase()==r.toLowerCase()))){t.push(r);continue e}}t.push("")}return t}function S(e,t,n){var r;let i=n?k(t.actions):[];return(0,c.Z)("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},(0,c.Z)("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map(((n,r)=>{let s=!1,o=r=>{if(r.preventDefault(),s)return;s=!0;let i=d(e.state.field(g).diagnostics,t);i&&n.apply(e,i.from,i.to)},{name:a}=n,l=i[r]?a.indexOf(i[r]):-1,h=l<0?a:[a.slice(0,l),(0,c.Z)("u",a.slice(l,l+1)),a.slice(l+1)];return(0,c.Z)("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${a}${l<0?"":` (access key "${i[r]})"`}.`},h)})),t.source&&(0,c.Z)("div",{class:"cm-diagnosticSource"},t.source))}class _ extends r.l9{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return(0,c.Z)("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class A{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=S(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class C{constructor(e){this.view=e,this.items=[],this.list=(0,c.Z)("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)y(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=k(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=d(this.view.state.field(g).diagnostics,n);t&&n.actions[i].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=(0,c.Z)("div",{class:"cm-panel-lint"},this.list,(0,c.Z)("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>y(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(g).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(g),n=0,r=!1,i=null;for(e.between(0,this.view.state.doc.length,((e,s,{spec:o})=>{let a,l=-1;for(let e=n;e<this.items.length;e++)if(this.items[e].diagnostic==o.diagnostic){l=e;break}l<0?(a=new A(this.view,o.diagnostic),this.items.splice(n,0,a),r=!0):(a=this.items[l],l>n&&(this.items.splice(n,l-n),r=!0)),t&&a.diagnostic==t.diagnostic?a.dom.hasAttribute("aria-selected")||(a.dom.setAttribute("aria-selected","true"),i=a):a.dom.hasAttribute("aria-selected")&&a.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new A(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{let n=t.height/this.list.offsetHeight;e.top<t.top?this.list.scrollTop-=(t.top-e.top)/n:e.bottom>t.bottom&&(this.list.scrollTop+=(e.bottom-t.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=d(this.view.state.field(g).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:f.of(t)})}static open(e){return new C(e)}}function Q(e){return function(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const $=r.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Q("#d11")},".cm-lintRange-warning":{backgroundImage:Q("orange")},".cm-lintRange-info":{backgroundImage:Q("#999")},".cm-lintRange-hint":{backgroundImage:Q("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});r.SJ;const T=[g,r.tk.decorations.compute([g],(e=>{let{selected:t,panel:n}=e.field(g);return t&&n&&t.from!=t.to?r.p.set([O.range(t.from,t.to)]):r.p.none})),(0,r.bF)(v,{hideOn:function(e,t){let n=e.startState.doc.lineAt(t.pos);return!(!e.effects.some((e=>e.is(p)))&&!e.changes.touchesRange(n.from,n.to))}}),$],M=(()=>[(0,r.Eu)(),(0,r.HQ)(),(0,r.AE)(),(0,o.m8)(),(0,s.mi)(),(0,r.Uw)(),(0,r.qr)(),i.yy.allowMultipleSelections.of(!0),(0,s.nY)(),(0,s.nF)(s.R_,{fallback:!0}),(0,s.n$)(),(0,l.vQ)(),(0,l.ys)(),(0,r.Zs)(),(0,r.S2)(),(0,r.ZO)(),(0,a.sW)(),r.$f.of([...l.GA,...o.wQ,...a.Lp,...o.f$,...s.e7,...l.B1,...w])])()},8580:(e,t,n)=>{function r(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var s=n[r];"string"==typeof s?e.setAttribute(r,s):null!=s&&(e[r]=s)}t++}for(;t<arguments.length;t++)i(e,arguments[t]);return e}function i(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)i(e,t[n])}}n.d(t,{Z:()=>r})},8699:(e,t,n)=>{n.d(t,{V:()=>o});const r="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,s,o){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return s.push(e[0]+";");for(let n in t){let o=t[n];if(/&/.test(n))i(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),o,a,c)}else null!=o&&a.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+o+";")}(a.length||c)&&s.push((!n||l||o?e:e.map(n)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)i(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=s[r]||1;return s[r]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let r=e[i],s=n&&n.nonce;r?s&&r.setNonce(s):r=new l(e,s),r.mount(Array.isArray(t)?t:[t])}}let a=new Map;class l{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=a.get(n);if(t)return e.adoptedStyleSheets=[t.sheet,...e.adoptedStyleSheets],e[i]=t;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],a.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let r=e.head||e;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],e[i]=this}mount(e){let t=this.sheet,n=0,r=0;for(let i=0;i<e.length;i++){let s=e[i],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),t)for(let e=0;e<s.rules.length;e++)t.insertRule(s.rules[e],n++)}else{for(;r<o;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}},6973:(e,t,n)=>{n.d(t,{h:()=>o});const r=document.querySelector("script");if(!r||!r.src)throw new Error("no script for assets server found in document");const i=new URL("..",r.src),s=new URL("..","file:///home/ed/code/logbook/src/assets-server-url.js");function o(e){if("string"==typeof e&&(e=new URL(e,s)),!(e instanceof URL))throw new Error("local_url must be a string or an instance of URL");if("file:"===e.protocol&&"file:"===s.protocol&&"file:"!==i.protocol&&e.href.startsWith(s.href)){const t=e.href.slice(s.href.length);return new URL(i.href+t)}return e}},3088:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{W:()=>h});var i=n(7273),s=n(53),o=n(9886),a=n(3653),l=n(7202),c=e([s,a,l]);[s,a,l]=c.then?(await c)():c;class h extends HTMLElement{static custom_element_name="editor-cell";static attribute__active="data-active";static#L="data-input-type";static default_input_type="markdown";constructor(){super(),this.#c=new o.w,this.#D(),this._tool_bar=null}#c;#X;update_from_settings(){this.#q&&this.#X.update_from_settings()}get_text(){return this.#q()?this.#X.get_text():this.textContent}set_text(e){this.#q()?this.#X.set_text(e):this.textContent=e}get_outer_html(){const e=this.tagName.toLowerCase(),t=[];for(const e of this.getAttributeNames())if("contenteditable"!==e&&e!==this.constructor.attribute__active){const n=this.getAttribute(e),r=(0,i.V6)(n).replaceAll('"',"&quot;");t.push(`${e}="${r}"`)}const n=(0,i.V6)(this.get_text());return`<${e} ${t.join(" ")}>${n}</${e}>`}#q(){return!!this.#X}#j(){this.#q()||(this.#X=(0,l.G)(this))}#N(){if(this.#q()){const e=this.get_text();this.#X=void 0,(0,i.gX)(this),this.set_text(e)}}focus(){this.#q()?this.#X.focus():super.focus()}get editable(){return this.#q()}set_editable(e){this.removeAttribute("contenteditable"),e?(this.#j(),this._tool_bar.enable_for("type",!0)):(this.#N(),this._tool_bar.enable_for("type",!1))}get active(){return!!(this.#W?this.#W(this):this).hasAttribute(this.constructor.attribute__active)}set_active(e=!1){e=!!e;const t=this.#W?this.#W(this):this;t.active!==e&&(e?t.setAttribute(this.constructor.attribute__active,!0):t.removeAttribute(this.constructor.attribute__active))}set_active_element_mapper(e=null){const t=this.active;this.set_active(!1),this.#W=e??void 0,this.set_active(t)}#W;get input_type(){return this.getAttribute(h.#L)??this.constructor.default_input_type}set input_type(e){this.setAttribute(h.#L,e),this._tool_bar?.set_type(e)}establish_tool_bar(){this._tool_bar||(this._tool_bar=a.d.create_for(this,{autoeval:!1,modified:!0}),this.parentElement.insertBefore(this._tool_bar,this))}remove_tool_bar(){this._tool_bar&&(this._tool_bar.remove(),this._tool_bar=void 0)}static create_cell(e=null){const{parent:t=document.body,before:n=null,editable:r=s.LogbookManager.singleton.editable,innerText:o,active_element_mapper:a}=e??{},l=(0,i.T1)({parent:t,before:n,tag:this.custom_element_name});return o&&l.set_text(o),a&&l.set_active_element_mapper(a),l.establish_tool_bar(),l.set_editable(r),l}adjacent_cell(e=!1){const t=[...document.querySelectorAll(this.tagName)],n=t.indexOf(this);return-1===n?null:e?n>=t.length-1?null:t[n+1]:n<=0?null:t[n-1]}remove_cell(){this.remove_tool_bar(),this.remove()}reset(){return this}scroll_into_view(){this.#q?this.#X.scroll_into_view():this.scrollIntoView()}#D(){const e=[[this,"focus",function(e){s.LogbookManager.singleton.set_active_cell(this)},{capture:!0}]];for(const[t,n,r,i]of e)this.#c.add(t,n,r,i)}#U(){this.#c.attach(),this.removeAttribute("tabindex")}#V(){this.#c.detach()}connectedCallback(){this.#U()}disconnectedCallback(){this.#V()}adoptedCallback(){this.#U()}attributeChangedCallback(e,t,n){}static get observedAttributes(){return["xyzzy"]}static _init_static(){globalThis.customElements.define(this.custom_element_name,this)}}h._init_static(),r()}catch(e){r(e)}}))},7202:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{G:()=>g});var i=n(3358),s=n(8120),o=n(6485),a=n(5383),l=n(1226),c=n(9119),h=n(5951),u=n(3088),d=n(7273),p=n(3082),m=e([u,p]);[u,p]=m.then?(await m)():m;class f{constructor(e){if(!(e instanceof u.W))throw new Error("cell must be an instance of EditorCellElement");const t=e.get_text();this.#G=new s.F6,this.#H=new s.F6,this.#F=new s.F6,this.#J=new s.F6,this.#K=new s.F6;const n=s.yy.create({doc:t,extensions:[this.#G.of([]),this.#H.of(s.yy.tabSize.of(8)),this.#F.of(c.c.of(" ".repeat(2))),this.#J.of(o.$f.of(a.oc)),this.#K.of((0,o.Eu)()),o.$f.of(a.wQ),i.Xy,(0,h.eJ)()]});(0,d.gX)(e);const r=new o.tk({parent:e,state:n});Object.defineProperties(this,{view:{enumerable:!0,value:r}}),setTimeout((()=>{this.update_from_settings()}))}#G;#H;#F;#J;#K;get_text(){return this.view.state.doc.toString()}set_text(e){this.view.dispatch({from:0,to:this.view.state.doc.length,insert:e})}get_undo_info(){return{undo_depth:(0,a.of)(this.view.state),redo_depth:(0,a.AH)(this.view.state)}}focus(){this.view.focus()}scroll_into_view(){this.view.dispatch({effects:o.tk.scrollIntoView(0)})}update_from_settings(){const{mode:e,tab_size:t,indent:n,tab_key_indents:r,line_numbers:i}=(0,p.oj)().editor_options;let h;switch(e){case"emacs":h=o.$f.of(a.BL);break;case"vim":h=(0,l.dV)();break;default:h=[]}const u=" ".repeat(n);this.view.dispatch({effects:[this.#G.reconfigure(h),this.#H.reconfigure(s.yy.tabSize.of(t)),this.#F.reconfigure(c.c.of(u)),this.#J.reconfigure(r?o.$f.of(a.oc):[]),this.#K.reconfigure(i?(0,o.Eu)():[])]});const d="codemirror-hide-line-numbers";i?this.view.dom.classList.remove(d):this.view.dom.classList.add(d)}}function g(e){return new f(e)}r()}catch(O){r(O)}}))},6179:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{p:()=>u});var i=n(7273),s=n(53),o=n(3088),a=n(9026),l=n(4429),c=n(3653),h=(n(6973),e([s,o,a,l,c]));[s,o,a,l,c]=h.then?(await h)():h;class u extends o.W{static custom_element_name="eval-cell";static#ee="data-output-element-id";static get output_element_class(){return"eval-cell-output"}get output_element_id(){return this.getAttribute(this.constructor.#ee)}set output_element_id(e){if(null==e||""===e)this.setAttribute(this.constructor.#ee,"");else{const t=document.getElementById(e);if(!t)throw new Error("element with specified id does not exist");if(!(t instanceof HTMLElement))throw new Error("element specified by id must be an instance of HTMLElement");this.setAttribute(this.constructor.#ee,e)}}get output_element(){const e=this.output_element_id;if(e){const t=document.getElementById(e);return t&&t instanceof HTMLElement?t:(console.warn("bad configuration for EvalCellElement: id not found or does not specify an HTMLElement"),null)}return null}set output_element(e){if(e??=null,e&&(!e.id||!(e instanceof HTMLElement)))throw new Error("element must be null, undefined, or an instance of HTMLElement with an id");if(e){const t=document.getElementById(e.id);if(t&&t!==e)throw new Error("another element already exists with the same id as element");e.classList.add(this.constructor.output_element_class)}this.output_element_id=e?e.id:null}static create_output_element(e=null){const{parent:t,before:n}=e??{};return(0,i.T1)({parent:t,before:n,tag:"output",set_id:!0,attrs:{class:[this.output_element_class]}})}remove_output_element(){const e=this.output_element;return e&&(this.output_element=null,e.remove()),this}remove_cell(e=!1){e&&this.remove_output_element(),super.remove_cell()}reset(){super.reset();const e=this.output_element;return e&&(0,i.gX)(e),this}async eval(e=null){const{global_state:t=s.LogbookManager.singleton.global_state}=e??{},n=a.v.class_for_content(this);if(!(n===a.v||n.prototype instanceof a.v))throw new Error("unable to get a proper evaluator_class");this.stop();const r=this.output_element;if(!r)throw new Error("cell.eval() called on cell with no output element");(0,i.gX)(r);const o=new n(this,r,t);return this.#te=new l.X(o),this.#ne=!0,this._tool_bar?.set_for("running",!0),s.LogbookManager.singleton.emit_eval_state(this,!0),await new Promise((e=>setTimeout(e))),o._perform_eval().then((()=>{this.#ne=void 0,this._tool_bar?.set_for("running",!1),s.LogbookManager.singleton.emit_eval_state(this,!1)})).catch((e=>(this.stop(),o.ocx.render_error(e))))}#ne;#te;get evaluator_foreground(){return!!this.#ne}get can_stop(){return!!this.#te}stop(){if(this.#te)try{this.#te.stop()}catch(e){console.warn("error stopping evaluator",e,this.#te)}this.#te=void 0,this.#ne=void 0,this._tool_bar?.set_for("running",!1),s.LogbookManager.singleton.emit_eval_state(this,!1)}establish_tool_bar(){if(!this._tool_bar){let e=this.input_type||void 0;this._tool_bar=c.d.create_for(this,{autoeval:!1,type:{...e?{initial:e}:{},on:e=>(this.input_type=e.target.value,!0)},running:!0,modified:!1,run:!1}),this.parentElement.insertBefore(this._tool_bar,this)}}static create_cell(e=null){const{output_element:t}=e??{},n=super.create_cell(e);return t&&(n.output_element=t),n}static _init_static(){globalThis.customElements.define(this.custom_element_name,this,{})}}u._init_static(),r()}catch(e){r(e)}}))},9026:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{P:()=>c,v:()=>i.v});var i=n(9728),s=n(6257),o=n(4687),a=n(6781),l=e([i,s,o,a]);function c(){return[s.I,o.F,a.J]}[i,s,o,a]=l.then?(await l)():l,r()}catch(h){r(h)}}))},9728:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{v:()=>c});var i=n(1896),s=n(4429),o=n(266),a=n(9026),l=e([s,o,a]);[s,o,a]=l.then?(await l)():l;class c extends s.T{static async eval(e,t,n=null){const r=new this(e,t,n);return r._perform_eval().catch((e=>r.ocx.render_error(e)))}constructor(e,t,n){if(super(),!(e instanceof HTMLElement))throw new Error("input_element must be an instance of HTMLElement");if(!(t instanceof HTMLElement))throw new Error("output_element must be an instance of HTMLElement");if(n??={},"object"!=typeof n)throw new Error("global_state must be undefined, null, or an object");const r=new o.l(t);Object.defineProperties(this,{id:{value:(0,i.kE)(),enumerable:!0},input_element:{value:e,enumerable:!0},output_element:{value:t,enumerable:!0},global_state:{value:n,enumerable:!0},ocx:{value:r,enumerable:!0}})}async _perform_eval(){throw new Error("NOT IMPLEMENTED")}static handled_input_types=[];static class_for_content(e){if(!(e instanceof Element))throw new Error("input_element must be an instance of Element");const t=(0,a.P)(),n=t[0],r=e.input_type;if(r)for(const e of t)if(e.handled_input_types.includes(r))return e;return n}}r()}catch(e){r(e)}}))},6781:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{J:()=>a});var i=n(9728),s=n(4429),o=e([i,s]);[i,s]=o.then?(await o)():o;class a extends i.v{static handled_input_types=["javascript"];async _perform_eval(){const e={style:void 0,inline:void 0,global_state:this.global_state},t=this.ocx.renderer_for_type("javascript");this.add_stoppable(new s.X(t));const n=this.input_element.get_text();return this.ocx.invoke_renderer(t,n,e)}}r()}catch(e){r(e)}}))},6257:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{I:()=>a});var i=n(9728),s=n(4429),o=e([i,s]);[i,s]=o.then?(await o)():o;class a extends i.v{static handled_input_types=["markdown"];async _perform_eval(){const e={style:void 0,inline:void 0,global_state:this.global_state},t=this.ocx.renderer_for_type("markdown");return this.add_stoppable(new s.X(t)),this.ocx.invoke_renderer(t,this.input_element.get_text(),e)}}r()}catch(e){r(e)}}))},4687:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{F:()=>a});var i=n(9728),s=n(4429),o=e([i,s]);[i,s]=o.then?(await o)():o;class a extends i.v{static handled_input_types=["tex"];async _perform_eval(){const e={style:void 0,inline:void 0,global_state:this.global_state},t=this.ocx.renderer_for_type("tex");return this.add_stoppable(new s.X(t)),this.ocx.invoke_renderer(t,this.input_element.get_text(),e)}}r()}catch(e){r(e)}}))},1117:(e,t,n)=>{function r(){return[{label:"File",collection:[{label:"Recent logbooks",id:"recents",collection:[]},"---",{label:"Reset cells",item:{command:"reset"},id:"reset"},{label:"Clear document",item:{command:"clear"},id:"clear"},"---",{label:"Save",item:{command:"save"},id:"save"},{label:"Save as...",item:{command:"save-as"}},"---",{label:"Settings...",item:{command:"settings"}}]},{label:"Cell",collection:[{label:"Eval",item:{command:"eval-and-refocus"},id:"eval-and-refocus"},{label:"Eval and stay",item:{command:"eval"},id:"eval"},{label:"Eval before",item:{command:"eval-before"},id:"eval-before"},{label:"Eval all",item:{command:"eval-all"},id:"eval-all"},"---",{label:"Stop cell",item:{command:"stop"},id:"stop"},{label:"Stop all",item:{command:"stop-all"},id:"stop-all"},"---",{label:"Reset cell",item:{command:"reset-cell"},id:"reset-cell"},"---",{label:"Focus up",item:{command:"focus-up"},id:"focus-up"},{label:"Focus down",item:{command:"focus-down"},id:"focus-down"},"---",{label:"Move up",item:{command:"move-up"},id:"move-up"},{label:"Move down",item:{command:"move-down"},id:"move-down"},{label:"Add before",item:{command:"add-before"},id:"add-before"},{label:"Add after",item:{command:"add-after"},id:"add-after"},{label:"Delete",item:{command:"delete"},id:"delete"},"---",{label:"Shrink inputs",item:{command:"shrink-inputs"},id:"shrink-inputs"},{label:"Enlarge inputs",item:{command:"enlarge-inputs"},id:"enlarge-inputs"},{label:"Collapse inputs",item:{command:"collapse-inputs"},id:"collapse-inputs"},{label:"Expand inputs",item:{command:"expand-inputs"},id:"expand-inputs"}]},{label:"Help",collection:[{label:"Help...",item:{command:"help"}}]}]}function i(){return{"create-cell":["CmdOrCtrl-Shift-Alt-N"],"reset-cell":[],reset:[],clear:[],save:["CmdOrCtrl-S"],"save-as":["CmdOrCtrl-Shift-S"],eval:["CmdOrCtrl-Enter"],"eval-and-refocus":["Shift-Enter"],"eval-before":["CmdOrCtrl-Shift-Enter"],"eval-all":["CmdOrCtrl-Shift-Alt-Enter"],stop:["CmdOrCtrl-Alt-!"],"stop-all":["CmdOrCtrl-Shift-Alt-!"],"focus-up":["Alt-Up"],"focus-down":["Alt-Down"],"move-up":["CmdOrCtrl-Alt-Up"],"move-down":["CmdOrCtrl-Alt-Down"],"add-before":["CmdOrCtrl-Alt-Shift-Up"],"add-after":["CmdOrCtrl-Alt-Shift-Down"],delete:["CmdOrCtrl-Alt-Backspace"],"set-mode-markdown":["Alt-M m"],"set-mode-tex":["Alt-M t"],"set-mode-javascript":["Alt-M j"],"shrink-inputs":["CmdOrCtrl-Alt-Left"],"enlarge-inputs":["CmdOrCtrl-Alt-Right"],"collapse-inputs":["CmdOrCtrl-Shift-Alt-Left"],"expand-inputs":["CmdOrCtrl-Shift-Alt-Right"],settings:["CmdOrCtrl-,"],help:[]}}function s(e){const t={"create-cell":e.command_handler__create_cell,"reset-cell":e.command_handler__reset_cell,reset:e.command_handler__reset,clear:e.command_handler__clear,save:e.command_handler__save,"save-as":e.command_handler__save_as,eval:e.command_handler__eval,"eval-and-refocus":e.command_handler__eval_and_refocus,"eval-before":e.command_handler__eval_before,"eval-all":e.command_handler__eval_all,stop:e.command_handler__stop,"stop-all":e.command_handler__stop_all,"focus-up":e.command_handler__focus_up,"focus-down":e.command_handler__focus_down,"move-up":e.command_handler__move_up,"move-down":e.command_handler__move_down,"add-before":e.command_handler__add_before,"add-after":e.command_handler__add_after,delete:e.command_handler__delete,"set-mode-markdown":e.command_handler__set_mode_markdown,"set-mode-tex":e.command_handler__set_mode_tex,"set-mode-javascript":e.command_handler__set_mode_javascript,"shrink-inputs":e.command_handler__shrink_inputs,"enlarge-inputs":e.command_handler__enlarge_inputs,"collapse-inputs":e.command_handler__collapse_inputs,"expand-inputs":e.command_handler__expand_inputs,settings:e.command_handler__show_settings_dialog,help:e.command_handler__show_help};for(const n in t)t[n]=t[n].bind(e);return t}n.d(t,{$R:()=>s,ZD:()=>i,p7:()=>r})},3612:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(6973);const i="file:///home/ed/code/logbook/src/help-window.js";function s(){window.open(new URL("../help.html",(0,r.h)(i)))}},7027:(e,t,n)=>{n.a(e,(async(e,t)=>{try{n(2358);var r=n(3653),i=n(3088),s=n(6179),o=n(53),a=e([r,i,s,o]);async function l(){await o.LogbookManager._initialize_singleton();const{view_var_name:e,view_var_value_edit:t,view_var_value_output:n,autoeval_var_name:r}=o.LogbookManager,i=new URLSearchParams(document.location.search).get(e)??document.body?.getAttribute(e)??document.documentElement.getAttribute(e),s=new URLSearchParams(document.location.search).get(r)??document.body?.getAttribute(r)??document.documentElement.getAttribute(r);switch(i){case t:o.LogbookManager.singleton.expand_input_output_split(!0);break;case n:o.LogbookManager.singleton.collapse_input_output_split();break;default:i&&console.warn(`ignored unknown "${e}" parameter "${i}"`)}(s||""===s)&&(s===(!1).toString()||o.LogbookManager.singleton.inject_command("eval-all")),globalThis.logbook_manager=o.LogbookManager.singleton}[r,i,s,o]=a.then?(await a)():a,"interactive"===document.readyState||"complete"===document.readyState?await l():window.addEventListener("load",(async e=>{await l()}),{once:!0}),t()}catch(c){t(c)}}),1)},53:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{LogbookManager:()=>y});var i=n(6179),s=n(3653),o=n(6092),a=n(4429),l=n(2050),c=n(1117),h=n(7273),u=n(4571),d=n(3231),p=n(3082),m=n(7569),f=n(345),g=n(1951),O=n(3612),v=n(6973),b=(n(7654),n(7451),e([i,s,o,a,l,u,d,p]));[i,s,o,a,l,u,d,p]=b.then?(await b)():b;class y{static get singleton(){return this.#re||this._initialize_singleton(),this.#re}static#re;static async _initialize_singleton(){return this.#re||(this.#re=new this,await this.#re.initialize()),this.#re}static view_var_name="view";static view_var_value_edit="edit";static view_var_value_output="output";static autoeval_var_name="autoeval";constructor(){this.#ie=!0,this.#se=null,this.#oe=!1,this.reset_global_state(),this.#ae=new o.l,this.#le=this.#ae.subscribe(this.#ce.bind(this)),p.Ll.subscribe((()=>{for(const e of this.constructor.get_cells())e.update_from_settings()})),this.#he=(0,c.$R)(this),this.#ue=new l.Qm(window,this.#de.bind(this));const e=new l.d4((0,c.ZD)());this.push_key_map(e),this.#ue.attach(),this.#pe=null}#me;#ie;#se;#oe;#fe;#ge;#ae;#le;#he;#ue;#Oe;#ve;#be;#ye;#we;#xe;#ke;#pe;static resize_handle_class="resize-handle";static resize_handle_dragging_state_class="dragging";static collapse_cells_state_class="collapse-cells";static input_output_split_css_variable="--input-output-split";static is_stacked_css_variable="--is-stacked";static max_split_ratio=.85;static collapse_split_ratio=.001;static split_step_size_ratio=.05;static split_neutral_ratio=.5;static get_cells(){return[...document.getElementsByTagName(i.p.custom_element_name)]}get header_element(){return this.#ge}get main_element(){return this.#Oe}get editable(){return this.#ie}set_editable(e){e=!!e,this.#ie=e;for(const t of this.constructor.get_cells())t.set_editable(e)}get active_cell(){return this.#se}set_active_cell(e){this.#se=e??null;for(const e of this.constructor.get_cells())e.set_active(e===this.active_cell)}get global_state(){return this.#fe}reset_global_state(){this.#fe={}}reset(){this.stop(),u.Th.reset_classes(),this.reset_global_state(),this.#ke=void 0;for(const e of this.constructor.get_cells())e.reset();return this}clear(){this.reset(),(0,h.gX)(this.main_element),this.main_element.appendChild(this.#be);const e=this.create_cell();e.focus(),this.set_active_cell(e),this.expand_input_output_split()}stop(){try{this.#pe?.stop(),this.#pe=null}catch(e){console.warn("error while stopping this.#multi_eval_manager",this.#pe,e)}for(const e of this.constructor.get_cells())try{e.stop()}catch(t){console.warn("error while stopping cell",e,t)}}async initialize(){if(this.#oe)throw new Error("initialize() called more than once");this.#oe=!0;try{this.#me=document.querySelector("head script").outerHTML,await this.#Se(),this.#_e(),this.#Ae(),this.set_editable(this.editable);const e=this.constructor.get_cells(),t=e.find((e=>e.active))??e[0]??this.create_cell();this.set_active_cell(t),t.focus(),this.#be.addEventListener("mousedown",(e=>this.#Ce(e))),window.addEventListener("beforeunload",(e=>(e.preventDefault(),e.returnValue="")))}catch(e){w(e)}}reset_key_map_stack(){this.#ue.reset_key_map_stack()}push_key_map(e){this.#ue.push_key_map(e)}pop_key_map(){return this.#ue.pop_key_map()}remove_key_map(e,t=!1){return this.#ue.remove_key_map(e,t)}static header_element_tag="header";static main_element_tag="main";create_cell(e=null){e??={},e.output_element&&console.warn("options.output_element ignored"),e.active_element_mapper&&console.warn("options.active_element_mapper ignored");const{parent:t,before:n}=e,{cell_parent:r,cell_before:s,output_element_parent:o,output_element_before:a}=this.#Qe({parent:t,before:n}),l=i.p.create_output_element({parent:o,before:a});return i.p.create_cell({editable:this.editable,...e,parent:r,before:s,output_element:l,active_element_mapper:this.constructor.active_element_mapper.bind(this.constructor)})}async#Se(){if(document.querySelector(this.constructor.header_element_tag))throw new Error(`bad format for document: element with id ${this.constructor.header_element_tag} already exists`);if(document.querySelector(this.constructor.main_element_tag))throw new Error(`bad format for document: element with id ${this.constructor.main_element_tag} already exists`);document.head||document.documentElement.insertBefore(document.createElement("head"),document.documentElement.firstChild),document.querySelector('link[rel="icon"]')||(0,h.T1)({parent:document.head,tag:"link",attrs:{rel:"icon",href:(0,v.h)("dist/favicon.ico")}}),document.body||document.documentElement.appendChild(document.createElement("body")),this.#Oe=document.createElement(this.constructor.main_element_tag),this.#be=(0,h.T1)({parent:this.#Oe,attrs:{class:[this.constructor.resize_handle_class]}});const e=[];for(const t of document.querySelectorAll(i.p.custom_element_name)){const{cell_parent:n,cell_before:r,output_element_parent:s,output_element_before:o}=this.#Qe({parent:this.#Oe});n.insertBefore(t,r);const a=t.output_element;if(a)s.insertBefore(a,o);else{const n=i.p.create_output_element({parent:s,before:o});e.push((()=>{t.output_element=n}))}t.set_active_element_mapper(this.constructor.active_element_mapper.bind(this.constructor))}for(;document.body.firstChild;){const e=document.body.firstChild;e.parentNode.removeChild(e),(e.nodeType!==Node.TEXT_NODE||e.nodeValue.trim().length>0)&&console.warn("removed extraneous node from incoming document",e)}this.#ge=document.createElement(this.constructor.header_element_tag),document.body.appendChild(this.#ge),document.body.appendChild(this.#Oe),e.forEach((e=>e()));for(const e of this.constructor.get_cells()){e.establish_tool_bar();const t=e.output_element;e.output_element=null,e.output_element=t}}#$e;#Te;#_e(e=!1){if(e){const e=["default-src 'self' 'unsafe-eval'","style-src   'self' 'unsafe-inline' *","script-src  'self' 'unsafe-inline' 'unsafe-eval' *","img-src     'self' data: blob: *","media-src   'self' data: blob: *","connect-src data:"].join("; ");(0,h.T1)({parent:document.head,tag:"meta",attrs:{"http-equiv":"Content-Security-Policy",content:e}})}}#Ae(){if(!this.header_element)throw new Error("bad format for document: header element does not exist");this.#ye=d.j.create(this.header_element,(0,c.p7)(),c.ZD,null),this.#we=this.#ye.commands.subscribe(this.#de.bind(this)),this.#xe=this.#ye.selects.subscribe(this.#Me.bind(this)),this.#ve=s.d.create_for(this.#ge,{modified:!0,running:!0}),this.#ge.appendChild(this.#ve)}static#Pe=[i.p.custom_element_name,`.${i.p.output_element_class}`].join(",");#Ee(){const e=document.querySelector(this.constructor.main_element_tag);if(!e||e!==this.main_element)throw new Error("bad format for document");if(!this.main_element)throw new Error("bad format for document: this.main_element not set");const{view_var_name:t,autoeval_var_name:n}=this.constructor,r=document.body?.getAttribute(t)??document.documentElement.getAttribute(t),s=document.body?.getAttribute(n)??document.documentElement.getAttribute(n),o=`${"string"!=typeof r?"":` ${t}${r?`="${r.replaceAll('"',"&quot;")}"`:""}`}${"string"!=typeof s?"":` ${n}${s?`="${s.replaceAll('"',"&quot;")}"`:""}`}`,a=[...this.main_element.querySelectorAll(this.constructor.#Pe)].map((e=>e instanceof i.p?e.get_outer_html():e.outerHTML)).join("\n");return`<!DOCTYPE html>\n<html lang="en"${o}>\n<head>\n    <meta charset="utf-8">\n    ${this.#me}\n</head>\n<body>\n${a}\n</body>\n</html>\n`}get_suggested_file_name(){return window.location.pathname.split("/").slice(-1)[0]}#Ce(e){if(!this.active_cell)throw new Error("resize failed: no active cell");e.preventDefault(),e.stopPropagation(),this.#be.classList.add(this.constructor.resize_handle_dragging_state_class);const t=this.get_resize_metrics(),{mouse_x_min:n,mouse_x_max:r,split_collapse_px:i}=t;let s=e.x;const o=e=>{const i=s<n||s>r?0:e.x-s;s=e.x;const o=this.get_current_split_px()+i;this.#Ze(o,t)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(e=>{document.removeEventListener("mousemove",o),this.#be.classList.remove(this.constructor.resize_handle_dragging_state_class)}),{once:!0})}is_collapsed(){return this.#Oe.classList.contains(this.constructor.collapse_cells_state_class)}is_stacked(){return window.getComputedStyle(document.documentElement).getPropertyValue(this.constructor.is_stacked_css_variable).trim().length>0}get_current_split_px(){if(!this.active_cell)throw new Error("no active cell");const e=this.constructor.#Be(this.active_cell);return parseFloat(window.getComputedStyle(e).width)}step_input_output_split_size(e=!1){const t=this.get_resize_metrics(),{split_step_size_px:n}=t,r=this.get_current_split_px(),i=e?r+n:r-n;this.#Ze(i,t)}collapse_input_output_split(){const e=this.get_resize_metrics(),t=e.split_min_px;this.#Ze(t,e)}expand_input_output_split(e=!1){const t=this.get_resize_metrics(),n=this.get_current_split_px();let r=t.split_neutral_px;n>=r&&(r=t.split_max_px),(e||n<r)&&this.#Ze(r,t)}set_input_output_split(e){this.#Ze(e,this.get_resize_metrics())}#Ze(e,t){if("number"!=typeof e)throw new Error("new_split_px must be a number");if("object"!=typeof t)throw new Error("resize_metrics must be an object");const{split_min_px:n,split_max_px:r,split_collapse_px:i}=t,s=e<n?`${n}px`:e>r?`${r}px`:`${e}px`;document.documentElement.style.setProperty(this.constructor.input_output_split_css_variable,s),e<=t.split_collapse_px?this.#Oe.classList.add(this.constructor.collapse_cells_state_class):this.#Oe.classList.remove(this.constructor.collapse_cells_state_class)}get_resize_metrics(){const e=window.getComputedStyle(this.#Oe),t=parseFloat(e.marginLeft),n=parseFloat(e.width),r=n*this.constructor.max_split_ratio;return{split_min_px:0,split_max_px:r,split_collapse_px:n*this.constructor.collapse_split_ratio,split_step_size_px:n*this.constructor.split_step_size_ratio,split_neutral_px:n*this.constructor.split_neutral_ratio,mouse_x_min:t+0,mouse_x_max:t+r}}static cell_container_class="cell-container";static cell_input_container_class="cell-input-container";#Qe(e=null){const{parent:t=this.main_element,before:n=null}=e??{},r=(0,h.T1)({parent:t,before:n,attrs:{class:[this.constructor.cell_container_class]}}),i=(0,h.T1)({parent:r,attrs:{class:[this.constructor.cell_input_container_class]}});return{cell_container:r,cell_input_container:i,cell_parent:i,cell_before:null,output_element_parent:r,output_element_before:null}}static#Ie(e){if(!(e instanceof i.p))throw new Error("cell must be an instance of EvalCellElement");const t=e.parentElement?.parentElement;if(!t||!t.parentElement||!t.classList.contains(this.cell_container_class))throw new Error("incorrect cell structure");return t}static#Be(e){const t=this.#Ie(e).querySelector(`.${this.cell_input_container_class}`);if(!t)throw new Error("incorrect cell structure");return t}static active_element_mapper(e){return this.#Ie(e)}inject_key_event(e){if(!this.contains(e.target)){const t=this.active_cell;t&&(e={...e,key:e.key,metaKey:e.metaKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,preventDefault:event.preventDefault.bind(event),stopPropagation:event.stopPropagation.bind(event),target:t,currentTarget:t})}this.#ue.inject_key_event(e)}#de(e){let t=!1;try{t=this.#Re(e)}catch(t){console.error("error processing command",e,t)}t||(0,g.V)()}inject_command(e){return this.#Re({command:e,target:this.active_cell})}#Re(e){if(e){if(e.target){const t={...e,target:this.active_cell},n=this.#he[t.command];return!!n&&n(t)}return!1}return!1}#Me(){const e=this.constructor.get_cells(),t=this.active_cell,n=e.indexOf(t),r=this.editable;this.#ye.set_menu_state("clear",{enabled:r}),this.#ye.set_menu_state("reset",{enabled:r}),this.#ye.set_menu_state("reset-cell",{enabled:r}),this.#ye.set_menu_state("focus-up",{enabled:t&&n>0}),this.#ye.set_menu_state("focus-down",{enabled:t&&n<e.length-1}),this.#ye.set_menu_state("move-up",{enabled:t&&n>0}),this.#ye.set_menu_state("move-down",{enabled:t&&n<e.length-1}),this.#ye.set_menu_state("add-before",{enabled:r&&t}),this.#ye.set_menu_state("add-after",{enabled:r&&t}),this.#ye.set_menu_state("delete",{enabled:r&&t}),this.#ye.set_menu_state("eval-and-refocus",{enabled:r&&t}),this.#ye.set_menu_state("eval",{enabled:r&&t}),this.#ye.set_menu_state("eval-before",{enabled:r&&t}),this.#ye.set_menu_state("eval-all",{enabled:r&&t}),this.#ye.set_menu_state("stop",{enabled:t?.can_stop}),this.#ye.set_menu_state("stop-all",{enabled:e.some((e=>e.can_stop))}),this.#ve.set_for("modified",!1),this.#ye.set_menu_state("save",{enabled:!1})}emit_eval_state(e,t){this.#ae.dispatch({cell:e,eval_state:t})}#ce(e){const{cell:t,eval_state:n}=e,r=this.constructor.get_cells().some((e=>e.evaluator_foreground));this.#ve.set_for("running",r)}command_handler__create_cell(e){let t=null;const n=e.target?.adjacent_cell?.(!0);n&&(t=this.constructor.#Ie(n));const r=this.create_cell({before:t});return!!r&&(r.focus(),this.set_active_cell(r),!0)}command_handler__reset_cell(e){const t=e.target;return!!(t&&t instanceof i.p)&&(t.reset(),!0)}command_handler__reset(e){return this.reset(),!0}async command_handler__clear(e){return await m.QH.run("Clear document?")?(this.clear(),!0):(this.active_cell?.focus(),!1)}async command_handler__save(e){const t=await f.H.save(this.#Ee.bind(this),{file_handle:this.#ke,prompt_options:{suggestedName:this.get_suggested_file_name()}}),{canceled:n,file_handle:r,stats:i}=t;return n||(this.#ke=r??void 0),!0}async command_handler__save_as(e){return this.#ke=void 0,await f.H.save(this.#Ee.bind(this),{prompt_options:{suggestedName:this.get_suggested_file_name()}}),!0}async command_handler__eval(e){const t=e.target;return!!(t&&t instanceof i.p)&&(await t.eval({global_state:this.global_state}),!0)}async command_handler__eval_and_refocus(e){const t=e.target;if(t&&t instanceof i.p){await t.eval({global_state:this.global_state});const e=t.adjacent_cell(!0)??this.create_cell();return e.focus(),e.scroll_into_view(),!0}return!1}async command_handler__eval_before(e){const t=e.target;if(t&&t instanceof i.p){this.stop();const e=this.#pe=new a.T;try{this.reset_global_state();for(const n of this.constructor.get_cells()){if(e.stopped)break;if(n.focus(),n===t)break;await n.eval({global_state:this.global_state})}}finally{this.#pe=null}return!0}return!1}async command_handler__eval_all(e){const t=e.target;if(t&&t instanceof i.p){this.stop();const e=this.#pe=new a.T;try{this.reset_global_state();for(const t of this.constructor.get_cells()){if(e.stopped)break;t.focus(),t.scroll_into_view(),await t.eval({global_state:this.global_state})}}finally{this.#pe=null}return!0}return!1}command_handler__stop(e){const t=e.target;return!!(t&&t instanceof i.p)&&(t.stop(),!0)}command_handler__stop_all(e){return this.stop(),!0}command_handler__focus_up(e){const t=e.target.adjacent_cell(!1);return!!t&&(t.focus(),t.scroll_into_view(),!0)}command_handler__focus_down(e){const t=e.target.adjacent_cell(!0);return!!t&&(t.focus(),t.scroll_into_view(),!0)}command_handler__move_up(e){const t=e.target;if(t){const e=t.adjacent_cell(!1);if(e){const n=this.constructor.#Ie(t),r=n.parentElement,i=this.constructor.#Ie(e);return(0,h.V1)(n,{parent:r,before:i}),t.focus(),t.scroll_into_view(),!0}return!1}return!1}command_handler__move_down(e){const t=e.target;if(t){const e=t.adjacent_cell(!0);if(e){const n=this.constructor.#Ie(t),r=n.parentElement,i=this.constructor.#Ie(e).nextSibling;return(0,h.V1)(n,{parent:r,before:i}),t.focus(),t.scroll_into_view(),!0}return!1}return!1}command_handler__add_before(e){const t=e.target;if(!t)return!1;const n=this.constructor.#Ie(t),r=this.create_cell({before:n});return r.focus(),r.scroll_into_view(),!0}command_handler__add_after(e){const t=e.target;if(!t)return!1;const n=this.constructor.#Ie(t),r=this.create_cell({before:n.nextSibling,parent:n.parentElement});return r.focus(),r.scroll_into_view(),!0}async command_handler__delete(e){const t=e.target;if(!t)return!1;if((t.get_text().trim().length>0||t.output_element?.firstChild)&&!await m.QH.run("Cannot undo delete of non-empty cell.\nContinue?"))return t.focus(),!1;let n=t.adjacent_cell(!0)??t.adjacent_cell(!1);this.constructor.#Ie(t).remove();let r=!1;return n||(n=this.create_cell(),r=!0),n.focus(),n.scroll_into_view(),this.set_active_cell(n),r&&this.expand_input_output_split(),!0}command_handler__set_mode_markdown(e){const t=e.target;return!!(t&&t instanceof i.p)&&(t.input_type="markdown",!0)}command_handler__set_mode_tex(e){const t=e.target;return!!(t&&t instanceof i.p)&&(t.input_type="tex",!0)}command_handler__set_mode_javascript(e){const t=e.target;return!!(t&&t instanceof i.p)&&(t.input_type="javascript",!0)}command_handler__shrink_inputs(e){return this.step_input_output_split_size(!1),this.active_cell.focus(),this.active_cell.scroll_into_view(),!0}command_handler__enlarge_inputs(e){return this.step_input_output_split_size(!0),this.active_cell.focus(),this.active_cell.scroll_into_view(),!0}command_handler__collapse_inputs(e){return this.collapse_input_output_split(),!0}command_handler__expand_inputs(e){return this.expand_input_output_split(),this.active_cell.focus(),this.active_cell.scroll_into_view(),!0}command_handler__show_settings_dialog(e){return p.DL.run(),!0}command_handler__show_help(e){return(0,O.Z)(),!0}}function w(e){console.error("initialization failed",e.stack),(0,h.gX)(document.body);const t=document.createElement("h1");t.innerText="Initialization Failed";const n=document.createElement("pre");n.classList.add("error-message"),n.innerText=e.stack,document.body.appendChild(t),document.body.appendChild(n)}r()}catch(x){r(x)}}))},266:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{l:()=>h});var i=n(7273),s=n(6092),o=n(4429),a=n(4571),l=n(6227),c=e([s,o,a,l]);[s,o,a,l]=c.then?(await c)():c;class h{constructor(e){if(!(e instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");Object.defineProperties(this,{element:{value:e,enumerable:!0}}),this.#ze=new s.l,this.#a=!1}#ze;#a;get new_stoppables(){return this.#ze}get stopped(){return this.#a}stop(){this.#a=!0}static sprintf(e,...t){return(0,l.g)(e,...t)}static async sleep(e){return(0,i.li)(1e3*e)}static async delay_ms(e){return(0,i.li)(e)}static async next_tick(){return(0,i.rf)()}static async next_micro_tick(){return(0,i.pX)()}static get_svg_string(e){let t=(new XMLSerializer).serializeToString(e);return t=t.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),t=t.replace(/NS\d+:href/g,"xlink:href"),t}static clear_element(e){return(0,i.gX)(e)}static scroll_element_into_view(e){return(0,i.v0)(e)}static set_element_attrs(e,t){return(0,i.Dz)(e,t)}static update_element_style(e,t){return(0,i.Hp)(e,t)}static create_element(e=null,t=!1){return(0,i.T1)(e,t)}static create_element_mapping(e=null){return this.create_element_mapping(e,!0)}static create_element_child(e,t=null,n=!1){return void 0!==t?.parent||void 0!==t?.before?console.warn("options.parent and/or options.before override element argument"):t={...t??{},parent:e,before:null},(0,i.T1)(t,n)}static create_element_child_mapping(e,t=null){return this.create_element_child(e,t,!0)}static create_element_child_text_node(e,t,n=null){return(0,i.Xc)(e,t,n)}static normalize_element_text(e){return(0,i.rb)(e)}abort_if_stopped(e){if(this.stopped)throw e??="operation",new Error(`${e} invoked on stopped output context`)}AIS(e){if("function"!=typeof e)throw new Error("f must be a function");return e instanceof(async()=>{}).constructor?async(...t)=>{this.abort_if_stopped(e.name);const n=await e.apply(null,t);return this.abort_if_stopped(e.name),n}:(...t)=>{this.abort_if_stopped(e.name);const n=e.apply(null,t);return this.abort_if_stopped(e.name),n}}sprintf(e,...t){return this.abort_if_stopped(),this.constructor.sprintf(e,...t)}async sleep(e){return this.abort_if_stopped(),this.constructor.delay_ms(1e3*e)}async delay_ms(e){return this.abort_if_stopped(),this.constructor.delay_ms(e)}async next_tick(){return this.abort_if_stopped(),this.constructor.next_tick()}async next_micro_tick(){return this.abort_if_stopped(),this.constructor.next_micro_tick()}clear(){return this.abort_if_stopped(),this.constructor.clear_element(this.element),this}scroll_into_view(){return this.abort_if_stopped(),this.constructor.scroll_element_into_view(this.element),this}set_attrs(e){return this.abort_if_stopped(),this.constructor.set_element_attrs(this.element,e),this}update_style(e){return this.abort_if_stopped(),this.constructor.update_element_style(this.element,e),this}create_child(e=null,t=!1){return this.abort_if_stopped(),this.constructor.create_element_child(this.element,e,t)}create_child_mapping(e=null){return this.abort_if_stopped(),this.create_child(e,!0)}create_child_ocx(e=null){this.abort_if_stopped(),e??={};const t=this.element.getAttribute("style");return t&&(e.attrs={...e.attrs??{},style:t}),new this.constructor(this.create_child(e))}create_child_text_node(e,t=null){return this.abort_if_stopped(),this.constructor.create_element_child_text_node(this.element,e,t)}normalize_text(){return this.abort_if_stopped(),this.constuctor.normalize_element_text(this.element),this}async render(e,t,n=null){const r=this.renderer_for_type(e);return this.invoke_renderer(r,t,n).catch((e=>this.render_error(e)))}async render_text(e,t=null){return e??="","string"!=typeof e&&(e=e?.toString()??""),this.render("text",e,t)}async render_error(e,t=null){return this.render("error",e,t)}async render_value(e,t=null){let n;return n=void 0===e?"[undefined]":"function"==typeof e?.toString?e.toString():"[unprintable value]",this.render_text(n,t)}async println(e,t=null){return this.render_text((e??"")+"\n",t)}async printf(e,...t){if(null!=e){"string"!=typeof e&&(e=e.toString());const n=this.constructor.sprintf(e,...t);return this.render_text(n).catch((e=>this.render_error(e)))}}async print__(e=null){this.create_child({tag:"hr"})}async javascript(e,t=null){return this.render("javascript",e,t)}async markdown(e,t=null){return this.render("markdown",e,t)}async tex(e,t=null){return this.render("tex",e,t)}async image_data(e,t=null){return this.render("image_data",e,t)}async graphviz(e,t=null){return this.render("graphviz",e,t)}async plotly(e,t=null){return this.render("plotly",e,t)}async canvas_image(e,t=null){return this.render("canvas-image",e,t)}renderer_for_type(e){this.abort_if_stopped();const t=a.Th.class_from_type(e);if(t)return new t;throw new Error(`unknown output type "${e}"`)}async invoke_renderer(e,t,n=null){return this.abort_if_stopped(),this.#ze.dispatch(new o.X(e)),e.render(this,t,n).catch((t=>{throw e.stop(),t})).finally((()=>this.abort_if_stopped()))}async invoke_renderer_for_type(e,t,n=null){this.abort_if_stopped();const r=this.renderer_for_type(e);return this.invoke_renderer(r,t,n).finally((()=>this.abort_if_stopped()))}}r()}catch(e){r(e)}}))},4571:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{F8:()=>w,Gh:()=>S,O4:()=>_,Th:()=>f,Tp:()=>x,YP:()=>k,np:()=>y});var i=n(3393),s=n(1672),o=n(9072),a=n(6187),l=n(9947),c=n(6919),h=n(3050),u=n(8567),d=n(7012),p=n(6358),m=e([i,s,o,a,l,c,h,u,d,p]);[i,s,o,a,l,c,h,u,d,p]=m.then?(await m)():m;const f=i.T,g=[s.t,o.F,a.$,l._,c.f,h.I,u.L,d.G,p.b];function O(e){return e?.prototype instanceof f}let v,b;function y(e){return b.get(e)}function w(){return[...v]}function x(e){if(!Array.isArray(e))throw new Error("new_renderer_classes must be an Array");const t=new Set;let n=!1;for(const r of e){if(!O(r))throw new Error("new_renderer_classes must be an Array of Renderer subsclasses");if(t.has(r.type))throw new Error(`new_renderer_classes contains multiple entries with type "${r.type}"`);r.type===o.F.type&&(n=!0),t.add(r.type)}n||(e=[...e,o.F]),v=[...e],b=new Map(v.map((e=>[e.type,e])))}function k(){x(g)}function S(e){if(!O(e))throw new Error("renderer_class must be a subclass of Renderer");x([e,...v.filter((t=>t.type!==e.type))])}function _(e){x(v.filter((t=>t.type!==e.type)))}k(),r()}catch(A){r(A)}}))},6358:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{b:()=>o});var i=n(3393),s=e([i]);i=(s.then?(await s)():s)[0];class o extends i.T{static type="canvas-image";async render(e,t,n=null){if("function"!=typeof t)throw new Error("canvas_renderer must be a function");n??={},void 0!==n.tag&&console.warn("overriding options.tag value",n.tag),void 0!==n.attrs?.["data-type"]&&console.warn('overriding options.attrs["data-type"] value',n.attrs["data-type"]),void 0!==n.attrs?.src&&console.warn("overriding options.src value",n.attrs.src);const r={...n,tag:"img",attrs:{...n.attrs??{},"data-type":this.type}},i=e.constructor.create_element({tag:"canvas",attrs:{...n.attrs??{},width:n.attrs?.width,height:n.attrs?.height},style:n.style});return await t(i),r.attrs.src=i.toDataURL(),e.create_child(r)}}r()}catch(e){r(e)}}))},5717:(e,t,n)=>{n.d(t,{M:()=>o});var r=n(7273),i=n(6973);let s;async function o(){return s||(await(0,r.h0)(document.head,(0,i.h)("dist/d3.min.js")),s=globalThis.d3),s}},9072:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{F:()=>o});var i=n(3393),s=e([i]);i=(s.then?(await s)():s)[0];class o extends i.T{static type="error";static error_element_class="error";static error_element_text_color="red";async render(e,t,n=null){console.log(t);const r=n?.style,i=[];t instanceof Error?t.stack?i.push(t.stack):i.push(t.message||"error"):i.push(t??"error");const s=i.join("\n"),o=e.create_child({tag:"pre",attrs:{"data-type":this.type},style:{...r??{},color:this.constructor.error_element_text_color}});return o.innerText=s,o}}r()}catch(e){r(e)}}))},8567:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{L:()=>a});var i=n(3393),s=n(6105),o=e([i]);i=(o.then?(await o)():o)[0];class a extends i.T{static type="graphviz";async render(e,t,n=null){const r=n?.style,i=e.create_child({attrs:{"data-type":this.type},style:r,set_id:!0}),o=`#${i.id}`,a=[];t?.node_config&&a.push(`node ${t.node_config}`);for(const e of t?.nodes??[])if("string"==typeof e){const t=e;a.push(t)}else{const[t,n]=e;a.push(`${t} [${n}]`)}for(const[e,n,r]of t?.edges??[])a.push(`${e}->${n}${r?`[${r}]`:""}`);const l=`digraph { ${a.join(";")} }`;return await(0,s.s)(o,l,{}),i}}r()}catch(e){r(e)}}))},6105:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(5717),i=n(7273),s=n(6973);let o=!1;async function a(e,t,n){const a=await async function(){const e=await(0,r.M)();return o||(await(0,i.h0)(document.head,(0,s.h)("dist/graphviz.umd.js")),await(0,i.h0)(document.head,(0,s.h)("dist/d3-graphviz.min.js")),o=!0),e}(),{transition:l="main",ease:c=a.easeLinear,delay:h=0,duration:u=0,logEvents:d=!0}=n??{};return new Promise(((n,r)=>{try{function i(...e){r(new Error(e[0]))}const s=a.select(e).graphviz({useWorker:!1,useSharedWorker:!1});s.transition((function(){return a.transition(l).ease(c).delay(h).duration(u)})).logEvents(d).onerror(i).on("initEnd",(function(){s.renderDot(t).onerror(i).on("end",n)}))}catch(o){r(o)}}))}},3050:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{I:()=>o});var i=n(3393),s=e([i]);i=(s.then?(await s)():s)[0];class o extends i.T{static type="image-data";async render(e,t,n=null){const r=n?.style,i=e.create_child({attrs:{"data-type":this.type}}),s=e.constructor.create_element_child(i,{tag:"canvas",style:r}).getContext("2d"),o=Array.isArray(t)?t:[t];for(const{x:e=0,y:t=0,image_data:n}of o)s.putImageData(n,e,t);return i}}r()}catch(e){r(e)}}))},6919:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{f:()=>w});var i=n(6973),s=n(53),o=n(3393),a=n(1672),l=n(7783),c=n(266),h=n(4429),u=n(1946),d=n(5717),p=n(7165),m=e([s,o,a,l,c,h]);[s,o,a,l,c,h]=m.then?(await m)():m;const f="file:///home/ed/code/logbook/src/renderer/javascript-renderer/_.js",g="../../../src/",O=new URL("../../../lib/",(0,i.h)(f)),v=new URL(g,(0,i.h)(f)),b=new Function("path","return import(path);"),y=Object.getPrototypeOf((async function*(){})).constructor;class w extends o.T{static type="javascript";async render(e,t,n=null){const{style:r,inline:i,global_state:o=s.LogbookManager.singleton.global_state}=n??{},a=o[this.type]??={};!r&&i||(e=e.create_child_ocx({tag:i?"span":"div",attrs:{"data-type":this.type},style:r})),e.new_stoppables.subscribe((e=>{this.add_stoppable(e)})),this.stop_states.subscribe((({stopped:t})=>{t&&e.stop()}));const l=await this.#Ye(a,e,t),c=Object.entries(l),h=c.map((([e,t])=>e)),u=c.map((([e,t])=>t)),d=a,p=new y(...h,t).apply(d,u);for(;;){const{value:e,done:t}=await p.next();if(void 0!==e&&(t&&await l.render_text("\n>>> "),await l.render_value(e)),t)break}}async#Ye(e,t,n=""){const r=this,i=await(0,u.P)(),s=await(0,d.M)();return{ocx:t,source_code:n,Renderer:o.T,Plotly:i,d3:s,is_stopped:function(){return r.stopped},create_worker:t.AIS((async function(e){const t=new l.V(e);return r.add_stoppable(new h.X(t,(e=>e.terminate()))),t})),import_lib:t.AIS((async function(e){return b(new URL(e,O))})),import_src:t.AIS((async function(e){return b(new URL(e,v))})),import_location:t.AIS((async function(e){return b(new URL(e,document.location))})),vars:t.AIS((function(...t){return Object.assign(e,...t),t})),sprintf:t.sprintf.bind(t),sleep:t.sleep.bind(t),delay_ms:t.delay_ms.bind(t),next_tick:t.next_tick.bind(t),next_micro_tick:t.next_micro_tick.bind(t),render:t.render.bind(t),render_text:t.render_text.bind(t),render_error:t.render_error.bind(t),render_value:t.render_value.bind(t),println:t.println.bind(t),printf:t.printf.bind(t),print__:t.print__.bind(t),javascript:t.javascript.bind(t),markdown:t.markdown.bind(t),tex:t.tex.bind(t),image_data:t.image_data.bind(t),graphviz:t.graphviz.bind(t),plotly:t.plotly.bind(t),canvas_image:t.canvas_image.bind(t),canvas_tools:p}}}r()}catch(e){r(e)}}))},7783:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{V:()=>e});var i=n(1896),s=n(4889),o=n(6973);class e{constructor(e=null){const{keepalive:t=!1}=e??{};this.keepalive=!!t,Object.defineProperties(this,{id:{value:(0,i.pk)(),enumerable:!0}}),this._worker=new Worker(this.constructor.#Le),this._terminated=!1,this._current_expression=void 0}get terminated(){return this._terminated}terminate(){this._terminated||(this._reset_event_handlers(),this._current_expression?.terminate(),this._current_expression=void 0,this._worker.terminate(),this._worker=void 0,this._terminated=!0)}async eval(e,t){if(this.terminated)throw new Error(`eval worker ${this.id}: worker has been terminated`);if(this._current_expression)throw new Error(`eval worker ${this.id}: an expression evaluation is already in process`);const n=new s.i;let r=!1;const o=()=>{this._current_expression=void 0,this._reset_event_handlers(),r||n.reject(new Error(`eval worker ${this.id} / expression ${a}: evaluation terminated`)),this.keepalive||this.terminate()},a=(0,i.pk)(),l={request:"eval",id:a,worker_id:this.id,expression:e,eval_context:t};return this._current_expression={...l,terminate(){o()}},this._worker.onmessage=e=>{const t=e.data;"value"in t?n.resolve(t.value):n.reject(t.error),r=!0,o()},this._worker.onerror=e=>{n.reject(new Error(`eval worker ${this.id} / expression ${a}: error in worker`)),r=!0,o()},this._worker.onmessageerror=e=>{n.reject(new Error(`eval worker ${this.id} / expression ${a}: serialization error in worker`)),r=!0,o()},this._worker.postMessage(l),n.promise}stream_eval(e,t){if(this.terminated)throw new Error(`eval worker ${this.id}: worker has been terminated`);if(this._current_expression)throw new Error(`eval worker ${this.id}: an expression evaluation is already in process`);const n=[],r=[];let o=!1;const a=()=>{for(o=!0,this._current_expression=void 0,this._reset_event_handlers();r.length>0;)r.shift().resolve({done:!0});this.keepalive||this.terminate()},l=e=>{o?console.warn(`eval worker ${this.id} / expression ${c}: result received after done`,e):(r.length>0?"value"in e?r.shift().resolve({value:e.value}):r.shift().reject(e.error):n.push(e),e.error&&a())},c=(0,i.pk)(),h={request:"stream_eval",id:c,worker_id:this.id,expression:e,eval_context:t};return this._current_expression={...h,terminate(){a()}},this._worker.onmessage=e=>{const t=e.data;t.done?a():l(t)},this._worker.onerror=e=>{l({error:new Error(`eval worker ${this.id} / expression ${c}: error in worker`)}),a()},this._worker.onmessageerror=e=>{l({error:new Error(`eval worker ${this.id} / expression ${c}: serialization error in worker`)}),a()},this._worker.postMessage(h),{[Symbol.asyncIterator]:()=>({next(){if(n.length>0){const e=n.shift();return"value"in e?Promise.resolve({value:e.value}):Promise.reject(e.error)}if(o){for(;r.length>0;)r.shift().reject(new Error(`eval worker ${this.id} / expression ${c}: no further results available`));return Promise.resolve({done:!0})}{const e=new s.i;return r.push(e),e.promise}},return:()=>({done:!0})})}}_reset_event_handlers(){this.terminated||(this._worker.onmessage=void 0,this._worker.onerror=void 0,this._worker.onmessageerror=void 0)}static async _async_init_static(){const e=(0,o.h)("dist/web-worker.js");return fetch(e).then((e=>e.text())).catch((e=>{throw new Error("unable to fetch worker code")})).then((t=>{const n=`{\n    const original_importScripts = globalThis.importScripts;\n    globalThis.importScripts = (...urls) => {\n        return original_importScripts( ...urls.map(url => new URL(url, "${e.href}")) );\n    };\n}\n`;this.#Le=`data:text/javascript,${encodeURIComponent(n+t)}`}))}static#Le}await e._async_init_static(),r()}catch(e){r(e)}}),1)},8727:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{j:()=>o}),n(7273),n(6973);var i=n(8452);async function s(){await n.e(894).then(n.bind(n,6894)),await n.e(196).then(n.bind(n,8196))}await s();const o=i.Z;r()}catch(a){r(a)}}),1)},6187:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{$:()=>m});var i=n(3393),s=n(53),o=n(9947),a=n(6243),l=n(266),c=n(4889),h=e([i,s,o,a,l]);[i,s,o,a,l]=h.then?(await h)():h;const u="inline-tex",d="block-tex",p="eval-code";class m extends i.T{static type="markdown";async render(e,t,n=null){t??="";const{style:r,global_state:i=s.LogbookManager.singleton.global_state}=n??{},o=e.create_child({attrs:{"data-type":this.type},style:r}),h=this;let m=Promise.resolve();const f={async:!0,async walkTokens(e){const t=m,n=new c.i;switch(m=n,await t,e.type){case u:case d:e.global_state=i;break;case p:{const t=document.createElement("div"),n=new l.l(t);let r;try{r=n.renderer_for_type(e.output_type)}catch(e){await n.render_error(e)}if(r){n.new_stoppables.subscribe((e=>{h.add_stoppable(e)}));const t={global_state:i};await n.invoke_renderer(r,e.text,t).catch((e=>n.render_error(e))),r?.stop()}e.markup=t.innerHTML;break}}n.resolve()}},g=await a.T.parse(t,f);return o.innerHTML=g,o}}a.T.use({extensions:[{name:u,level:"inline",start:e=>e.indexOf("$"),tokenizer(e,t){const n=e.match(/^\$+([^$]+?)\$+/);if(n)return{type:u,raw:n[0],text:n[1].trim(),global_state:void 0}},renderer:e=>o._.render_to_string(e.text,e.global_state,{displayMode:!1,throwOnError:!1})},{name:d,level:"block",start:e=>e.indexOf("$$"),tokenizer(e,t){const n=e.match(/^\$\$([^$]+?)\$\$/);if(n)return{type:d,raw:n[0],text:n[1].trim(),global_state:void 0}},renderer:e=>`<p>${o._.render_to_string(e.text,e.global_state,{displayMode:!0,throwOnError:!1})}</p>`},{name:p,level:"block",start:e=>e.match(/^[`]{3}[ ]*[!]/)?.index,tokenizer(e,t){const n=e.match(/^[`]{3}[ ]*[!]([ \t]*[^\n]*[ \t]*)?[\n](.*?)[`]{3}/s);if(n){const e=(n[1]?.trim()??"")||"javascript";return{type:p,output_type:e,raw:n[0],text:n[2],markup:void 0}}},renderer:e=>e.markup}]}),r()}catch(e){r(e)}}))},6243:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{T:()=>e});var i=n(7273),s=n(6973);await(0,i.h0)(document.head,(0,s.h)("dist/marked.min.js"));const e=globalThis.marked;r()}catch(e){r(e)}}),1)},7012:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{G:()=>a});var i=n(3393),s=n(1946),o=e([i]);i=(o.then?(await o)():o)[0];class a extends i.T{static type="plotly";async render(e,t,n=null){if("object"!=typeof t)throw new Error("plotly_config must be an object");const r=n?.style;let i,o,a,l;"data"in t&&Array.isArray(t.data)?({data:i,layout:o={},config:a={},frames:l=[]}=t):(i=t,a={}),o??={},o.plot_bgcolor??="rgba(0, 0, 0, 0)",o.paper_bgcolor??="rgba(0, 0, 0, 0)",a.displayModeBar=!1;const c=e.create_child({attrs:{"data-type":this.type}}),h=e.constructor.create_element_child(c,{style:r}),u=await(0,s.P)();return await u.newPlot(h,{data:i,layout:o,config:a,frames:l}),c}}r()}catch(e){r(e)}}))},1946:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(7273),i=n(6973);let s;async function o(){return s||(await(0,r.h0)(document.head,(0,i.h)("dist/plotly.js")),s=globalThis.Plotly),s}},3393:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{T:()=>a});var i=n(4429),s=n(4571),o=e([i,s]);[i,s]=o.then?(await o)():o;class a extends i.T{static type;get type(){return this.constructor.type}async render(e,t,n=null){throw new Error("MUST BE IMPLEMENTED IN SUBCLASS")}static reset_classes(){(0,s.YP)()}static class_from_type(e){return(0,s.np)(e)}static get_classes(){return(0,s.F8)()}static set_classes(e){(0,s.Tp)(e)}static add_class(e){(0,s.Gh)(e)}static remove_class(e){(0,s.O4)(e)}static get_class_types(){return(0,s.F8)().map((e=>e.type))}static remove_class_for_type(e){return this.remove_class(this.class_from_type(e))}}r()}catch(e){r(e)}}))},9947:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{_:()=>l});var i=n(3393),s=n(53),o=n(8727),a=e([i,s,o]);[i,s,o]=a.then?(await a)():a;class l extends i.T{static type="tex";async render(e,t,n=null){t??="";const{style:r,global_state:i=s.LogbookManager.singleton.global_state}=n??{},o=this.constructor.render_to_string(t,i,{displayMode:!0,throwOnError:!1}),a=e.create_child({attrs:{"data-type":this.type},style:r});return a.innerHTML=o,a}static render_to_string(e,t,n=null){return n??={},n.macros??=t[this.type]??={},o.j.renderToString(e,n)}}r()}catch(e){r(e)}}))},1672:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{t:()=>o});var i=n(3393),s=e([i]);i=(s.then?(await s)():s)[0];class o extends i.T{static type="text";static plain_text_css_class="plain-text";async render(e,t,n=null){const r=n?.style,i=e.create_child({tag:"span",attrs:{"data-type":this.type,class:this.constructor.plain_text_css_class},style:r});return i.innerText=t,i}}r()}catch(e){r(e)}}))},3082:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{DL:()=>o.D,Ll:()=>i.Ll,oj:()=>i.oj});var i=n(4294),s=n(7223),o=n(9914),a=e([i,s,o]);[i,s,o]=a.then?(await a)():a,r()}catch(e){r(e)}}))},9914:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{D:()=>u});var i=n(7273),s=n(7569),o=n(2007),a=n(4294),l=n(1951),c=(n(6973),e([a]));const h=[{name:"Appearance",settings:[{id:"theme",label:"Theme",type:"select",options:(0,(a=(c.then?(await c)():c)[0]).OJ)().map((e=>({value:e,label:e}))),settings_path:["theme"],analyze:a.$A}]},{name:"Editor",settings:[{id:"editor_options_indent",label:"Indent",type:"text",settings_path:["editor_options","indent"],analyze:a.W6,convert_to_number:!0},{id:"editor_options_tab_size",label:"Tab size",type:"text",settings_path:["editor_options","tab_size"],analyze:a.Dn,convert_to_number:!0},{id:"editor_options_indent_with_tabs",label:"Indent with tabs",type:"checkbox",settings_path:["editor_options","indent_with_tabs"],analyze:a.gd},{id:"editor_options_tab_key_indents",label:"TAB key indents",type:"checkbox",settings_path:["editor_options","tab_key_indents"],analyze:a.zi},{id:"editor_options_mode",label:"Mode",type:"select",options:a.N5.map((e=>({value:e,label:e}))),settings_path:["editor_options","mode"],analyze:a.hh},{id:"editor_options_line_numbers",label:"Line numbers",type:"checkbox",settings_path:["editor_options","line_numbers"],analyze:a.Mn}]},{name:"TeX Formatting",settings:[{id:"formatting_options_align",label:"Horizontal alignment",type:"select",options:a.Kp.map((e=>({value:e,label:e}))),settings_path:["formatting_options","align"],analyze:a.yj},{id:"formatting_options_indent",label:"Indentation",type:"text",settings_path:["formatting_options","indent"],analyze:a.fe}]}];class u extends s.Vq{static settings_dialog_css_class="settings-dialog";static run(e,t){const n=document.querySelector(`header #ui .${this.settings_dialog_css_class}`);if(n){const e=s.Vq.instance_from_element(n);if(!e)throw new Error(`unexpected: Dialog.instance_from_element() returned null for element with class ${this.settings_dialog_css_class}`);return e.promise}return(new this).run()}_populate_dialog_element(){const e=(0,a.oj)();this._dialog_element.classList.add(this.constructor.settings_dialog_css_class),this._dialog_text_container.innerText="Settings";for(const t of h){const{name:n,settings:r}=t,c=this._dialog_form,h=(0,i.T1)({parent:c,attrs:{"data-section":n}}),u=(0,i.T1)({parent:c,attrs:{class:["error-message"]}});for(const t of r){const{id:n,label:r,type:i,settings_path:c,options:d,analyze:p,convert_to_number:m}=t,f=h;let g;g="select"===i?(0,s.cK)(f,n,{label:r,options:d}):(0,s.L_)(f,n,{label:r,type:i}),"checkbox"===i?g.checked=(0,o.Z)(e,c):g.value=(0,o.Z)(e,c);const O=async e=>{const t=(0,a.oj)(),n=async e=>{u.classList.add("active"),u.innerText=e;const t=document.getElementById(g.id);!this._completed&&t?(t.focus(),t instanceof HTMLInputElement&&"text"===t.type&&t.select(),await(0,l.V)()):await s.aR.run(`settings update failed: ${e}`)},h="checkbox"===i?g.checked:g.value;if(p){const e=p(h,r);if(e)return void await n(e)}(0,o.$)(t,c,m?+h:h);try{await(0,a.ZA)(t),u.classList.remove("active")}catch(e){await n(e.message)}};g.addEventListener("change",O),g.addEventListener("blur",O)}}(0,i.T1)({parent:this._dialog_form,tag:"input",attrs:{type:"button",value:"Done"}}).onclick=e=>this._dialog_element.close(),this._dialog_element.onclose=e=>this._complete()}}r()}catch(e){r(e)}}))},4294:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{$A:()=>T,Dn:()=>g,Kp:()=>k,Ll:()=>u,Mn:()=>w,N5:()=>b,OJ:()=>$,RF:()=>a,Ug:()=>c,W6:()=>f,WD:()=>l,ZA:()=>I,fe:()=>A,gd:()=>O,hh:()=>y,oj:()=>B,yj:()=>S,zi:()=>v});var i=n(6092),s=n(3782),o=e([i]);i=(o.then?(await o)():o)[0];const a="system",l="light",c="dark",h={theme:a,editor_options:{indent:4,tab_size:8,indent_with_tabs:!1,tab_key_indents:!1,mode:"default",line_numbers:!0},formatting_options:{align:"left",indent:"0em"}},u=new i.l,d=/^([+-]?[0-9]+[.][0-9]*[Ee][+-]?[0-9]+|[+-]?[.][0-9]+[Ee][+-]?[0-9]+|[+-]?[0-9]+[Ee][+-]?[0-9]+|[+-]?[0-9]+[.][0-9]*|[+-]?[.][0-9]+|[+-]?[0-9]+)$/;function p(e,t){const{require_integer:n,reject_negative:r,reject_zero:i,reject_positive:s}=t??{};let o;if("number"==typeof e)o=e;else{if("string"!=typeof e)return!1;if(!e.trim().match(d))return!1;o=Number.parseFloat(e)}return!(isNaN(o)||n&&!Number.isInteger(o)||s&&o>0||i&&0===o||r&&o<0)}function m(e,t,n){if(!t.includes(e))return`${n??"value"} must be one of: ${t.join(", ")}`}function f(e,t){if(!p(e,{require_integer:!0,reject_negative:!0}))return`${t??"indent"} must be a non-negative integer`}function g(e,t){if(!p(e,{require_integer:!0,reject_negative:!0}))return`${t??"tab_size"} must be a non-negative integer`}function O(e,t){if("boolean"!=typeof e)return`${t??"indent_with_tabs"} must be a boolean value`}function v(e,t){if("boolean"!=typeof e)return`${t??"tab_key_indents"} must be a boolean value`}const b=["default","emacs","vim"];function y(e,t){return m(e,b,t??"mode")}function w(e,t){if("boolean"!=typeof e)return`${t??"line_numbers"} must be true or false`}function x(e,t){if("object"!=typeof e)return`${t??"editor_options"} must be an object`;if(!Object.keys(e).every((e=>["indent","tab_size","indent_with_tabs","tab_key_indents","mode","line_numbers"].includes(e))))return`${t??"editor_options"} may only have the keys "indent", "tab_size", "indent_with_tabs", "tab_key_indents", "mode" and "line_numbers"`;if("indent"in e){const t=f(e.indent);if(t)return t}if("tab_size"in e){const t=g(e.tab_size);if(t)return t}if("indent_with_tabs"in e){const t=O(e.indent_with_tabs);if(t)return t}if("tab_key_indents"in e){const t=v(e.tab_key_indents);if(t)return t}if("mode"in e){const t=y(e.mode);if(t)return t}if("line_numbers"in e){const t=w(e.line_numbers);if(t)return t}}const k=["left","center","right"];function S(e,t){return m(e,k,t??"align")}const _=["pt","pc","in","cm","mm","em","ex","mu"];function A(e,t){if(!_.every((e=>2===e.length)))throw new Error("unexpected: valid units contains a string whose length is not 2");const n=`${t??"indent"} must be a string containing a non-negative number followed by one of: ${_.join(", ")}`;if("string"!=typeof e)return n;const r=(e=e.trim()).slice(0,-2),i=e.slice(-2);return p(r,{reject_negative:!0})&&_.includes(i)?void 0:n}function C(e,t){if("object"!=typeof e)return`${t??"formatting_options"} must be an object`;if(!Object.keys(e).every((e=>["align","indent"].includes(e))))return`${t??"formatting_options"} may only have the keys "align" and "indent"`;if("align"in e){const t=S(e.align);if(t)return t}if("indent"in e){const t=A(e.indent);if(t)return t}}const Q=[a,l,c];function $(){return[...Q]}function T(e,t){return m(e,Q,t??"theme")}function M(e,t){if("object"!=typeof e)return`${t??"settings"} must be an object`;if(!Object.keys(e).every((e=>["editor_options","formatting_options","theme"].includes(e))))return`${t??"settings"} may only have the keys "editor_options", "formatting_options" and "theme"`;if(!("editor_options"in e))return`${t??"settings"} must contain an "editor_options" property`;{const t=x(e.editor_options);if(t)return t}if(!("formatting_options"in e))return`${t??"settings"} must contain a "formmating_options" property`;{const t=C(e.formatting_options);if(t)return t}if(!("theme"in e))return`${t??"settings"} must contain a "theme" property`;{const t=T(e.theme);if(t)return t}}async function P(e){return s.zS.put(s.Fx,e)}async function E(){try{const e=await s.zS.get(s.Fx);if(!M(e))return e}catch(e){}return await P(h),h}(()=>{const e=M(h);if(e)throw new Error(`initial_settings: ${e}`)})();let Z=await E();function B(){return e=Z,JSON.parse(JSON.stringify(e));var e}async function I(e){const t=M(e);if(t)throw new Error(t);await P(e),Z=e,u.dispatch()}r()}catch(R){r(R)}}),1)},3782:(e,t,n)=>{n.d(t,{Fx:()=>r,qr:()=>i,zS:()=>l});const r="settings",i="themes",s="17b5977c-98a0-49a2-acaf-59285ff6bb1f",o=`settings-database-${s}`,a=`settings-database-store-${s}`,l=new class{constructor(e,t){if("string"!=typeof e||"string"!=typeof t)throw new Error("database_name and database_store_name must be strings");Object.defineProperties(this,{database_name:{value:e},database_store_name:{value:t,enumerable:!0},_startup_promise:{value:new Promise(((n,r)=>{const i=indexedDB.open(e,1);i.onerror=()=>r(i.error),i.onsuccess=()=>n(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(t)}}))}})}async with_object_store(e,t){const n=await this._startup_promise;return new Promise(((r,i)=>{const s=n.transaction(this.database_store_name,e);s.oncomplete=()=>r(),s.onabort=s.onerror=()=>i(s.error),t(s.objectStore(this.database_store_name))}))}async get(e){let t;return await this.with_object_store("readonly",(n=>{t=n.get(e)})),t.result}async put(e,t){return this.with_object_store("readwrite",(n=>{n.put(t,e)}))}async delete(e){return this.with_object_store("readwrite",(t=>{t.delete(e)}))}async clear(){return this.with_object_store("readwrite",(e=>{e.clear()}))}async keys(){let e;return await this.with_object_store("readonly",(t=>{e=t.getAllKeys()})),e.result}}(o,a)},7223:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var r=n(6092),i=n(1896),s=n(3782),o=n(7273),a=n(4294),l=e([r,a]);[r,a]=l.then?(await l)():l;const c=/^[A-Za-z_-][A-Za-z0-9_-]*$/,h=/^--theme-[A-Za-z_-][A-Za-z0-9_-]*$/,u=document.documentElement,d="data-theme",p="/*\n  --- THEME PROPERTIES ---\n\n  ELEMENT:\n  by -- body\n  hd -- header\n  tl -- tool-bar\n  ts -- tool-bar toggle-switch\n  ty -- tool-bar type selector\n  ti -- tool-bar indicator\n  cl -- eval-cell/editor-cell\n  ou -- output element\n  mb -- menubar\n  mu -- menu\n  mi -- menuitem\n  ms -- menuitem separator\n  dg -- dialog\n  st -- settings dialog\n  gr -- general graphics element\n  rh -- resize handle\n\n  STYLE FEATURE:        STYLE FEATURE ATTRIBUTE:\n  bg -- background      c -- color\n  fg -- foreground      w -- width\n  bd -- border          s -- style (e.g., dashed)\n  sh -- shadow          r -- radius\n  fl -- fill\n  st -- stroke\n  ct -- caret\n\n  METRIC FEATURE:\n  w -- width\n  h -- height\n  m -- margin\n  p -- padding\n  g -- gap\n\n  OTHER FEATURE:\n  ff -- font-family\n  lh -- line-height\n\n  ---\n\n  PROPERTIES:\n  --theme-{ELEMENT}-{STYLE FEATURE}{STYLE FEATURE ATTRIBUTE}...\n  --theme-{ELEMENT}-{METRIC FEATURE}...\n  --theme-{ELEMENT}-{OTHER FEATURE}...\n*/\n",m=[a.WD,a.Ug];m[0];const f={"--theme-by-bgc":["#f9f9f9","#0e0e0e"],"--theme-by-fgc-error":["hsl(  0deg   0% 100% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-by-bgc-error":["hsl(  0deg  60%  50% / 100%)","hsl(  0deg  60%  50% / 100%)"],"--theme-by-bdc-error":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-hd-h":["1.5rem","1.5rem"],"--theme-hd-bgc":["#f8f8f8","#2e2e2e"],"--theme-rh-bgc":["grey","grey"],"--theme-rh-bgc-hover":["black","lightgrey"],"--theme-tl-p":["0","0"],"--theme-tl-g":["0.5em","0.5em"],"--theme-tl-bgc":["#f8f8f8","#1e1e1e"],"--theme-tl-bgc-mix":["10%","25%"],"--theme-cl-p":["0em","0em"],"--theme-cl-lh":["140%","140%"],"--theme-cl-ff":["monospace","monospace"],"--theme-cl-bdw":["1px","1px"],"--theme-cl-bdr":["0.5em","0.5em"],"--theme-cl-bds":["solid","solid"],"--theme-cl-bdc":["#ccc","#4a4a4a"],"--theme-cl-bdc-active":["#898989","hsl(  0deg   0%  55% / 100%)"],"--theme-cl-bdc-focus":["black","hsl(  0deg   0%  65% / 100%)"],"--theme-cl-fgc":["black","#eee"],"--theme-cl-bgc":["hsl(  0deg   0%  99% / 100%)","#111"],"--theme-cl-p-inter":["0em","0em"],"--theme-cl-ctc":["red","red"],"--theme-ou-p":["0.5em","0.5em"],"--theme-ou-fgc":["black","#eee"],"--theme-ou-bgc":["white","black"],"--theme-ty-fgc-markdown":["black","white"],"--theme-ty-bgc-markdown":["hsl(205deg  85%  90% / 100%)","hsl(205deg  80%  30% / 100%)"],"--theme-ty-fgc-tex":["black","white"],"--theme-ty-bgc-tex":["hsl( 45deg  55%  80% / 100%)","hsl( 45deg  35%  30% / 100%)"],"--theme-ty-fgc-javascript":["black","white"],"--theme-ty-bgc-javascript":["hsl( 85deg  55%  80% / 100%)","hsl(120deg  45%  25% / 100%)"],"--theme-ts-w":["1.5rem","1.5rem"],"--theme-ts-h":["1.5rem","1.5rem"],"--theme-ts-flc-autoeval":["transparent","transparent"],"--theme-ts-stc-autoeval":["hsl(  0deg   9%  82% / 100%)","hsl(  0deg   9%  82% / 100%)"],"--theme-ts-flc-autoeval-checked":["transparent","transparent"],"--theme-ts-stc-autoeval-checked":["hsl(  0deg  60%  70% / 100%)","hsl(  0deg  60%  70% / 100%)"],"--theme-ti-bdc":["hsl(  0deg   9%  82% / 100%)","hsl(  0deg   0%  60% / 100%)"],"--theme-ti-bgc":["transparent","transparent"],"--theme-ti-bdc-running":["black","#d5d5d5"],"--theme-ti-bgc-running":["hsl(120deg  94%  40% / 100%)","hsl(120deg  94%  40% / 100%)"],"--theme-ti-bdc-modified":["black","#d5d5d5"],"--theme-ti-bgc-modified":["hsl(  0deg  60%  85% / 100%)","hsl(  0deg  55%  45% / 100%)"],"--theme-ty-bgc":["hsl(  0deg   0%  97% / 100%)","hsl(  0deg   0%  97% / 100%)"],"--theme-mu-bgc":["#f8f8f8","#2e2e2e"],"--theme-mu-bdc":["grey","grey"],"--theme-mu-shc":["lightgrey","#343434"],"--theme-mi-fgc":["black","#eee"],"--theme-mi-fgc-disabled":["#bbb","#666"],"--theme-mi-bgc-selected":["#0004","#fff4"],"--theme-ms-bgc":["#3334","#ccc4"],"--theme-dg-shc":["grey","grey"],"--theme-st-bgc":["canvas","canvas"],"--theme-st-bdc-section":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-bgc-section":["hsl(  0deg   0%  98% / 100%)","hsl(  0deg   0%  98% / 100%)"],"--theme-st-fgc-section":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-bdc-section-heading":["#aaa","#aaa"],"--theme-st-bgc-section-heading":["hsl(  0deg   0% 100% / 100%)","hsl(  0deg   0% 100% / 100%)"],"--theme-st-fgc-section-heading":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-fgc-section-setting":["fieldtext","fieldtext"],"--theme-st-bgc-section-setting":["field","field"],"--theme-st-bdc-warning":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-fgc-warning":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-bgc-warning":["hsl( 60deg  80%  50% / 100%)","hsl( 60deg  80%  50% / 100%)"],"--theme-st-bdc-error":["hsl(  0deg   0%   0% / 100%)","hsl(  0deg   0%   0% / 100%)"],"--theme-st-fgc-error":["hsl(  0deg   0% 100% / 100%)","hsl(  0deg   0% 100% / 100%)"],"--theme-st-bgc-error":["hsl(  0deg  60%  50% / 100%)","hsl(  0deg  60%  50% / 100%)"],"--theme-gr-fgc":["black","white"],"--theme-gr-bgc":["transparent","transparent"]},g=Object.keys(f),O=m.map(((e,t)=>({name:e,props:Object.fromEntries(Object.entries(f).map((([e,n])=>[e,n[t]])))}))),v=O[0];function b(e){return JSON.parse(JSON.stringify(e))}function y(e,t){if("object"!=typeof e||"object"!=typeof t)throw new Error("specified themes must be objects");if(e===t)return!0;for(const n of g)if(!(n in e.props)||!(n in t.props)||e.props[n]!==t.props[n])return!1;return!0}async function w(e=null){e??=[],Q(e);const t=e.filter((e=>{const t=O.find((t=>t.name===e.name));return!t||!y(t,e)}));return s.zS.put(s.qr,t)}async function x(){return s.zS.get(s.qr).then((e=>{if(!e)throw new Error("themes_settings not found");return e}))}const k=`themes-${(0,i.kE)()}`;function S(){return document.getElementById(k)}function _(){if(S())throw new Error(`element with id ${k} already exists`);if(!document.head)throw new Error("document.head missing");return(0,o.T1)({tag:"style",parent:document.head,attrs:{id:k}})}function A(e){if("object"!=typeof e||!Object.entries(e).every((([e,t])=>"string"==typeof e&&e.match(h)&&"string"==typeof t)))throw new Error("theme_props must have valid CSS property names starting with --theme- and with string values")}function C(e){const{name:t,props:n}=e;if(t===a.RF)throw new Error(`"${a.RF}" is a reserved theme name`);if("string"!=typeof t||!t.match(c))throw new Error("invalid theme name");A(n);for(const e of g)if(!(e in n))throw new Error("theme is missing expected properties")}function Q(e){if(!Array.isArray(e))throw new Error("themes must be an array of valid themes");const t=new Set;for(const n of e){if(t.has(n.name))throw new Error("themes must not contain entries with duplicated names");t.add(n.name),C(n)}}function $(e){const{name:t,props:n}=e;A(n);let r=!1;const i={...n};for(const e of g)if(!(e in n)){r=!0;const n=t in O?O[t][e]:v[e];i[e]=n??"unset"}return r?{name:t,props:i}:null}function T(e){if(!Array.isArray(e)||e.length<=0)throw new Error("themes must be an array of valid themes with at least one element");let t=!1;const n=e.map((e=>{const n=$(e);return n?(t=!0,n):e}));return t?n:null}function M(e,t=!1){const{name:n,props:r}=e;return`:root${t?"":`[${d}="${n}"]`} {\n${Object.entries(r).map((([e,t])=>`    ${e}: ${t};`)).join("\n")}\n}\n`}async function P(e,t){if(Q(e),!(t instanceof HTMLElement)||"style"!==t.tagName?.toLowerCase())throw new Error("invalid themes_style_element");const n=[];n.push(p),n.push(M(e[0],!0));for(const t of e)n.push(M(t));t.textContent=n.join("\n")}async function E(){return x().catch((e=>w(null).catch((e=>{throw console.error(e),new Error("unable to initialize themes storage")})).then((()=>[])))).then((e=>{const t=[];for(const n of O){const r=e.find((e=>e.name===n.name))??n;t.push(r)}for(const n of e)m.includes(n.name)||t.push(n);const n=T(t);return n?w(n).catch((e=>{throw console.error(e),new Error("unable to rewrite adjusted themes")})).then((()=>n)):(Q(t),t)})).then((e=>{const t=S()??_();return P(e,t).catch((e=>{throw console.error(e),new Error("unable to write to style element")})).then((()=>e))}))}const Z=globalThis.matchMedia("(prefers-color-scheme: dark)");function B(e){e?u.setAttribute(d,a.Ug):u.removeAttribute(d)}function I(){switch((0,a.oj)().theme){default:case a.RF:B(Z.matches);break;case a.WD:B(!1);break;case a.Ug:B(!0)}}const R=new r.l;let z;async function Y(e){e=e.map((e=>b(e))),await w(e),P(e,S()),z=e,R.dispatch()}async function L(){return Y(O)}z=await E(),Z.addEventListener("change",I),a.Ll.subscribe(I),I(),globalThis.reset_to_standard_themes_settings=L,t()}catch(D){t(D)}}),1)},2358:(e,t,n)=>{var r=n(9886),i=n(7273),s=n(1951);n(6973);class o extends HTMLElement{static custom_element_name="toggle-switch";static create(e=null){const{parent:t,class:n,title_for_on:r,title_for_off:s,svg:o}=e??{},a=(0,i.T1)({parent:t,tag:this.custom_element_name,attrs:{role:"switch","aria-checked":!1,tabindex:"0",title:s,class:n??""}});return a.#c.add(a,"change",(e=>{a.title=a.get_state()?r:s})),a}constructor(){super(),this.#c=new r.w,this.#c.add(this,"click",(e=>{this.is_enabled()?(this.set_state(),e.preventDefault(),e.stopPropagation()):(0,s.V)()})),this.#c.add(this,"keydown",(e=>{[" ","Enter"].includes(e.key)&&(this.is_enabled()?(this.set_state(),e.preventDefault(),e.stopPropagation()):(0,s.V)())}))}#c;is_enabled(){return!this.hasAttribute("disabled")||this.getAttribute("disabled")===(!1).toString()}enable(e){e?(this.removeAttribute("disabled"),this.removeAttribute("aria-disabled"),this.setAttribute("tabindex","0"),this.style.removeProperty("filter")):(this.setAttribute("disabled",!0),this.setAttribute("aria-disabled",!0),this.removeAttribute("tabindex"),this.style.setProperty("filter","opacity(0.45)"))}get_state(){return"true"===this.getAttribute("aria-checked")}set_state(e=null){const t=this.get_state();e??=!t,e=!!e,this.setAttribute("aria-checked",e),t!==e&&this.dispatchEvent(new Event("change"))}connectedCallback(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.get_state()),this.#c.attach()}disconnectedCallback(){this.#c.detach()}adoptedCallback(){this.#c.attach()}attributeChangedCallback(e,t,n){}static get observedAttributes(){return["xyzzy"]}static _init_static(){globalThis.customElements.define(this.custom_element_name,this)}}o._init_static()},3653:(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.d(t,{d:()=>l}),n(2358);var i=n(9886),s=n(9026),o=n(7273),a=(n(6973),e([s]));s=(a.then?(await a)():a)[0];class l extends HTMLElement{static custom_element_name="tool-bar";static indicator_control__class="tool-bar-indicator";static indicator_control__attribute__value="data-indicator-value";static toggle_switch__autoeval__class="tool-bar-toggle-autoeval";static create_for(e,t){const n=document.createElement(this.custom_element_name);if(!n)throw new Error("error creating tool bar");try{return n.set_target(e,t),n}catch(e){throw n.remove(),e}}constructor(){super(),this.#De=null,this.#c=new i.w,this.#Xe()}#c;#qe;set_type(e){this.set_for("type",e)}#De;get target(){return this.#De}set_target(e,t=null){if(null!=e&&!(e instanceof EventTarget))throw new Error("target must be null, undefined, or and instance of EventTarget");e?this.#De!==e&&(this.#De=e,this.#je(t)):(this.#De=null,this.#Xe())}get_for(e,t){if(!(e in this.#qe))throw new Error("unknown name");return this.#qe[e].get()}set_for(e,t){if(!(e in this.#qe))throw new Error("unknown name");this.#qe[e].set(t)}enable_for(e,t){if(!(e in this.#qe))throw new Error("unknown name");this.#qe[e].enable(t)}#je(e=null){e??={},this.#Xe();try{for(const[t,n,r,i,s]of this.#Ne()){let o=e[t];if(o){"object"!=typeof o&&(o={});const e=n(o.on);"initial"in o&&i(e,o.initial),this.#qe[t]={name:t,control:e,get:r.bind(l,e),set:i.bind(l,e),enable:s.bind(l,e)}}}this.#c.add(this,"pointerdown",(e=>{this.#De.focus(),e.target instanceof l&&(e.preventDefault(),e.stopPropagation())}))}catch(e){throw this.#Xe(),e}}#Xe(){this.#c.remove_all(),(0,o.gX)(this),this.#qe={}}#Ne(){const e=this.constructor;return[["type",this.#We.bind(this),e.#Ue,e.#Ve,e.#Ge],["run",this.#He.bind(this),e.#Fe,e.#Je,e.#Ke],["autoeval",this.#et.bind(this),e.#tt,e.#nt,e.#rt],["modified",this.#it.bind(this),e.#st,e.#ot,e.#at],["running",this.#lt.bind(this),e.#ct,e.#ht,e.#ut]]}#et(e=null){const t=(0,o.T1)({parent:this,tag:"input",attrs:{type:"checkbox",title:"autoeval..."}});return t.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\n    Adapted from: https://commons.wikimedia.org/wiki/File:Ei-pencil.svg\n    Alexander Madyankin, Roman Shamin, MIT <http://opensource.org/licenses/mit-license.php>, via Wikimedia Commons\n--\x3e\n<svg\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1"\n  viewBox="0 0 50 50"\n>\n  <path class="accent-stroke accent-fill" fill="#0000" d="M9.6 40.4 l2.5 -9.9 L27 15.6 l7.4 7.4 -14.9 14.9 -9.9 2.5z m4.3 -8.9 l-1.5 6.1 6.1 -1.5 L31.6 23 27 18.4 13.9 31.5z"/>\n  <path class="accent-stroke accent-fill" fill="#0000" d="M17.8 37.3 c-.6 -2.5 -2.6 -4.5 -5.1 -5.1 l.5 -1.9 c3.2 .8 5.7 3.3 6.5 6.5 l-1.9 .5z"/>\n  <path class="accent-stroke accent-fill" fill="#0000" d="M29.298 19.287 l1.414 1.414 -13.01 13.02 -1.414 -1.412z"/>\n  <path class="accent-stroke accent-fill" fill="#0000" d="M11 39 l2.9 -.7 c-.3 -1.1 -1.1 -1.9 -2.2 -2.2 L11 39z"/>\n  <path class="accent-stroke accent-fill" fill="#0000" d="M35 22.4 L27.6 15 l3-3 .5.1 c3.6 .5 6.4 3.3 6.9 6.9 l.1 .5 -3.1 2.9z M30.4 15 l4.6 4.6 .9 -.9 c-.5 -2.3 -2.3 -4.1 -4.6 -4.6 l-.9 .9z"/>\n</svg>\n',e&&this.#c.add(t,"change",(t=>{e(t)||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())})),this.#c.add(t,"change",(e=>{t.title=t.checked?"autoeval off...":"autoeval on..."})),t}static#tt(e){return e.checked}static#nt(e,t){e.checked=!!t}static#rt(e,t){e.enable(t)}#We(e=null){const t=(0,o.T1)({parent:this,tag:"select",attrs:{title:"type..."},set_id:!0}),n=new Set((0,s.P)().map((e=>e.handled_input_types)).flat()).values();let r=!1;for(const e of n)(0,o.T1)({parent:t,tag:"option",attrs:{title:"type...",label:e,...r?{}:{selected:!r},value:e}}),r=!0;return e&&this.#c.add(t,"change",(t=>{e(t)||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())})),this.#c.add(t,"change",(e=>{t.title=`type ${t.value}`})),t}static#Ue(e){return e.value}static#Ve(e,t){if(![...e.options].map((e=>e.value)).includes(t))throw new Error("setting unknown/illegal value");e.value=t}static#Ge(e,t){t?(e.removeAttribute("disabled"),e.removeAttribute("aria-disabled")):(e.setAttribute("disabled",!0),e.setAttribute("aria-disabled",!0))}#lt(e=null){return this.#dt("running","running...","done...",e)}static#ct(e){return this.#pt(e)}static#ht(e,t){this.#mt(e,t)}static#ut(e,t){}#it(e=null){return this.#dt("modified","modified...","not modified...",e)}static#st(e){return this.#pt(e)}static#ot(e,t){this.#mt(e,t)}static#at(e,t){}#He(e=null){}static#Fe(e){}static#Je(e,t){}static#Ke(e,t){}#dt(e,t,n,r=null){const i=(0,o.T1)({parent:this,attrs:{title:n,class:[this.constructor.indicator_control__class,e]}});return r&&this.#c.add(i,"change",r),this.#c.add(i,"change",(e=>{i.title=this.constructor.#pt(i)?t:n})),i}static#pt(e){return!!e.getAttribute(this.indicator_control__attribute__value)}static#mt(e,t){if(t!==this.#pt(e)){e.setAttribute(this.indicator_control__attribute__value,t?"on":"");const n=new Event("change",{});e.dispatchEvent(n)}}connectedCallback(){this.#c.attach()}disconnectedCallback(){this.#c.detach()}adoptedCallback(){this.#c.attach()}attributeChangedCallback(e,t,n){}static get observedAttributes(){return["xyzzy"]}static _init_static(){globalThis.customElements.define(this.custom_element_name,this)}}l._init_static(),r()}catch(e){r(e)}}))}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return o[e](n,n.exports,l),n.exports}l.m=o,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(i,s,o)=>{var a;o&&((a=[]).d=-1);var l,c,h,u=new Set,d=i.exports,p=new Promise(((e,t)=>{h=t,c=e}));p[t]=d,p[e]=e=>(a&&e(a),u.forEach(e),p.catch((e=>{}))),i.exports=p,s((i=>{var s;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var s=[];s.d=0,i.then((e=>{o[t]=e,r(s)}),(e=>{o[n]=e,r(s)}));var o={};return o[e]=e=>e(s),o}}var a={};return a[e]=e=>{},a[t]=i,a})))(i);var o=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(s=()=>t(o)).r=0;var n=e=>e!==a&&!u.has(e)&&(u.add(e),e&&!e.d&&(s.r++,e.push(s)));l.map((t=>t[e](n)))}));return s.r?c:o()}),(e=>(e?h(p[n]=e):c(d),r(a)))),a&&a.d<0&&(a.d=0)},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>e+".main.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},s="logbook:",l.l=(e,t,n,r)=>{if(i[e])i[e].push(t);else{var o,a;if(void 0!==n)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var u=c[h];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==s+n){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",s+n),o.src=e),i[e]=[t];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{l.b=document.baseURI||self.location.href;var e={179:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var s=l.p+l.u(t),o=new Error;l.l(s,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[s,o,a]=n,c=0;if(s.some((t=>0!==e[t]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);a&&a(l)}for(t&&t(n);c<s.length;c++)i=s[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunklogbook=self.webpackChunklogbook||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.nc=void 0,l(7027)})();
//# sourceMappingURL=main.js.map